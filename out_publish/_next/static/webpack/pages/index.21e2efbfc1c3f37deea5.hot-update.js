webpackHotUpdate_N_E("pages/index",{

/***/ "./node_modules/react-trix-rte/dist/index.js":
/*!***************************************************!*\
  !*** ./node_modules/react-trix-rte/dist/index.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("!function(t,e){ true?module.exports=e(__webpack_require__(/*! react */ \"./node_modules/react-trix-rte/node_modules/react/index.js\")):undefined}(this,(function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=15)}([function(e,n){e.exports=t},function(t,e,n){t.exports=n(8)()},function(t,e){var n;n=function(){return this}();try{n=n||new Function(\"return this\")()}catch(t){\"object\"==typeof window&&(n=window)}t.exports=n},,function(t,e,n){(function(r){var i,o;(function(){}).call(this),function(){null==window.Set&&(window.Set=function(){function t(){this.clear()}return t.prototype.clear=function(){return this.values=[]},t.prototype.has=function(t){return-1!==this.values.indexOf(t)},t.prototype.add=function(t){return this.has(t)||this.values.push(t),this},t.prototype.delete=function(t){var e;return-1!==(e=this.values.indexOf(t))&&(this.values.splice(e,1),!0)},t.prototype.forEach=function(){var t;return(t=this.values).forEach.apply(t,arguments)},t}())}.call(this),function(e){function n(){}function i(t){if(\"object\"!=typeof this)throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof t)throw new TypeError(\"not a function\");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function o(t,e){for(;3===t._state;)t=t._value;return 0===t._state?void t._deferreds.push(e):(t._handled=!0,void p((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void s(e.promise,t)}a(e.promise,r)}else(1===t._state?a:s)(e.promise,t._value)})))}function a(t,e){try{if(e===t)throw new TypeError(\"A promise cannot be resolved with itself.\");if(e&&(\"object\"==typeof e||\"function\"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void u(t);if(\"function\"==typeof n)return void l(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t._state=1,t._value=e,u(t)}catch(e){s(t,e)}}function s(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&setTimeout((function(){t._handled||d(t._value)}),1);for(var e=0,n=t._deferreds.length;n>e;e++)o(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled=\"function\"==typeof t?t:null,this.onRejected=\"function\"==typeof e?e:null,this.promise=n}function l(t,e){var n=!1;try{t((function(t){n||(n=!0,a(e,t))}),(function(t){n||(n=!0,s(e,t))}))}catch(t){if(n)return;n=!0,s(e,t)}}var h=setTimeout,p=\"function\"==typeof r&&r||function(t){h(t,1)},d=function(t){\"undefined\"!=typeof console&&console&&console.warn(\"Possible Unhandled Promise Rejection:\",t)};i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var r=new i(n);return o(this,new c(t,e,r)),r},i.all=function(t){var e=Array.prototype.slice.call(t);return new i((function(t,n){function r(o,a){try{if(a&&(\"object\"==typeof a||\"function\"==typeof a)){var s=a.then;if(\"function\"==typeof s)return void s.call(a,(function(t){r(o,t)}),n)}e[o]=a,0==--i&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var i=e.length,o=0;o<e.length;o++)r(o,e[o])}))},i.resolve=function(t){return t&&\"object\"==typeof t&&t.constructor===i?t:new i((function(e){e(t)}))},i.reject=function(t){return new i((function(e,n){n(t)}))},i.race=function(t){return new i((function(e,n){for(var r=0,i=t.length;i>r;r++)t[r].then(e,n)}))},i._setImmediateFn=function(t){p=t},i._setUnhandledRejectionFn=function(t){d=t},t.exports?t.exports=i:e.Promise||(e.Promise=i)}(this),function(){var t=\"object\"==typeof window.customElements,e=\"function\"==typeof document.registerElement;t||e||(\n/**\n * @license\n * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\"undefined\"==typeof WeakMap&&function(){var t=Object.defineProperty,e=Date.now()%1e9,n=function(){this.name=\"__st\"+(1e9*Math.random()>>>0)+e+++\"__\"};n.prototype={set:function(e,n){var r=e[this.name];return r&&r[0]===e?r[1]=n:t(e,this.name,{value:[e,n],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},delete:function(t){var e=t[this.name];return!(!e||e[0]!==t)&&(e[0]=e[1]=void 0,!0)},has:function(t){var e=t[this.name];return!!e&&e[0]===t}},window.WeakMap=n}(),function(t){function e(t){v.push(t),m||(m=!0,l(n))}function n(){m=!1;var t=v;v=[],t.sort((function(t,e){return t.uid_-e.uid_}));var e=!1;t.forEach((function(t){var n=t.takeRecords();(function(t){t.nodes_.forEach((function(e){var n=h.get(e);n&&n.forEach((function(e){e.observer===t&&e.removeTransientObservers()}))}))})(t),n.length&&(t.callback_(n,t),e=!0)})),e&&n()}function r(t,e){for(var n=t;n;n=n.parentNode){var r=h.get(n);if(r)for(var i=0;i<r.length;i++){var o=r[i],a=o.options;if(n===t||a.subtree){var s=e(a);s&&o.enqueue(s)}}}}function i(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++y}function o(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function a(t,e){return f=new o(t,e)}function s(t){return g||((g=function(t){var e=new o(t.type,t.target);return e.addedNodes=t.addedNodes.slice(),e.removedNodes=t.removedNodes.slice(),e.previousSibling=t.previousSibling,e.nextSibling=t.nextSibling,e.attributeName=t.attributeName,e.attributeNamespace=t.attributeNamespace,e.oldValue=t.oldValue,e}(f)).oldValue=t,g)}function u(t,e){return t===e?t:g&&function(t){return t===g||t===f}(t)?g:null}function c(t,e,n){this.observer=t,this.target=e,this.options=n,this.transientObservedNodes=[]}if(!t.JsMutationObserver){var l,h=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))l=setTimeout;else if(window.setImmediate)l=window.setImmediate;else{var p=[],d=String(Math.random());window.addEventListener(\"message\",(function(t){if(t.data===d){var e=p;p=[],e.forEach((function(t){t()}))}})),l=function(t){p.push(t),window.postMessage(d,\"*\")}}var f,g,m=!1,v=[],y=0;i.prototype={observe:function(t,e){if(t=function(t){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(t)||t}(t),!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var n=h.get(t);n||h.set(t,n=[]);for(var r,i=0;i<n.length;i++)if(n[i].observer===this){(r=n[i]).removeListeners(),r.options=e;break}r||(r=new c(this,t,e),n.push(r),this.nodes_.push(t)),r.addListeners()},disconnect:function(){this.nodes_.forEach((function(t){for(var e=h.get(t),n=0;n<e.length;n++){var r=e[n];if(r.observer===this){r.removeListeners(),e.splice(n,1);break}}}),this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}},c.prototype={enqueue:function(t){var n=this.observer.records_,r=n.length;if(n.length>0){var i=u(n[r-1],t);if(i)return void(n[r-1]=i)}else e(this.observer);n[r]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener(\"DOMAttrModified\",this,!0),e.characterData&&t.addEventListener(\"DOMCharacterDataModified\",this,!0),e.childList&&t.addEventListener(\"DOMNodeInserted\",this,!0),(e.childList||e.subtree)&&t.addEventListener(\"DOMNodeRemoved\",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener(\"DOMAttrModified\",this,!0),e.characterData&&t.removeEventListener(\"DOMCharacterDataModified\",this,!0),e.childList&&t.removeEventListener(\"DOMNodeInserted\",this,!0),(e.childList||e.subtree)&&t.removeEventListener(\"DOMNodeRemoved\",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=h.get(t);e||h.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach((function(t){this.removeListeners_(t);for(var e=h.get(t),n=0;n<e.length;n++)if(e[n]===this){e.splice(n,1);break}}),this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case\"DOMAttrModified\":var e=t.attrName,n=t.relatedNode.namespaceURI,i=t.target;(u=new a(\"attributes\",i)).attributeName=e,u.attributeNamespace=n;var o=t.attrChange===MutationEvent.ADDITION?null:t.prevValue;r(i,(function(t){return!t.attributes||t.attributeFilter&&t.attributeFilter.length&&-1===t.attributeFilter.indexOf(e)&&-1===t.attributeFilter.indexOf(n)?void 0:t.attributeOldValue?s(o):u}));break;case\"DOMCharacterDataModified\":var u=a(\"characterData\",i=t.target);o=t.prevValue;r(i,(function(t){return t.characterData?t.characterDataOldValue?s(o):u:void 0}));break;case\"DOMNodeRemoved\":this.addTransientObserver(t.target);case\"DOMNodeInserted\":var c,l,h=t.target;\"DOMNodeInserted\"===t.type?(c=[h],l=[]):(c=[],l=[h]);var p=h.previousSibling,d=h.nextSibling;(u=a(\"childList\",t.target.parentNode)).addedNodes=c,u.removedNodes=l,u.previousSibling=p,u.nextSibling=d,r(t.relatedNode,(function(t){return t.childList?u:void 0}))}f=g=void 0}},t.JsMutationObserver=i,t.MutationObserver||(t.MutationObserver=i,i._isPolyfilled=!0)}}(self),function(){\"use strict\";if(!window.performance||!window.performance.now){var t=Date.now();window.performance={now:function(){return Date.now()-t}}}if(window.requestAnimationFrame||(window.requestAnimationFrame=function(){var t=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return t?function(e){return t((function(){e(performance.now())}))}:function(t){return window.setTimeout(t,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}),!function(){var t=document.createEvent(\"Event\");return t.initEvent(\"foo\",!0,!0),t.preventDefault(),t.defaultPrevented}()){var e=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(e.call(this),Object.defineProperty(this,\"defaultPrevented\",{get:function(){return!0},configurable:!0}))}}var n=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||n&&\"function\"!=typeof window.CustomEvent)&&(window.CustomEvent=function(t,e){e=e||{};var n=document.createEvent(\"CustomEvent\");return n.initCustomEvent(t,Boolean(e.bubbles),Boolean(e.cancelable),e.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.Event||n&&\"function\"!=typeof window.Event){var r=window.Event;window.Event=function(t,e){e=e||{};var n=document.createEvent(\"Event\");return n.initEvent(t,Boolean(e.bubbles),Boolean(e.cancelable)),n},window.Event.prototype=r.prototype}}(window.WebComponents),window.CustomElements=window.CustomElements||{flags:{}},function(t){var e=t.flags,n=[];t.addModule=function(t){n.push(t)},t.initializeModules=function(){n.forEach((function(e){e(t)}))},t.hasNative=Boolean(document.registerElement),t.isIE=/Trident/.test(navigator.userAgent),t.useNative=!e.register&&t.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule((function(t){function e(t,e){(function t(e,n,r){var i=e.firstElementChild;if(!i)for(i=e.firstChild;i&&i.nodeType!==Node.ELEMENT_NODE;)i=i.nextSibling;for(;i;)!0!==n(i,r)&&t(i,n,r),i=i.nextElementSibling;return null})(t,(function(t){return!!e(t)||void n(t,e)})),n(t,e)}function n(t,n){for(var r=t.shadowRoot;r;)e(r,n),r=r.olderShadowRoot}var r=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:\"none\";t.forDocumentTree=function(t,e){!function t(e,n,i){if(e=window.wrap(e),!(i.indexOf(e)>=0)){i.push(e);for(var o,a=e.querySelectorAll(\"link[rel=\"+r+\"]\"),s=0,u=a.length;u>s&&(o=a[s]);s++)o.import&&t(o.import,n,i);n(e)}}(t,e,[])},t.forSubtree=e})),window.CustomElements.addModule((function(t){function e(t,e){return n(t,e)||r(t,e)}function n(e,n){return!!t.upgrade(e,n)||void(n&&a(e))}function r(t,e){f(t,(function(t){return!!n(t,e)||void 0}))}function i(t){y.push(t),v||(v=!0,setTimeout(o))}function o(){v=!1;for(var t,e=y,n=0,r=e.length;r>n&&(t=e[n]);n++)t();y=[]}function a(t){m?i((function(){s(t)})):s(t)}function s(t){t.__upgraded__&&!t.__attached&&(t.__attached=!0,t.attachedCallback&&t.attachedCallback())}function u(t){m?i((function(){c(t)})):c(t)}function c(t){t.__upgraded__&&t.__attached&&(t.__attached=!1,t.detachedCallback&&t.detachedCallback())}function l(t,n){if(d.dom){var r=n[0];if(r&&\"childList\"===r.type&&r.addedNodes&&r.addedNodes){for(var i=r.addedNodes[0];i&&i!==document&&!i.host;)i=i.parentNode;var o=i&&(i.URL||i._URL||i.host&&i.host.localName)||\"\";o=o.split(\"/?\").shift().split(\"/\").pop()}console.group(\"mutations (%d) [%s]\",n.length,o||\"\")}var a=function(t){for(var e=t,n=window.wrap(document);e;){if(e==n)return!0;e=e.parentNode||e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host}}(t);n.forEach((function(t){\"childList\"===t.type&&(b(t.addedNodes,(function(t){t.localName&&e(t,a)})),b(t.removedNodes,(function(t){t.localName&&function(t){u(t),f(t,(function(t){u(t)}))}(t)})))})),d.dom&&console.groupEnd()}function h(t){if(!t.__observer){var e=new MutationObserver(l.bind(this,t));e.observe(t,{childList:!0,subtree:!0}),t.__observer=e}}function p(t){t=window.wrap(t),d.dom&&console.group(\"upgradeDocument: \",t.baseURI.split(\"/\").pop()),e(t,t===window.wrap(document)),h(t),d.dom&&console.groupEnd()}var d=t.flags,f=t.forSubtree,g=t.forDocumentTree,m=window.MutationObserver._isPolyfilled&&d[\"throttle-attached\"];t.hasPolyfillMutations=m,t.hasThrottledAttached=m;var v=!1,y=[],b=Array.prototype.forEach.call.bind(Array.prototype.forEach),x=Element.prototype.createShadowRoot;x&&(Element.prototype.createShadowRoot=function(){var t=x.call(this);return window.CustomElements.watchShadow(this),t}),t.watchShadow=function(t){if(t.shadowRoot&&!t.shadowRoot.__watched){d.dom&&console.log(\"watching shadow-root for: \",t.localName);for(var e=t.shadowRoot;e;)h(e),e=e.olderShadowRoot}},t.upgradeDocumentTree=function(t){g(t,p)},t.upgradeDocument=p,t.upgradeSubtree=r,t.upgradeAll=e,t.attached=a,t.takeRecords=function(t){for((t=window.wrap(t))||(t=window.wrap(document));t.parentNode;)t=t.parentNode;var e=t.__observer;e&&(l(t,e.takeRecords()),o())}})),window.CustomElements.addModule((function(t){function e(e,i,o){return r.upgrade&&console.group(\"upgrade:\",e.localName),i.is&&e.setAttribute(\"is\",i.is),n(e,i),e.__upgraded__=!0,function(t){t.createdCallback&&t.createdCallback()}(e),o&&t.attached(e),t.upgradeSubtree(e,o),r.upgrade&&console.groupEnd(),e}function n(t,e){Object.__proto__||function(t,e,n){for(var r={},i=e;i!==n&&i!==HTMLElement.prototype;){for(var o,a=Object.getOwnPropertyNames(i),s=0;o=a[s];s++)r[o]||(Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(i,o)),r[o]=1);i=Object.getPrototypeOf(i)}}(t,e.prototype,e.native),t.__proto__=e.prototype}var r=t.flags;t.upgrade=function(n,r){if(\"template\"===n.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(n),!n.__upgraded__&&n.nodeType===Node.ELEMENT_NODE){var i=n.getAttribute(\"is\"),o=t.getRegisteredDefinition(n.localName)||t.getRegisteredDefinition(i);if(o&&(i&&o.tag==n.localName||!i&&!o.extends))return e(n,o,r)}},t.upgradeWithDefinition=e,t.implementPrototype=n})),window.CustomElements.addModule((function(t){function e(t){if(!t.setAttribute._polyfilled){var e=t.setAttribute;t.setAttribute=function(t,r){n.call(this,t,r,e)};var r=t.removeAttribute;t.removeAttribute=function(t){n.call(this,t,null,r)},t.setAttribute._polyfilled=!0}}function n(t,e,n){t=t.toLowerCase();var r=this.getAttribute(t);n.apply(this,arguments);var i=this.getAttribute(t);this.attributeChangedCallback&&i!==r&&this.attributeChangedCallback(t,r,i)}function r(t){return t?f[t.toLowerCase()]:void 0}function i(t){return function(){return function(t){return l(m(t.tag),t)}(t)}}function o(t,e){t&&(t=t.toLowerCase()),e&&(e=e.toLowerCase());var n,i=r(e||t);if(i){if(t==i.tag&&e==i.is)return new i.ctor;if(!e&&!i.is)return new i.ctor}return e?((n=o(t)).setAttribute(\"is\",e),n):(n=m(t),t.indexOf(\"-\")>=0&&h(n,HTMLElement),n)}function a(t,e){var n=t[e];t[e]=function(){var t=n.apply(this,arguments);return c(t),t}}var s,u=(t.isIE,t.upgradeDocumentTree),c=t.upgradeAll,l=t.upgradeWithDefinition,h=t.implementPrototype,p=t.useNative,d=[\"annotation-xml\",\"color-profile\",\"font-face\",\"font-face-src\",\"font-face-uri\",\"font-face-format\",\"font-face-name\",\"missing-glyph\"],f={},g=\"http://www.w3.org/1999/xhtml\",m=document.createElement.bind(document),v=document.createElementNS.bind(document);s=Object.__proto__||p?function(t,e){return t instanceof e}:function(t,e){if(t instanceof e)return!0;for(var n=t;n;){if(n===e.prototype)return!0;n=n.__proto__}return!1},a(Node.prototype,\"cloneNode\"),a(document,\"importNode\"),document.registerElement=function(n,o){var a=o||{};if(!n)throw new Error(\"document.registerElement: first argument `name` must not be empty\");if(n.indexOf(\"-\")<0)throw new Error(\"document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '\"+String(n)+\"'.\");if(function(t){for(var e=0;e<d.length;e++)if(t===d[e])return!0}(n))throw new Error(\"Failed to execute 'registerElement' on 'Document': Registration failed for type '\"+String(n)+\"'. The type name is invalid.\");if(r(n))throw new Error(\"DuplicateDefinitionError: a type with name '\"+String(n)+\"' is already registered\");return a.prototype||(a.prototype=Object.create(HTMLElement.prototype)),a.__name=n.toLowerCase(),a.extends&&(a.extends=a.extends.toLowerCase()),a.lifecycle=a.lifecycle||{},a.ancestry=function t(e){var n=r(e);return n?t(n.extends).concat([n]):[]}(a.extends),function(t){for(var e,n=t.extends,r=0;e=t.ancestry[r];r++)n=e.is&&e.tag;t.tag=n||t.__name,n&&(t.is=t.__name)}(a),function(t){if(!Object.__proto__){var e=HTMLElement.prototype;if(t.is){var n=document.createElement(t.tag);e=Object.getPrototypeOf(n)}for(var r,i=t.prototype,o=!1;i;)i==e&&(o=!0),(r=Object.getPrototypeOf(i))&&(i.__proto__=r),i=r;o||console.warn(t.tag+\" prototype not found in prototype chain for \"+t.is),t.native=e}}(a),e(a.prototype),function(t,e){f[t]=e}(a.__name,a),a.ctor=i(a),a.ctor.prototype=a.prototype,a.prototype.constructor=a.ctor,t.ready&&u(document),a.ctor},document.createElement=o,document.createElementNS=function(t,e,n){return t===g?o(e,n):v(t,e)},t.registry=f,t.instanceof=s,t.reservedTagList=d,t.getRegisteredDefinition=r,document.register=document.registerElement})),function(t){function e(){o(window.wrap(document)),window.CustomElements.ready=!0,(window.requestAnimationFrame||function(t){setTimeout(t,16)})((function(){setTimeout((function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent(\"WebComponentsReady\",{bubbles:!0}))}))}))}var n=t.useNative,r=t.initializeModules;if(t.isIE,n){var i=function(){};t.watchShadow=i,t.upgrade=i,t.upgradeAll=i,t.upgradeDocumentTree=i,t.upgradeSubtree=i,t.takeRecords=i,t.instanceof=function(t,e){return t instanceof e}}else r();var o=t.upgradeDocumentTree,a=t.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(t){return t}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(t){t.import&&a(wrap(t.import))}),\"complete\"===document.readyState||t.flags.eager)e();else if(\"interactive\"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var s=window.HTMLImports&&!window.HTMLImports.ready?\"HTMLImportsLoaded\":\"DOMContentLoaded\";window.addEventListener(s,e)}else e()}(window.CustomElements))}.call(this),function(){}.call(this),function(){(function(){(function(){this.Trix={VERSION:\"1.2.3\",ZERO_WIDTH_SPACE:\"\\ufeff\",NON_BREAKING_SPACE:\"Â \",OBJECT_REPLACEMENT_CHARACTER:\"ï¿¼\",browser:{composesExistingText:/Android.*Chrome/.test(navigator.userAgent),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:function(){var t,e,n;if(\"undefined\"==typeof InputEvent)return!1;for(t=0,e=(n=[\"data\",\"getTargetRanges\",\"inputType\"]).length;e>t;t++)if(!(n[t]in InputEvent.prototype))return!1;return!0}()},config:{}}}).call(this)}).call(this);var r=this.Trix;(function(){(function(){r.BasicObject=function(){function t(){}var e,n,r;return t.proxyMethod=function(t){var r,i,o,a,s;return o=n(t),r=o.name,a=o.toMethod,s=o.toProperty,i=o.optional,this.prototype[r]=function(){var t,n;return t=null!=a?i?\"function\"==typeof this[a]?this[a]():void 0:this[a]():null!=s?this[s]:void 0,i?null!=(n=null!=t?t[r]:void 0)?e.call(n,t,arguments):void 0:(n=t[r],e.call(n,t,arguments))}},n=function(t){var e,n;if(!(n=t.match(r)))throw new Error(\"can't parse @proxyMethod expression: \"+t);return e={name:n[4]},null!=n[2]?e.toMethod=n[1]:e.toProperty=n[1],null!=n[3]&&(e.optional=!0),e},e=Function.prototype.apply,r=/^(.+?)(\\(\\))?(\\?)?\\.(.+?)$/,t}()}).call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.Object=function(e){function n(){this.id=++i}var i;return t(n,e),i=0,n.fromJSONString=function(t){return this.fromJSON(JSON.parse(t))},n.prototype.hasSameConstructorAs=function(t){return this.constructor===(null!=t?t.constructor:void 0)},n.prototype.isEqualTo=function(t){return this===t},n.prototype.inspect=function(){var t,e,n;return t=function(){var t,r,i;for(e in i=[],r=null!=(t=this.contentsForInspection())?t:{})n=r[e],i.push(e+\"=\"+n);return i}.call(this),\"#<\"+this.constructor.name+\":\"+this.id+(t.length?\" \"+t.join(\", \"):\"\")+\">\"},n.prototype.contentsForInspection=function(){},n.prototype.toJSONString=function(){return JSON.stringify(this)},n.prototype.toUTF16String=function(){return r.UTF16String.box(this)},n.prototype.getCacheKey=function(){return this.id.toString()},n}(r.BasicObject)}.call(this),function(){r.extend=function(t){var e,n;for(e in t)n=t[e],this[e]=n;return this}}.call(this),function(){r.extend({defer:function(t){return setTimeout(t,1)}})}.call(this),function(){var t,e;r.extend({normalizeSpaces:function(t){return t.replace(RegExp(\"\"+r.ZERO_WIDTH_SPACE,\"g\"),\"\").replace(RegExp(\"\"+r.NON_BREAKING_SPACE,\"g\"),\" \")},normalizeNewlines:function(t){return t.replace(/\\r\\n/g,\"\\n\")},breakableWhitespacePattern:RegExp(\"[^\\\\S\"+r.NON_BREAKING_SPACE+\"]\"),squishBreakableWhitespace:function(t){return t.replace(RegExp(\"\"+r.breakableWhitespacePattern.source,\"g\"),\" \").replace(/\\ {2,}/g,\" \")},escapeHTML:function(t){var e;return(e=document.createElement(\"div\")).textContent=t,e.innerHTML},summarizeStringChange:function(t,n){var i,o,a,s;return t=r.UTF16String.box(t),(n=r.UTF16String.box(n)).length<t.length?(s=(o=e(t,n))[0],i=o[1]):(i=(a=e(n,t))[0],s=a[1]),{added:i,removed:s}}}),e=function(e,n){var i,o,a,s,u;return e.isEqualTo(n)?[\"\",\"\"]:(a=(s=(o=t(e,n)).utf16String.length)?(u=o.offset,i=e.codepoints.slice(0,u).concat(e.codepoints.slice(u+s)),t(n,r.UTF16String.fromCodepoints(i))):t(n,e),[o.utf16String.toString(),a.utf16String.toString()])},t=function(t,e){var n,r,i;for(n=0,r=t.length,i=e.length;r>n&&t.charAt(n).isEqualTo(e.charAt(n));)n++;for(;r>n+1&&t.charAt(r-1).isEqualTo(e.charAt(i-1));)r--,i--;return{utf16String:t.slice(n,r),offset:n}}}.call(this),function(){r.extend({copyObject:function(t){var e,n,r;for(e in null==t&&(t={}),n={},t)r=t[e],n[e]=r;return n},objectsAreEqual:function(t,e){var n;if(null==t&&(t={}),null==e&&(e={}),Object.keys(t).length!==Object.keys(e).length)return!1;for(n in t)if(t[n]!==e[n])return!1;return!0}})}.call(this),function(){var t=[].slice;r.extend({arraysAreEqual:function(t,e){var n,r,i;if(null==t&&(t=[]),null==e&&(e=[]),t.length!==e.length)return!1;for(r=n=0,i=t.length;i>n;r=++n)if(t[r]!==e[r])return!1;return!0},arrayStartsWith:function(t,e){return null==t&&(t=[]),null==e&&(e=[]),r.arraysAreEqual(t.slice(0,e.length),e)},spliceArray:function(){var e,n,r;return n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],(r=n.slice(0)).splice.apply(r,e),r},summarizeArrayChange:function(t,e){var n,r,i,o,a,s,u,c,l,h,p;for(null==t&&(t=[]),null==e&&(e=[]),n=[],h=[],i=new Set,o=0,u=t.length;u>o;o++)p=t[o],i.add(p);for(r=new Set,a=0,c=e.length;c>a;a++)p=e[a],r.add(p),i.has(p)||n.push(p);for(s=0,l=t.length;l>s;s++)p=t[s],r.has(p)||h.push(p);return{added:n,removed:h}}})}.call(this),function(){var t,e,n,i;t=null,e=null,i=null,n=null,r.extend({getAllAttributeNames:function(){return null!=t?t:t=r.getTextAttributeNames().concat(r.getBlockAttributeNames())},getBlockConfig:function(t){return r.config.blockAttributes[t]},getBlockAttributeNames:function(){return null!=e?e:e=Object.keys(r.config.blockAttributes)},getTextConfig:function(t){return r.config.textAttributes[t]},getTextAttributeNames:function(){return null!=i?i:i=Object.keys(r.config.textAttributes)},getListAttributeNames:function(){var t,e;return null!=n?n:n=function(){var n,i;for(t in i=[],n=r.config.blockAttributes)null!=(e=n[t].listAttribute)&&i.push(e);return i}()}})}.call(this),function(){var t,e,n,i,o,a=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=document.documentElement,e=null!=(n=null!=(i=null!=(o=t.matchesSelector)?o:t.webkitMatchesSelector)?i:t.msMatchesSelector)?n:t.mozMatchesSelector,r.extend({handleEvent:function(e,n){var i,o,a,s,u,c,l,h,p,d,f;return u=(l=null!=n?n:{}).onElement,s=l.matchingSelector,f=l.withCallback,a=l.inPhase,c=l.preventDefault,p=l.times,i=null!=u?u:t,h=s,f,d=\"capturing\"===a,(o=function(t){var e;return null!=p&&0==--p&&o.destroy(),null!=(e=r.findClosestElementFromNode(t.target,{matchingSelector:h}))&&(null!=f&&f.call(e,t,e),c)?t.preventDefault():void 0}).destroy=function(){return i.removeEventListener(e,o,d)},i.addEventListener(e,o,d),o},handleEventOnce:function(t,e){return null==e&&(e={}),e.times=1,r.handleEvent(t,e)},triggerEvent:function(e,n){var i,o,a,s,u,c,l;return c=(l=null!=n?n:{}).onElement,o=l.bubbles,a=l.cancelable,i=l.attributes,s=null!=c?c:t,o=!1!==o,a=!1!==a,(u=document.createEvent(\"Events\")).initEvent(e,o,a),null!=i&&r.extend.call(u,i),s.dispatchEvent(u)},elementMatchesSelector:function(t,n){return 1===(null!=t?t.nodeType:void 0)?e.call(t,n):void 0},findClosestElementFromNode:function(t,e){var n,i,o;for(n=(i=null!=e?e:{}).matchingSelector,o=i.untilNode;null!=t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.parentNode;if(null!=t){if(null==n)return t;if(t.closest&&null==o)return t.closest(n);for(;t&&t!==o;){if(r.elementMatchesSelector(t,n))return t;t=t.parentNode}}},findInnerElement:function(t){for(;null!=t?t.firstElementChild:void 0;)t=t.firstElementChild;return t},innerElementIsActive:function(t){return document.activeElement!==t&&r.elementContainsNode(t,document.activeElement)},elementContainsNode:function(t,e){if(t&&e)for(;e;){if(e===t)return!0;e=e.parentNode}},findNodeFromContainerAndOffset:function(t,e){var n;if(t)return t.nodeType===Node.TEXT_NODE?t:0===e?null!=(n=t.firstChild)?n:t:t.childNodes.item(e-1)},findElementFromContainerAndOffset:function(t,e){var n;return n=r.findNodeFromContainerAndOffset(t,e),r.findClosestElementFromNode(n)},findChildIndexOfNode:function(t){var e;if(null!=t?t.parentNode:void 0){for(e=0;t=t.previousSibling;)e++;return e}},removeNode:function(t){var e;return null!=t&&null!=(e=t.parentNode)?e.removeChild(t):void 0},walkTree:function(t,e){var n,r,i,o,a;return r=(i=null!=e?e:{}).onlyNodesOfType,o=i.usingFilter,n=i.expandEntityReferences,a=function(){switch(r){case\"element\":return NodeFilter.SHOW_ELEMENT;case\"text\":return NodeFilter.SHOW_TEXT;case\"comment\":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}}(),document.createTreeWalker(t,a,null!=o?o:null,!0===n)},tagName:function(t){var e;return null!=t&&null!=(e=t.tagName)?e.toLowerCase():void 0},makeElement:function(t,e){var n,r,i,o,a,s,u,c,l,h;if(null==e&&(e={}),\"object\"==typeof t?t=(e=t).tagName:e={attributes:e},r=document.createElement(t),null!=e.editable&&(null==e.attributes&&(e.attributes={}),e.attributes.contenteditable=e.editable),e.attributes)for(o in s=e.attributes)h=s[o],r.setAttribute(o,h);if(e.style)for(o in u=e.style)h=u[o],r.style[o]=h;if(e.data)for(o in c=e.data)h=c[o],r.dataset[o]=h;if(e.className)for(i=0,a=(l=e.className.split(\" \")).length;a>i;i++)n=l[i],r.classList.add(n);return e.textContent&&(r.textContent=e.textContent),r},getBlockTagNames:function(){var t,e;return null!=r.blockTagNames?r.blockTagNames:r.blockTagNames=function(){var n,i;for(t in i=[],n=r.config.blockAttributes)(e=n[t].tagName)&&i.push(e);return i}()},nodeIsBlockContainer:function(t){return r.nodeIsBlockStartComment(null!=t?t.firstChild:void 0)},nodeProbablyIsBlockContainer:function(t){var e,n;return e=r.tagName(t),a.call(r.getBlockTagNames(),e)>=0&&(n=r.tagName(t.firstChild),a.call(r.getBlockTagNames(),n)<0)},nodeIsBlockStart:function(t,e){return(null!=e?e:{strict:!0}).strict?r.nodeIsBlockStartComment(t):r.nodeIsBlockStartComment(t)||!r.nodeIsBlockStartComment(t.firstChild)&&r.nodeProbablyIsBlockContainer(t)},nodeIsBlockStartComment:function(t){return r.nodeIsCommentNode(t)&&\"block\"===(null!=t?t.data:void 0)},nodeIsCommentNode:function(t){return(null!=t?t.nodeType:void 0)===Node.COMMENT_NODE},nodeIsCursorTarget:function(t,e){var n;return n=(null!=e?e:{}).name,t?r.nodeIsTextNode(t)?t.data===r.ZERO_WIDTH_SPACE?!n||t.parentNode.dataset.trixCursorTarget===n:void 0:r.nodeIsCursorTarget(t.firstChild):void 0},nodeIsAttachmentElement:function(t){return r.elementMatchesSelector(t,r.AttachmentView.attachmentSelector)},nodeIsEmptyTextNode:function(t){return r.nodeIsTextNode(t)&&\"\"===(null!=t?t.data:void 0)},nodeIsTextNode:function(t){return(null!=t?t.nodeType:void 0)===Node.TEXT_NODE}})}.call(this),function(){var t,e,n,i,o;t=r.copyObject,i=r.objectsAreEqual,r.extend({normalizeRange:n=function(t){var n;if(null!=t)return Array.isArray(t)||(t=[t,t]),[e(t[0]),e(null!=(n=t[1])?n:t[0])]},rangeIsCollapsed:function(t){var e,r,i;if(null!=t)return i=(r=n(t))[0],e=r[1],o(i,e)},rangesAreEqual:function(t,e){var r,i,a,s,u,c;if(null!=t&&null!=e)return i=(a=n(t))[0],r=a[1],c=(s=n(e))[0],u=s[1],o(i,c)&&o(r,u)}}),e=function(e){return\"number\"==typeof e?e:t(e)},o=function(t,e){return\"number\"==typeof t?t===e:i(t,e)}}.call(this),function(){var t,e,n,i,o,a,s;r.registerElement=function(t,e){var n,r;return null==e&&(e={}),t=t.toLowerCase(),e=s(e),(n=(r=a(e)).defaultCSS)&&(delete r.defaultCSS,i(n,t)),o(t,r)},i=function(t,e){return n(e).textContent=t.replace(/%t/g,e)},n=function(e){var n,r;return(n=document.createElement(\"style\")).setAttribute(\"type\",\"text/css\"),n.setAttribute(\"data-tag-name\",e.toLowerCase()),(r=t())&&n.setAttribute(\"nonce\",r),document.head.insertBefore(n,document.head.firstChild),n},t=function(){var t;return(t=e(\"trix-csp-nonce\")||e(\"csp-nonce\"))?t.getAttribute(\"content\"):void 0},e=function(t){return document.head.querySelector(\"meta[name=\"+t+\"]\")},a=function(t){var e,n,r;for(e in n={},t)r=t[e],n[e]=\"function\"==typeof r?{value:r}:r;return n},s=function(){var t;return t=function(t){var e,n,r,i,o;for(e={},n=0,i=(o=[\"initialize\",\"connect\",\"disconnect\"]).length;i>n;n++)e[r=o[n]]=t[r],delete t[r];return e},window.customElements?function(e){var n,r,i,o,a;return a=t(e),i=a.initialize,n=a.connect,r=a.disconnect,i&&(o=n,n=function(){return this.initialized||(this.initialized=!0,i.call(this)),null!=o?o.call(this):void 0}),n&&(e.connectedCallback=n),r&&(e.disconnectedCallback=r),e}:function(e){var n,r,i,o;return i=(o=t(e)).initialize,n=o.connect,r=o.disconnect,i&&(e.createdCallback=i),n&&(e.attachedCallback=n),r&&(e.detachedCallback=r),e}}(),o=window.customElements?function(t,e){var n;return n=function(){return\"object\"==typeof Reflect?Reflect.construct(HTMLElement,[],n):HTMLElement.apply(this)},Object.setPrototypeOf(n.prototype,HTMLElement.prototype),Object.setPrototypeOf(n,HTMLElement),Object.defineProperties(n.prototype,e),window.customElements.define(t,n),n}:function(t,e){var n,r;return r=Object.create(HTMLElement.prototype,e),n=document.registerElement(t,{prototype:r}),Object.defineProperty(r,\"constructor\",{value:n}),n}}.call(this),function(){var t,e;r.extend({getDOMSelection:function(){var t;return(t=window.getSelection()).rangeCount>0?t:void 0},getDOMRange:function(){var e,n;return(e=null!=(n=r.getDOMSelection())?n.getRangeAt(0):void 0)&&!t(e)?e:void 0},setDOMRange:function(t){var e;return(e=window.getSelection()).removeAllRanges(),e.addRange(t),r.selectionChangeObserver.update()}}),t=function(t){return e(t.startContainer)||e(t.endContainer)},e=function(t){return!Object.getPrototypeOf(t)}}.call(this),function(){var t;t={\"application/x-trix-feature-detection\":\"test\"},r.extend({dataTransferIsPlainText:function(t){var e,n,r;return r=t.getData(\"text/plain\"),n=t.getData(\"text/html\"),r&&n?(e=(new DOMParser).parseFromString(n,\"text/html\").body).textContent===r?!e.querySelector(\"*\"):void 0:null!=r?r.length:void 0},dataTransferIsWritable:function(e){var n,r;if(null!=(null!=e?e.setData:void 0)){for(n in t)if(r=t[n],!function(){try{return e.setData(n,r),e.getData(n)===r}catch(t){}}())return;return!0}},keyEventIsKeyboardCommand:/Mac|^iP/.test(navigator.platform)?function(t){return t.metaKey}:function(t){return t.ctrlKey}})}.call(this),function(){}.call(this),function(){var t,e=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},n={}.hasOwnProperty;t=r.arraysAreEqual,r.Hash=function(n){function i(t){null==t&&(t={}),this.values=a(t),i.__super__.constructor.apply(this,arguments)}var o,a,s,u,c;return e(i,n),i.fromCommonAttributesOfObjects=function(t){var e,n,r,i,a,s;if(null==t&&(t=[]),!t.length)return new this;for(r=(e=o(t[0])).getKeys(),n=0,i=(s=t.slice(1)).length;i>n;n++)a=s[n],r=e.getKeysCommonToHash(o(a)),e=e.slice(r);return e},i.box=function(t){return o(t)},i.prototype.add=function(t,e){return this.merge(u(t,e))},i.prototype.remove=function(t){return new r.Hash(a(this.values,t))},i.prototype.get=function(t){return this.values[t]},i.prototype.has=function(t){return t in this.values},i.prototype.merge=function(t){return new r.Hash(s(this.values,c(t)))},i.prototype.slice=function(t){var e,n,i,o;for(o={},e=0,i=t.length;i>e;e++)n=t[e],this.has(n)&&(o[n]=this.values[n]);return new r.Hash(o)},i.prototype.getKeys=function(){return Object.keys(this.values)},i.prototype.getKeysCommonToHash=function(t){var e,n,r,i,a;for(t=o(t),a=[],e=0,r=(i=this.getKeys()).length;r>e;e++)n=i[e],this.values[n]===t.values[n]&&a.push(n);return a},i.prototype.isEqualTo=function(e){return t(this.toArray(),o(e).toArray())},i.prototype.isEmpty=function(){return 0===this.getKeys().length},i.prototype.toArray=function(){var t,e,n;return(null!=this.array?this.array:this.array=function(){var r;for(t in e=[],r=this.values)n=r[t],e.push(t,n);return e}.call(this)).slice(0)},i.prototype.toObject=function(){return a(this.values)},i.prototype.toJSON=function(){return this.toObject()},i.prototype.contentsForInspection=function(){return{values:JSON.stringify(this.values)}},u=function(t,e){var n;return(n={})[t]=e,n},s=function(t,e){var n,r,i;for(n in r=a(t),e)i=e[n],r[n]=i;return r},a=function(t,e){var n,r,i,o,a;for(o={},n=0,i=(a=Object.keys(t).sort()).length;i>n;n++)(r=a[n])!==e&&(o[r]=t[r]);return o},o=function(t){return t instanceof r.Hash?t:new r.Hash(t)},c=function(t){return t instanceof r.Hash?t.values:t},i}(r.Object)}.call(this),function(){r.ObjectGroup=function(){function t(t,e){var n,r;this.objects=null!=t?t:[],r=e.depth,(n=e.asTree)&&(this.depth=r,this.objects=this.constructor.groupObjects(this.objects,{asTree:n,depth:this.depth+1}))}return t.groupObjects=function(t,e){var n,r,i,o,a,s,u,c,l;for(null==t&&(t=[]),i=(l=null!=e?e:{}).depth,(n=l.asTree)&&null==i&&(i=0),c=[],a=0,s=t.length;s>a;a++){if(u=t[a],o){if((\"function\"==typeof u.canBeGrouped?u.canBeGrouped(i):void 0)&&(\"function\"==typeof(r=o[o.length-1]).canBeGroupedWith?r.canBeGroupedWith(u,i):void 0)){o.push(u);continue}c.push(new this(o,{depth:i,asTree:n})),o=null}(\"function\"==typeof u.canBeGrouped?u.canBeGrouped(i):void 0)?o=[u]:c.push(u)}return o&&c.push(new this(o,{depth:i,asTree:n})),c},t.prototype.getObjects=function(){return this.objects},t.prototype.getDepth=function(){return this.depth},t.prototype.getCacheKey=function(){var t,e,n,r,i;for(e=[\"objectGroup\"],t=0,n=(i=this.getObjects()).length;n>t;t++)r=i[t],e.push(r.getCacheKey());return e.join(\"/\")},t}()}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.ObjectMap=function(e){function n(t){var e,n,r,i,o;for(null==t&&(t=[]),this.objects={},r=0,i=t.length;i>r;r++)o=t[r],n=JSON.stringify(o),null==(e=this.objects)[n]&&(e[n]=o)}return t(n,e),n.prototype.find=function(t){var e;return e=JSON.stringify(t),this.objects[e]},n}(r.BasicObject)}.call(this),function(){r.ElementStore=function(){function t(t){this.reset(t)}var e;return t.prototype.add=function(t){var n;return n=e(t),this.elements[n]=t},t.prototype.remove=function(t){var n,r;return n=e(t),(r=this.elements[n])?(delete this.elements[n],r):void 0},t.prototype.reset=function(t){var e,n,r;for(null==t&&(t=[]),this.elements={},n=0,r=t.length;r>n;n++)e=t[n],this.add(e);return t},e=function(t){return t.dataset.trixStoreKey},t}()}.call(this),function(){}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.Operation=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isPerforming=function(){return!0===this.performing},n.prototype.hasPerformed=function(){return!0===this.performed},n.prototype.hasSucceeded=function(){return this.performed&&this.succeeded},n.prototype.hasFailed=function(){return this.performed&&!this.succeeded},n.prototype.getPromise=function(){return null!=this.promise?this.promise:this.promise=new Promise(function(t){return function(e,n){return t.performing=!0,t.perform((function(r,i){return t.succeeded=r,t.performing=!1,t.performed=!0,t.succeeded?e(i):n(i)}))}}(this))},n.prototype.perform=function(t){return t(!1)},n.prototype.release=function(){var t;return null!=(t=this.promise)&&\"function\"==typeof t.cancel&&t.cancel(),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null},n.proxyMethod(\"getPromise().then\"),n.proxyMethod(\"getPromise().catch\"),n}(r.BasicObject)}.call(this),function(){var t,e,n,i,o,a={}.hasOwnProperty;r.UTF16String=function(t){function e(t,e){this.ucs2String=t,this.codepoints=e,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}return function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.box=function(t){return null==t&&(t=\"\"),t instanceof this?t:this.fromUCS2String(null!=t?t.toString():void 0)},e.fromUCS2String=function(t){return new this(t,i(t))},e.fromCodepoints=function(t){return new this(o(t),t)},e.prototype.offsetToUCS2Offset=function(t){return o(this.codepoints.slice(0,Math.max(0,t))).length},e.prototype.offsetFromUCS2Offset=function(t){return i(this.ucs2String.slice(0,Math.max(0,t))).length},e.prototype.slice=function(){var t;return this.constructor.fromCodepoints((t=this.codepoints).slice.apply(t,arguments))},e.prototype.charAt=function(t){return this.slice(t,t+1)},e.prototype.isEqualTo=function(t){return this.constructor.box(t).ucs2String===this.ucs2String},e.prototype.toJSON=function(){return this.ucs2String},e.prototype.getCacheKey=function(){return this.ucs2String},e.prototype.toString=function(){return this.ucs2String},e}(r.BasicObject),t=1===(\"function\"==typeof Array.from?Array.from(\"ðŸ‘¼\").length:void 0),e=null!=(\"function\"==typeof\" \".codePointAt?\" \".codePointAt(0):void 0),n=\" ðŸ‘¼\"===(\"function\"==typeof String.fromCodePoint?String.fromCodePoint(32,128124):void 0),i=t&&e?function(t){return Array.from(t).map((function(t){return t.codePointAt(0)}))}:function(t){var e,n,r,i,o;for(i=[],e=0,r=t.length;r>e;)(o=t.charCodeAt(e++))>=55296&&56319>=o&&r>e&&(56320==(64512&(n=t.charCodeAt(e++)))?o=((1023&o)<<10)+(1023&n)+65536:e--),i.push(o);return i},o=n?function(t){return String.fromCodePoint.apply(String,t)}:function(t){var e,n;return function(){var r,i,o;for(o=[],r=0,i=t.length;i>r;r++)n=t[r],e=\"\",n>65535&&(n-=65536,e+=String.fromCharCode(n>>>10&1023|55296),n=56320|1023&n),o.push(e+String.fromCharCode(n));return o}().join(\"\")}}.call(this),function(){}.call(this),function(){}.call(this),function(){r.config.lang={attachFiles:\"Attach Files\",bold:\"Bold\",bullets:\"Bullets\",byte:\"Byte\",bytes:\"Bytes\",captionPlaceholder:\"Add a captionâ€¦\",code:\"Code\",heading1:\"Heading\",indent:\"Increase Level\",italic:\"Italic\",link:\"Link\",numbers:\"Numbers\",outdent:\"Decrease Level\",quote:\"Quote\",redo:\"Redo\",remove:\"Remove\",strike:\"Strikethrough\",undo:\"Undo\",unlink:\"Unlink\",url:\"URL\",urlPlaceholder:\"Enter a URLâ€¦\",GB:\"GB\",KB:\"KB\",MB:\"MB\",PB:\"PB\",TB:\"TB\"}}.call(this),function(){r.config.css={attachment:\"attachment\",attachmentCaption:\"attachment__caption\",attachmentCaptionEditor:\"attachment__caption-editor\",attachmentMetadata:\"attachment__metadata\",attachmentMetadataContainer:\"attachment__metadata-container\",attachmentName:\"attachment__name\",attachmentProgress:\"attachment__progress\",attachmentSize:\"attachment__size\",attachmentToolbar:\"attachment__toolbar\",attachmentGallery:\"attachment-gallery\"}}.call(this),function(){var t;r.config.blockAttributes=t={default:{tagName:\"div\",parse:!1},quote:{tagName:\"blockquote\",nestable:!0},heading1:{tagName:\"h1\",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:\"pre\",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:\"ul\",parse:!1},bullet:{tagName:\"li\",listAttribute:\"bulletList\",group:!1,nestable:!0,test:function(e){return r.tagName(e.parentNode)===t[this.listAttribute].tagName}},numberList:{tagName:\"ol\",parse:!1},number:{tagName:\"li\",listAttribute:\"numberList\",group:!1,nestable:!0,test:function(e){return r.tagName(e.parentNode)===t[this.listAttribute].tagName}},attachmentGallery:{tagName:\"div\",exclusive:!0,terminal:!0,parse:!1,group:!1}}}.call(this),function(){var t,e;t=r.config.lang,e=[t.bytes,t.KB,t.MB,t.GB,t.TB,t.PB],r.config.fileSize={prefix:\"IEC\",precision:2,formatter:function(n){var r,i;switch(n){case 0:return\"0 \"+t.bytes;case 1:return\"1 \"+t.byte;default:return r=function(){switch(this.prefix){case\"SI\":return 1e3;case\"IEC\":return 1024}}.call(this),i=Math.floor(Math.log(n)/Math.log(r)),(n/Math.pow(r,i)).toFixed(this.precision).replace(/0*$/,\"\").replace(/\\.$/,\"\")+\" \"+e[i]}}}}.call(this),function(){r.config.textAttributes={bold:{tagName:\"strong\",inheritable:!0,parser:function(t){var e;return\"bold\"===(e=window.getComputedStyle(t)).fontWeight||e.fontWeight>=600}},italic:{tagName:\"em\",inheritable:!0,parser:function(t){return\"italic\"===window.getComputedStyle(t).fontStyle}},href:{groupTagName:\"a\",parser:function(t){var e,n;return n=\"a:not(\"+r.AttachmentView.attachmentSelector+\")\",(e=r.findClosestElementFromNode(t,{matchingSelector:n}))?e.getAttribute(\"href\"):void 0}},strike:{tagName:\"del\",inheritable:!0},frozen:{style:{backgroundColor:\"highlight\"}}}}.call(this),function(){var t,e,n;n=[\"contenteditable\",\"data-trix-id\",\"data-trix-store-key\",\"data-trix-mutable\",\"data-trix-placeholder\",\"tabindex\"],e=\"data-trix-serialized-attributes\",t=new RegExp(\"\\x3c!--block--\\x3e\",\"g\"),r.extend({serializers:{\"application/json\":function(t){var e;if(t instanceof r.Document)e=t;else{if(!(t instanceof HTMLElement))throw new Error(\"unserializable object\");e=r.Document.fromHTML(t.innerHTML)}return e.toSerializableDocument().toJSONString()},\"text/html\":function(i){var o,a,s,u,c,l,h,p,d,f,g,m,v,y,b,x,A;if(i instanceof r.Document)u=r.DocumentView.render(i);else{if(!(i instanceof HTMLElement))throw new Error(\"unserializable object\");u=i.cloneNode(!0)}for(c=0,d=(y=u.querySelectorAll(\"[data-trix-serialize=false]\")).length;d>c;c++)s=y[c],r.removeNode(s);for(l=0,f=n.length;f>l;l++)for(o=n[l],h=0,g=(b=u.querySelectorAll(\"[\"+o+\"]\")).length;g>h;h++)(s=b[h]).removeAttribute(o);for(p=0,m=(x=u.querySelectorAll(\"[data-trix-serialized-attributes]\")).length;m>p;p++){s=x[p];try{for(v in a=JSON.parse(s.getAttribute(e)),s.removeAttribute(e),a)A=a[v],s.setAttribute(v,A)}catch(t){}}return u.innerHTML.replace(t,\"\")}},deserializers:{\"application/json\":function(t){return r.Document.fromJSONString(t)},\"text/html\":function(t){return r.Document.fromHTML(t)}},serializeToContentType:function(t,e){var n;if(n=r.serializers[e])return n(t);throw new Error(\"unknown content type: \"+e)},deserializeFromContentType:function(t,e){var n;if(n=r.deserializers[e])return n(t);throw new Error(\"unknown content type: \"+e)}})}.call(this),function(){var t;t=r.config.lang,r.config.toolbar={getDefaultHTML:function(){return'<div class=\"trix-button-row\">\\n  <span class=\"trix-button-group trix-button-group--text-tools\" data-trix-button-group=\"text-tools\">\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-bold\" data-trix-attribute=\"bold\" data-trix-key=\"b\" title=\"'+t.bold+'\" tabindex=\"-1\">'+t.bold+'</button>\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-italic\" data-trix-attribute=\"italic\" data-trix-key=\"i\" title=\"'+t.italic+'\" tabindex=\"-1\">'+t.italic+'</button>\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-strike\" data-trix-attribute=\"strike\" title=\"'+t.strike+'\" tabindex=\"-1\">'+t.strike+'</button>\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-link\" data-trix-attribute=\"href\" data-trix-action=\"link\" data-trix-key=\"k\" title=\"'+t.link+'\" tabindex=\"-1\">'+t.link+'</button>\\n  </span>\\n\\n  <span class=\"trix-button-group trix-button-group--block-tools\" data-trix-button-group=\"block-tools\">\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-heading-1\" data-trix-attribute=\"heading1\" title=\"'+t.heading1+'\" tabindex=\"-1\">'+t.heading1+'</button>\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-quote\" data-trix-attribute=\"quote\" title=\"'+t.quote+'\" tabindex=\"-1\">'+t.quote+'</button>\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-code\" data-trix-attribute=\"code\" title=\"'+t.code+'\" tabindex=\"-1\">'+t.code+'</button>\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-bullet-list\" data-trix-attribute=\"bullet\" title=\"'+t.bullets+'\" tabindex=\"-1\">'+t.bullets+'</button>\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-number-list\" data-trix-attribute=\"number\" title=\"'+t.numbers+'\" tabindex=\"-1\">'+t.numbers+'</button>\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-decrease-nesting-level\" data-trix-action=\"decreaseNestingLevel\" title=\"'+t.outdent+'\" tabindex=\"-1\">'+t.outdent+'</button>\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-increase-nesting-level\" data-trix-action=\"increaseNestingLevel\" title=\"'+t.indent+'\" tabindex=\"-1\">'+t.indent+'</button>\\n  </span>\\n\\n  <span class=\"trix-button-group trix-button-group--file-tools\" data-trix-button-group=\"file-tools\">\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-attach\" data-trix-action=\"attachFiles\" title=\"'+t.attachFiles+'\" tabindex=\"-1\">'+t.attachFiles+'</button>\\n  </span>\\n\\n  <span class=\"trix-button-group-spacer\"></span>\\n\\n  <span class=\"trix-button-group trix-button-group--history-tools\" data-trix-button-group=\"history-tools\">\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-undo\" data-trix-action=\"undo\" data-trix-key=\"z\" title=\"'+t.undo+'\" tabindex=\"-1\">'+t.undo+'</button>\\n    <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-redo\" data-trix-action=\"redo\" data-trix-key=\"shift+z\" title=\"'+t.redo+'\" tabindex=\"-1\">'+t.redo+'</button>\\n  </span>\\n</div>\\n\\n<div class=\"trix-dialogs\" data-trix-dialogs>\\n  <div class=\"trix-dialog trix-dialog--link\" data-trix-dialog=\"href\" data-trix-dialog-attribute=\"href\">\\n    <div class=\"trix-dialog__link-fields\">\\n      <input type=\"url\" name=\"href\" class=\"trix-input trix-input--dialog\" placeholder=\"'+t.urlPlaceholder+'\" aria-label=\"'+t.url+'\" required data-trix-input>\\n      <div class=\"trix-button-group\">\\n        <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"'+t.link+'\" data-trix-method=\"setAttribute\">\\n        <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"'+t.unlink+'\" data-trix-method=\"removeAttribute\">\\n      </div>\\n    </div>\\n  </div>\\n</div>'}}}.call(this),function(){r.config.undoInterval=5e3}.call(this),function(){r.config.attachments={preview:{presentation:\"gallery\",caption:{name:!0,size:!0}},file:{caption:{size:!0}}}}.call(this),function(){r.config.keyNames={8:\"backspace\",9:\"tab\",13:\"return\",27:\"escape\",37:\"left\",39:\"right\",46:\"delete\",68:\"d\",72:\"h\",79:\"o\"}}.call(this),function(){r.config.input={level2Enabled:!0,getLevel:function(){return this.level2Enabled&&r.browser.supportsInputEvents?2:0},pickFiles:function(t){var e;return(e=r.makeElement(\"input\",{type:\"file\",multiple:!0,hidden:!0,id:this.fileInputId})).addEventListener(\"change\",(function(){return t(e.files),r.removeNode(e)})),r.removeNode(document.getElementById(this.fileInputId)),document.body.appendChild(e),e.click()},fileInputId:\"trix-file-input-\"+Date.now().toString(16)}}.call(this),function(){}.call(this),function(){r.registerElement(\"trix-toolbar\",{defaultCSS:\"%t {\\n  display: block;\\n}\\n\\n%t {\\n  white-space: nowrap;\\n}\\n\\n%t [data-trix-dialog] {\\n  display: none;\\n}\\n\\n%t [data-trix-dialog][data-trix-active] {\\n  display: block;\\n}\\n\\n%t [data-trix-dialog] [data-trix-validate]:invalid {\\n  background-color: #ffdddd;\\n}\",initialize:function(){return\"\"===this.innerHTML?this.innerHTML=r.config.toolbar.getDefaultHTML():void 0}})}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty,n=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};r.ObjectView=function(e){function i(t,e){this.object=t,this.options=null!=e?e:{},this.childViews=[],this.rootView=this}return t(i,e),i.prototype.getNodes=function(){var t,e,n,r,i;for(null==this.nodes&&(this.nodes=this.createNodes()),i=[],t=0,e=(r=this.nodes).length;e>t;t++)n=r[t],i.push(n.cloneNode(!0));return i},i.prototype.invalidate=function(){var t;return this.nodes=null,this.childViews=[],null!=(t=this.parentView)?t.invalidate():void 0},i.prototype.invalidateViewForObject=function(t){var e;return null!=(e=this.findViewForObject(t))?e.invalidate():void 0},i.prototype.findOrCreateCachedChildView=function(t,e){var n;return(n=this.getCachedViewForObject(e))?this.recordChildView(n):(n=this.createChildView.apply(this,arguments),this.cacheViewForObject(n,e)),n},i.prototype.createChildView=function(t,e,n){var i;return null==n&&(n={}),e instanceof r.ObjectGroup&&(n.viewClass=t,t=r.ObjectGroupView),i=new t(e,n),this.recordChildView(i)},i.prototype.recordChildView=function(t){return t.parentView=this,t.rootView=this.rootView,this.childViews.push(t),t},i.prototype.getAllChildViews=function(){var t,e,n,r,i;for(i=[],e=0,n=(r=this.childViews).length;n>e;e++)t=r[e],i.push(t),i=i.concat(t.getAllChildViews());return i},i.prototype.findElement=function(){return this.findElementForObject(this.object)},i.prototype.findElementForObject=function(t){var e;return(e=null!=t?t.id:void 0)?this.rootView.element.querySelector(\"[data-trix-id='\"+e+\"']\"):void 0},i.prototype.findViewForObject=function(t){var e,n,r,i;for(e=0,n=(r=this.getAllChildViews()).length;n>e;e++)if((i=r[e]).object===t)return i},i.prototype.getViewCache=function(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?null!=this.viewCache?this.viewCache:this.viewCache={}:void 0},i.prototype.isViewCachingEnabled=function(){return!1!==this.shouldCacheViews},i.prototype.enableViewCaching=function(){return this.shouldCacheViews=!0},i.prototype.disableViewCaching=function(){return this.shouldCacheViews=!1},i.prototype.getCachedViewForObject=function(t){var e;return null!=(e=this.getViewCache())?e[t.getCacheKey()]:void 0},i.prototype.cacheViewForObject=function(t,e){var n;return null!=(n=this.getViewCache())?n[e.getCacheKey()]=t:void 0},i.prototype.garbageCollectCachedViews=function(){var t,e,r,i,o,a;if(t=this.getViewCache()){for(e in a=this.getAllChildViews().concat(this),r=function(){var t,e,n;for(n=[],t=0,e=a.length;e>t;t++)o=a[t],n.push(o.object.getCacheKey());return n}(),i=[],t)n.call(r,e)<0&&i.push(delete t[e]);return i}},i}(r.BasicObject)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.ObjectGroupView=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}return t(n,e),n.prototype.getChildViews=function(){var t,e,n,r;if(!this.childViews.length)for(t=0,e=(r=this.objectGroup.getObjects()).length;e>t;t++)n=r[t],this.findOrCreateCachedChildView(this.viewClass,n,this.options);return this.childViews},n.prototype.createNodes=function(){var t,e,n,r,i,o,a,s;for(t=this.createContainerElement(),e=0,r=(a=this.getChildViews()).length;r>e;e++)for(n=0,i=(s=a[e].getNodes()).length;i>n;n++)o=s[n],t.appendChild(o);return[t]},n.prototype.createContainerElement=function(t){return null==t&&(t=this.objectGroup.getDepth()),this.getChildViews()[0].createContainerElement(t)},n}(r.ObjectView)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.Controller=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(r.BasicObject)}.call(this),function(){var t,e,n,i,o,a,s=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty,c=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=r.findClosestElementFromNode,n=r.nodeIsEmptyTextNode,e=r.nodeIsBlockStartComment,i=r.normalizeSpaces,o=r.summarizeStringChange,a=r.tagName,r.MutationObserver=function(r){function u(t){this.element=t,this.didMutate=function(t,e){return function(){return t.apply(e,arguments)}}(this.didMutate,this),this.observer=new window.MutationObserver(this.didMutate),this.start()}var l,h,p;return s(u,r),\"[\"+(h=\"data-trix-mutable\")+\"]\",p={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},u.prototype.start=function(){return this.reset(),this.observer.observe(this.element,p)},u.prototype.stop=function(){return this.observer.disconnect()},u.prototype.didMutate=function(t){var e,n;return(e=this.mutations).push.apply(e,this.findSignificantMutations(t)),this.mutations.length?(null!=(n=this.delegate)&&\"function\"==typeof n.elementDidMutate&&n.elementDidMutate(this.getMutationSummary()),this.reset()):void 0},u.prototype.reset=function(){return this.mutations=[]},u.prototype.findSignificantMutations=function(t){var e,n,r,i;for(i=[],e=0,n=t.length;n>e;e++)r=t[e],this.mutationIsSignificant(r)&&i.push(r);return i},u.prototype.mutationIsSignificant=function(t){var e,n,r,i;if(this.nodeIsMutable(t.target))return!1;for(e=0,n=(i=this.nodesModifiedByMutation(t)).length;n>e;e++)if(r=i[e],this.nodeIsSignificant(r))return!0;return!1},u.prototype.nodeIsSignificant=function(t){return t!==this.element&&!this.nodeIsMutable(t)&&!n(t)},u.prototype.nodeIsMutable=function(e){return t(e,{matchingSelector:\"[data-trix-mutable]\"})},u.prototype.nodesModifiedByMutation=function(t){var e;switch(e=[],t.type){case\"attributes\":t.attributeName!==h&&e.push(t.target);break;case\"characterData\":e.push(t.target.parentNode),e.push(t.target);break;case\"childList\":e.push.apply(e,t.addedNodes),e.push.apply(e,t.removedNodes)}return e},u.prototype.getMutationSummary=function(){return this.getTextMutationSummary()},u.prototype.getTextMutationSummary=function(){var t,e,n,r,i,o,a,s,u,l,h;for(n=(s=this.getTextChangesFromCharacterData()).additions,i=s.deletions,o=0,a=(u=(h=this.getTextChangesFromChildList()).additions).length;a>o;o++)e=u[o],c.call(n,e)<0&&n.push(e);return i.push.apply(i,h.deletions),l={},(t=n.join(\"\"))&&(l.textAdded=t),(r=i.join(\"\"))&&(l.textDeleted=r),l},u.prototype.getMutationsByType=function(t){var e,n,r,i,o;for(o=[],e=0,n=(i=this.mutations).length;n>e;e++)(r=i[e]).type===t&&o.push(r);return o},u.prototype.getTextChangesFromChildList=function(){var t,n,r,o,a,s,u,c,h,p;for(t=[],u=[],n=0,o=(s=this.getMutationsByType(\"childList\")).length;o>n;n++)a=s[n],t.push.apply(t,a.addedNodes),u.push.apply(u,a.removedNodes);return 0===t.length&&1===u.length&&e(u[0])?(h=[],p=[\"\\n\"]):(h=l(t),p=l(u)),{additions:function(){var t,e,n;for(n=[],r=t=0,e=h.length;e>t;r=++t)(c=h[r])!==p[r]&&n.push(i(c));return n}(),deletions:function(){var t,e,n;for(n=[],r=t=0,e=p.length;e>t;r=++t)(c=p[r])!==h[r]&&n.push(i(c));return n}()}},u.prototype.getTextChangesFromCharacterData=function(){var t,e,n,r,a,s,u,c;return(e=this.getMutationsByType(\"characterData\")).length&&(c=e[0],n=e[e.length-1],a=i(c.oldValue),r=i(n.target.data),t=(s=o(a,r)).added,u=s.removed),{additions:t?[t]:[],deletions:u?[u]:[]}},l=function(t){var e,n,r,i;for(null==t&&(t=[]),i=[],e=0,n=t.length;n>e;e++)switch(r=t[e],r.nodeType){case Node.TEXT_NODE:i.push(r.data);break;case Node.ELEMENT_NODE:\"br\"===a(r)?i.push(\"\\n\"):i.push.apply(i,l(r.childNodes))}return i},u}(r.BasicObject)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.FileVerificationOperation=function(e){function n(t){this.file=t}return t(n,e),n.prototype.perform=function(t){var e;return(e=new FileReader).onerror=function(){return t(!1)},e.onload=function(n){return function(){e.onerror=null;try{e.abort()}catch(t){}return t(!0,n.file)}}(this),e.readAsArrayBuffer(this.file)},n}(r.Operation)}.call(this),function(){var t,e,n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=r.handleEvent,e=r.innerElementIsActive,r.InputController=function(i){function o(e){var n;for(n in this.element=e,this.mutationObserver=new r.MutationObserver(this.element),this.mutationObserver.delegate=this,this.events)t(n,{onElement:this.element,withCallback:this.handlerFor(n)})}return n(o,i),o.prototype.events={},o.prototype.elementDidMutate=function(){},o.prototype.editorWillSyncDocumentView=function(){return this.mutationObserver.stop()},o.prototype.editorDidSyncDocumentView=function(){return this.mutationObserver.start()},o.prototype.requestRender=function(){var t;return null!=(t=this.delegate)&&\"function\"==typeof t.inputControllerDidRequestRender?t.inputControllerDidRequestRender():void 0},o.prototype.requestReparse=function(){var t;return null!=(t=this.delegate)&&\"function\"==typeof t.inputControllerDidRequestReparse&&t.inputControllerDidRequestReparse(),this.requestRender()},o.prototype.attachFiles=function(t){var e,n;return n=function(){var n,i,o;for(o=[],n=0,i=t.length;i>n;n++)e=t[n],o.push(new r.FileVerificationOperation(e));return o}(),Promise.all(n).then(function(t){return function(e){return t.handleInput((function(){var t,n;return null!=(t=this.delegate)&&t.inputControllerWillAttachFiles(),null!=(n=this.responder)&&n.insertFiles(e),this.requestRender()}))}}(this))},o.prototype.handlerFor=function(t){return function(n){return function(r){return r.defaultPrevented?void 0:n.handleInput((function(){return e(this.element)?void 0:(this.eventName=t,this.events[t].call(this,r))}))}}(this)},o.prototype.handleInput=function(t){var e,n;try{return null!=(e=this.delegate)&&e.inputControllerWillHandleInput(),t.call(this)}finally{null!=(n=this.delegate)&&n.inputControllerDidHandleInput()}},o}(r.BasicObject)}.call(this),function(){var t,e,n,i,o,a,s,u,c,l,h,p,d=function(t,e){function n(){this.constructor=t}for(var r in e)f.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty,g=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};c=r.makeElement,l=r.objectsAreEqual,r.tagName,e=r.browser,s=r.keyEventIsKeyboardCommand,i=r.dataTransferIsWritable,n=r.dataTransferIsPlainText,u=r.config.keyNames,r.Level0InputController=function(e){function a(){a.__super__.constructor.apply(this,arguments),this.resetInputSummary()}var f;return d(a,e),f=0,a.prototype.setInputSummary=function(t){var e,n;for(e in null==t&&(t={}),this.inputSummary.eventName=this.eventName,t)n=t[e],this.inputSummary[e]=n;return this.inputSummary},a.prototype.resetInputSummary=function(){return this.inputSummary={}},a.prototype.reset=function(){return this.resetInputSummary(),r.selectionChangeObserver.reset()},a.prototype.elementDidMutate=function(t){var e;return this.isComposing()?null!=(e=this.delegate)&&\"function\"==typeof e.inputControllerDidAllowUnhandledInput?e.inputControllerDidAllowUnhandledInput():void 0:this.handleInput((function(){return this.mutationIsSignificant(t)&&(this.mutationIsExpected(t)?this.requestRender():this.requestReparse()),this.reset()}))},a.prototype.mutationIsExpected=function(t){var e,n,r,i,o,a,s,u,c;return a=t.textAdded,s=t.textDeleted,!!this.inputSummary.preferDocument||(e=null!=a?a===this.inputSummary.textAdded:!this.inputSummary.textAdded,n=null!=s?this.inputSummary.didDelete:!this.inputSummary.didDelete,c=\"\\n\"===s&&!n,!!(((u=(\"\\n\"===a||\" \\n\"===a)&&!e)&&!c||c&&!u)&&(i=this.getSelectedRange())&&(r=u?a.replace(/\\n$/,\"\").length||-1:(null!=a?a.length:void 0)||1,null!=(o=this.responder)?o.positionIsBlockBreak(i[1]+r):void 0))||e&&n)},a.prototype.mutationIsSignificant=function(t){var e,n,r;return r=Object.keys(t).length>0,e=\"\"===(null!=(n=this.compositionInput)?n.getEndData():void 0),r||!e},a.prototype.events={keydown:function(t){var e,n,i,o,a,c,l,h,p;if(this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0,o=u[t.keyCode]){for(n=this.keys,i=0,c=(h=[\"ctrl\",\"alt\",\"shift\",\"meta\"]).length;c>i;i++)t[(l=h[i])+\"Key\"]&&(\"ctrl\"===l&&(l=\"control\"),n=null!=n?n[l]:void 0);null!=(null!=n?n[o]:void 0)&&(this.setInputSummary({keyName:o}),r.selectionChangeObserver.reset(),n[o].call(this,t))}return s(t)&&(e=String.fromCharCode(t.keyCode).toLowerCase())&&((a=function(){var e,n,r,i;for(i=[],e=0,n=(r=[\"alt\",\"shift\"]).length;n>e;e++)t[(l=r[e])+\"Key\"]&&i.push(l);return i}()).push(e),null!=(p=this.delegate)?p.inputControllerDidReceiveKeyboardCommand(a):void 0)?t.preventDefault():void 0},keypress:function(t){var e,n,r;if(null==this.inputSummary.eventName&&!t.metaKey&&(!t.ctrlKey||t.altKey))return(r=p(t))?(null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString(r),this.setInputSummary({textAdded:r,didDelete:this.selectionIsExpanded()})):void 0},textInput:function(t){var e,n,r,i;return e=t.data,(i=this.inputSummary.textAdded)&&i!==e&&i.toUpperCase()===e?(n=this.getSelectedRange(),this.setSelectedRange([n[0],n[1]+i.length]),null!=(r=this.responder)&&r.insertString(e),this.setInputSummary({textAdded:e}),this.setSelectedRange(n)):void 0},dragenter:function(t){return t.preventDefault()},dragstart:function(t){var e;return t.target,this.serializeSelectionToDataTransfer(t.dataTransfer),this.draggedRange=this.getSelectedRange(),null!=(e=this.delegate)&&\"function\"==typeof e.inputControllerDidStartDrag?e.inputControllerDidStartDrag():void 0},dragover:function(t){var e,n;return!this.draggedRange&&!this.canAcceptDataTransfer(t.dataTransfer)||(t.preventDefault(),e={x:t.clientX,y:t.clientY},l(e,this.draggingPoint))?void 0:(this.draggingPoint=e,null!=(n=this.delegate)&&\"function\"==typeof n.inputControllerDidReceiveDragOverPoint?n.inputControllerDidReceiveDragOverPoint(this.draggingPoint):void 0)},dragend:function(){var t;return null!=(t=this.delegate)&&\"function\"==typeof t.inputControllerDidCancelDrag&&t.inputControllerDidCancelDrag(),this.draggedRange=null,this.draggingPoint=null},drop:function(t){var e,n,i,o,a,s,u,c,l;return t.preventDefault(),i=null!=(a=t.dataTransfer)?a.files:void 0,o={x:t.clientX,y:t.clientY},null!=(s=this.responder)&&s.setLocationRangeFromPointRange(o),(null!=i?i.length:void 0)?this.attachFiles(i):this.draggedRange?(null!=(u=this.delegate)&&u.inputControllerWillMoveText(),null!=(c=this.responder)&&c.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()):(n=t.dataTransfer.getData(\"application/x-trix-document\"))&&(e=r.Document.fromJSONString(n),null!=(l=this.responder)&&l.insertDocument(e),this.requestRender()),this.draggedRange=null,this.draggingPoint=null},cut:function(t){var e,n;return(null!=(e=this.responder)?e.selectionIsExpanded():void 0)&&(this.serializeSelectionToDataTransfer(t.clipboardData)&&t.preventDefault(),null!=(n=this.delegate)&&n.inputControllerWillCutText(),this.deleteInDirection(\"backward\"),t.defaultPrevented)?this.requestRender():void 0},copy:function(t){var e;return(null!=(e=this.responder)?e.selectionIsExpanded():void 0)&&this.serializeSelectionToDataTransfer(t.clipboardData)?t.preventDefault():void 0},paste:function(t){var e,i,a,s,u,c,l,p,d,m,v,y,b,x,A,w,C,E,k,S,D,R;return e=null!=(p=t.clipboardData)?p:t.testClipboardData,l={clipboard:e},null==e||h(t)?void this.getPastedHTMLUsingHiddenElement(function(t){return function(e){var n,r,i;return l.type=\"text/html\",l.html=e,null!=(n=t.delegate)&&n.inputControllerWillPaste(l),null!=(r=t.responder)&&r.insertHTML(l.html),t.requestRender(),null!=(i=t.delegate)?i.inputControllerDidPaste(l):void 0}}(this)):((s=e.getData(\"URL\"))?(l.type=\"URL\",l.href=s,l.string=(c=e.getData(\"public.url-name\"))?r.squishBreakableWhitespace(c).trim():s,null!=(d=this.delegate)&&d.inputControllerWillPaste(l),this.setInputSummary({textAdded:l.string,didDelete:this.selectionIsExpanded()}),null!=(A=this.responder)&&A.insertText(r.Text.textForStringWithAttributes(l.string,{href:l.href})),this.requestRender(),null!=(w=this.delegate)&&w.inputControllerDidPaste(l)):n(e)?(l.type=\"text/plain\",l.string=e.getData(\"text/plain\"),null!=(C=this.delegate)&&C.inputControllerWillPaste(l),this.setInputSummary({textAdded:l.string,didDelete:this.selectionIsExpanded()}),null!=(E=this.responder)&&E.insertString(l.string),this.requestRender(),null!=(k=this.delegate)&&k.inputControllerDidPaste(l)):(u=e.getData(\"text/html\"))?(l.type=\"text/html\",l.html=u,null!=(S=this.delegate)&&S.inputControllerWillPaste(l),null!=(D=this.responder)&&D.insertHTML(l.html),this.requestRender(),null!=(R=this.delegate)&&R.inputControllerDidPaste(l)):g.call(e.types,\"Files\")>=0&&(a=null!=(m=e.items)&&null!=(v=m[0])&&\"function\"==typeof v.getAsFile?v.getAsFile():void 0)&&(!a.name&&(i=o(a))&&(a.name=\"pasted-file-\"+ ++f+\".\"+i),l.type=\"File\",l.file=a,null!=(y=this.delegate)&&y.inputControllerWillAttachFiles(),null!=(b=this.responder)&&b.insertFile(l.file),this.requestRender(),null!=(x=this.delegate)&&x.inputControllerDidPaste(l)),t.preventDefault())},compositionstart:function(t){return this.getCompositionInput().start(t.data)},compositionupdate:function(t){return this.getCompositionInput().update(t.data)},compositionend:function(t){return this.getCompositionInput().end(t.data)},beforeinput:function(){return this.inputSummary.didInput=!0},input:function(t){return this.inputSummary.didInput=!0,t.stopPropagation()}},a.prototype.keys={backspace:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection(\"backward\",t)},delete:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection(\"forward\",t)},return:function(){var t,e;return this.setInputSummary({preferDocument:!0}),null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),null!=(e=this.responder)?e.insertLineBreak():void 0},tab:function(t){var e,n;return(null!=(e=this.responder)?e.canIncreaseNestingLevel():void 0)?(null!=(n=this.responder)&&n.increaseNestingLevel(),this.requestRender(),t.preventDefault()):void 0},left:function(t){var e;return this.selectionIsInCursorTarget()?(t.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection(\"backward\"):void 0):void 0},right:function(t){var e;return this.selectionIsInCursorTarget()?(t.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection(\"forward\"):void 0):void 0},control:{d:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection(\"forward\",t)},h:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection(\"backward\",t)},o:function(t){var e,n;return t.preventDefault(),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString(\"\\n\",{updatePosition:!1}),this.requestRender()}},shift:{return:function(t){var e,n;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString(\"\\n\"),this.requestRender(),t.preventDefault()},tab:function(t){var e,n;return(null!=(e=this.responder)?e.canDecreaseNestingLevel():void 0)?(null!=(n=this.responder)&&n.decreaseNestingLevel(),this.requestRender(),t.preventDefault()):void 0},left:function(t){return this.selectionIsInCursorTarget()?(t.preventDefault(),this.expandSelectionInDirection(\"backward\")):void 0},right:function(t){return this.selectionIsInCursorTarget()?(t.preventDefault(),this.expandSelectionInDirection(\"forward\")):void 0}},alt:{backspace:function(){var t;return this.setInputSummary({preferDocument:!1}),null!=(t=this.delegate)?t.inputControllerWillPerformTyping():void 0}},meta:{backspace:function(){var t;return this.setInputSummary({preferDocument:!1}),null!=(t=this.delegate)?t.inputControllerWillPerformTyping():void 0}}},a.prototype.getCompositionInput=function(){return this.isComposing()?this.compositionInput:this.compositionInput=new t(this)},a.prototype.isComposing=function(){return null!=this.compositionInput&&!this.compositionInput.isEnded()},a.prototype.deleteInDirection=function(t,e){var n;return!1!==(null!=(n=this.responder)?n.deleteInDirection(t):void 0)?this.setInputSummary({didDelete:!0}):e?(e.preventDefault(),this.requestRender()):void 0},a.prototype.serializeSelectionToDataTransfer=function(t){var e,n;if(i(t))return e=null!=(n=this.responder)?n.getSelectedDocument().toSerializableDocument():void 0,t.setData(\"application/x-trix-document\",JSON.stringify(e)),t.setData(\"text/html\",r.DocumentView.render(e).innerHTML),t.setData(\"text/plain\",e.toString().replace(/\\n$/,\"\")),!0},a.prototype.canAcceptDataTransfer=function(t){var e,n,r,i,o;for(o={},e=0,n=(i=null!=(r=null!=t?t.types:void 0)?r:[]).length;n>e;e++)o[i[e]]=!0;return o.Files||o[\"application/x-trix-document\"]||o[\"text/html\"]||o[\"text/plain\"]},a.prototype.getPastedHTMLUsingHiddenElement=function(t){var e,n,i;return n=this.getSelectedRange(),i={position:\"absolute\",left:window.pageXOffset+\"px\",top:window.pageYOffset+\"px\",opacity:0},e=c({style:i,tagName:\"div\",editable:!0}),document.body.appendChild(e),e.focus(),requestAnimationFrame(function(i){return function(){var o;return o=e.innerHTML,r.removeNode(e),i.setSelectedRange(n),t(o)}}(this))},a.proxyMethod(\"responder?.getSelectedRange\"),a.proxyMethod(\"responder?.setSelectedRange\"),a.proxyMethod(\"responder?.expandSelectionInDirection\"),a.proxyMethod(\"responder?.selectionIsInCursorTarget\"),a.proxyMethod(\"responder?.selectionIsExpanded\"),a}(r.InputController),o=function(t){var e,n;return null!=(e=t.type)&&null!=(n=e.match(/\\/(\\w+)$/))?n[1]:void 0},a=null!=(\"function\"==typeof\" \".codePointAt?\" \".codePointAt(0):void 0),p=function(t){var e;return t.key&&a&&t.key.codePointAt(0)===t.keyCode?t.key:(null===t.which?e=t.keyCode:0!==t.which&&0!==t.charCode&&(e=t.charCode),null!=e&&\"escape\"!==u[e]?r.UTF16String.fromCodepoints([e]).toString():void 0)},h=function(t){var e,n,r,i,o,a,s,u,c;if(s=t.clipboardData){if(g.call(s.types,\"text/html\")>=0){for(r=0,a=(u=s.types).length;a>r;r++)if(c=u[r],e=/^CorePasteboardFlavorType/.test(c),n=/^dyn\\./.test(c)&&s.getData(c),e||n)return!0;return!1}return i=g.call(s.types,\"com.apple.webarchive\")>=0,o=g.call(s.types,\"com.apple.flat-rtfd\")>=0,i||o}},t=function(t){function n(t){var e;this.inputController=t,e=this.inputController,this.responder=e.responder,this.delegate=e.delegate,this.inputSummary=e.inputSummary,this.data={}}return d(n,t),n.prototype.start=function(t){var e,n;return this.data.start=t,this.isSignificant()?(\"keypress\"===this.inputSummary.eventName&&this.inputSummary.textAdded&&null!=(e=this.responder)&&e.deleteInDirection(\"left\"),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=null!=(n=this.responder)?n.getSelectedRange():void 0):void 0},n.prototype.update=function(t){var e;return this.data.update=t,this.isSignificant()&&(e=this.selectPlaceholder())?(this.forgetPlaceholder(),this.range=e):void 0},n.prototype.end=function(t){var e,n,r,i;return this.data.end=t,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.setSelectedRange(this.range),null!=(r=this.responder)&&r.insertString(this.data.end),null!=(i=this.responder)?i.setSelectedRange(this.range[0]+this.data.end.length):void 0):null!=this.data.start||null!=this.data.update?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset()},n.prototype.getEndData=function(){return this.data.end},n.prototype.isEnded=function(){return null!=this.getEndData()},n.prototype.isSignificant=function(){return!e.composesExistingText||this.inputSummary.didInput},n.prototype.canApplyToDocument=function(){var t,e;return 0===(null!=(t=this.data.start)?t.length:void 0)&&(null!=(e=this.data.end)?e.length:void 0)>0&&null!=this.range},n.proxyMethod(\"inputController.setInputSummary\"),n.proxyMethod(\"inputController.requestRender\"),n.proxyMethod(\"inputController.requestReparse\"),n.proxyMethod(\"responder?.selectionIsExpanded\"),n.proxyMethod(\"responder?.insertPlaceholder\"),n.proxyMethod(\"responder?.selectPlaceholder\"),n.proxyMethod(\"responder?.forgetPlaceholder\"),n}(r.BasicObject)}.call(this),function(){var t,e,n,i=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty,s=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=r.dataTransferIsPlainText,e=r.keyEventIsKeyboardCommand,n=r.objectsAreEqual,r.Level2InputController=function(a){function u(){return this.render=i(this.render,this),u.__super__.constructor.apply(this,arguments)}var c,l,h,p,d,f;return o(u,a),u.prototype.elementDidMutate=function(){var t;return this.scheduledRender?this.composing&&null!=(t=this.delegate)&&\"function\"==typeof t.inputControllerDidAllowUnhandledInput?t.inputControllerDidAllowUnhandledInput():void 0:this.reparse()},u.prototype.scheduleRender=function(){return null!=this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)},u.prototype.render=function(){var t;return cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||null!=(t=this.delegate)&&t.render(),\"function\"==typeof this.afterRender&&this.afterRender(),this.afterRender=null},u.prototype.reparse=function(){var t;return null!=(t=this.delegate)?t.reparse():void 0},u.prototype.events={keydown:function(t){var n,r,i,o;if(e(t)){if(n=l(t),null!=(o=this.delegate)?o.inputControllerDidReceiveKeyboardCommand(n):void 0)return t.preventDefault()}else if(i=t.key,t.altKey&&(i+=\"+Alt\"),t.shiftKey&&(i+=\"+Shift\"),r=this.keys[i])return this.withEvent(t,r)},paste:function(t){var e,n,i,o,a,s,u,c,l;return h(t)?(t.preventDefault(),this.attachFiles(t.clipboardData.files)):p(t)?(t.preventDefault(),n={type:\"text/plain\",string:t.clipboardData.getData(\"text/plain\")},null!=(i=this.delegate)&&i.inputControllerWillPaste(n),null!=(o=this.responder)&&o.insertString(n.string),this.render(),null!=(a=this.delegate)?a.inputControllerDidPaste(n):void 0):(e=null!=(s=t.clipboardData)?s.getData(\"URL\"):void 0)?(t.preventDefault(),n={type:\"URL\",href:e,string:e},null!=(u=this.delegate)&&u.inputControllerWillPaste(n),null!=(c=this.responder)&&c.insertText(r.Text.textForStringWithAttributes(n.string,{href:n.href})),this.render(),null!=(l=this.delegate)?l.inputControllerDidPaste(n):void 0):void 0},beforeinput:function(t){var e;return(e=this.inputTypes[t.inputType])?(this.withEvent(t,e),this.scheduleRender()):void 0},input:function(){return r.selectionChangeObserver.reset()},dragstart:function(t){var e,n;return(null!=(e=this.responder)?e.selectionContainsAttachments():void 0)?(t.dataTransfer.setData(\"application/x-trix-dragging\",!0),this.dragging={range:null!=(n=this.responder)?n.getSelectedRange():void 0,point:d(t)}):void 0},dragenter:function(t){return c(t)?t.preventDefault():void 0},dragover:function(t){var e,r;return this.dragging&&(t.preventDefault(),e=d(t),!n(e,this.dragging.point))?(this.dragging.point=e,null!=(r=this.responder)?r.setLocationRangeFromPointRange(e):void 0):void 0},drop:function(t){var e,n,r,i;return this.dragging?(t.preventDefault(),null!=(n=this.delegate)&&n.inputControllerWillMoveText(),null!=(r=this.responder)&&r.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender()):c(t)?(t.preventDefault(),e=d(t),null!=(i=this.responder)&&i.setLocationRangeFromPointRange(e),this.attachFiles(t.dataTransfer.files)):void 0},dragend:function(){var t;return this.dragging?(null!=(t=this.responder)&&t.setSelectedRange(this.dragging.range),this.dragging=null):void 0},compositionend:function(){return this.composing?(this.composing=!1,this.scheduleRender()):void 0}},u.prototype.keys={ArrowLeft:function(){var t,e;return(null!=(t=this.responder)?t.shouldManageMovingCursorInDirection(\"backward\"):void 0)?(this.event.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection(\"backward\"):void 0):void 0},ArrowRight:function(){var t,e;return(null!=(t=this.responder)?t.shouldManageMovingCursorInDirection(\"forward\"):void 0)?(this.event.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection(\"forward\"):void 0):void 0},Backspace:function(){var t,e,n;return(null!=(t=this.responder)?t.shouldManageDeletingInDirection(\"backward\"):void 0)?(this.event.preventDefault(),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.deleteInDirection(\"backward\"),this.render()):void 0},Tab:function(){var t,e;return(null!=(t=this.responder)?t.canIncreaseNestingLevel():void 0)?(this.event.preventDefault(),null!=(e=this.responder)&&e.increaseNestingLevel(),this.render()):void 0},\"Tab+Shift\":function(){var t,e;return(null!=(t=this.responder)?t.canDecreaseNestingLevel():void 0)?(this.event.preventDefault(),null!=(e=this.responder)&&e.decreaseNestingLevel(),this.render()):void 0}},u.prototype.inputTypes={deleteByComposition:function(){return this.deleteInDirection(\"backward\",{recordUndoEntry:!1})},deleteByCut:function(){return this.deleteInDirection(\"backward\")},deleteByDrag:function(){return this.event.preventDefault(),this.withTargetDOMRange((function(){var t;return this.deleteByDragRange=null!=(t=this.responder)?t.getSelectedRange():void 0}))},deleteCompositionText:function(){return this.deleteInDirection(\"backward\",{recordUndoEntry:!1})},deleteContent:function(){return this.deleteInDirection(\"backward\")},deleteContentBackward:function(){return this.deleteInDirection(\"backward\")},deleteContentForward:function(){return this.deleteInDirection(\"forward\")},deleteEntireSoftLine:function(){return this.deleteInDirection(\"forward\")},deleteHardLineBackward:function(){return this.deleteInDirection(\"backward\")},deleteHardLineForward:function(){return this.deleteInDirection(\"forward\")},deleteSoftLineBackward:function(){return this.deleteInDirection(\"backward\")},deleteSoftLineForward:function(){return this.deleteInDirection(\"forward\")},deleteWordBackward:function(){return this.deleteInDirection(\"backward\")},deleteWordForward:function(){return this.deleteInDirection(\"forward\")},formatBackColor:function(){return this.activateAttributeIfSupported(\"backgroundColor\",this.event.data)},formatBold:function(){return this.toggleAttributeIfSupported(\"bold\")},formatFontColor:function(){return this.activateAttributeIfSupported(\"color\",this.event.data)},formatFontName:function(){return this.activateAttributeIfSupported(\"font\",this.event.data)},formatIndent:function(){var t;return(null!=(t=this.responder)?t.canIncreaseNestingLevel():void 0)?this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.increaseNestingLevel():void 0})):void 0},formatItalic:function(){return this.toggleAttributeIfSupported(\"italic\")},formatJustifyCenter:function(){return this.toggleAttributeIfSupported(\"justifyCenter\")},formatJustifyFull:function(){return this.toggleAttributeIfSupported(\"justifyFull\")},formatJustifyLeft:function(){return this.toggleAttributeIfSupported(\"justifyLeft\")},formatJustifyRight:function(){return this.toggleAttributeIfSupported(\"justifyRight\")},formatOutdent:function(){var t;return(null!=(t=this.responder)?t.canDecreaseNestingLevel():void 0)?this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.decreaseNestingLevel():void 0})):void 0},formatRemove:function(){return this.withTargetDOMRange((function(){var t,e,n,r;for(t in r=[],null!=(e=this.responder)?e.getCurrentAttributes():void 0)r.push(null!=(n=this.responder)?n.removeCurrentAttribute(t):void 0);return r}))},formatSetBlockTextDirection:function(){return this.activateAttributeIfSupported(\"blockDir\",this.event.data)},formatSetInlineTextDirection:function(){return this.activateAttributeIfSupported(\"textDir\",this.event.data)},formatStrikeThrough:function(){return this.toggleAttributeIfSupported(\"strike\")},formatSubscript:function(){return this.toggleAttributeIfSupported(\"sub\")},formatSuperscript:function(){return this.toggleAttributeIfSupported(\"sup\")},formatUnderline:function(){return this.toggleAttributeIfSupported(\"underline\")},historyRedo:function(){var t;return null!=(t=this.delegate)?t.inputControllerWillPerformRedo():void 0},historyUndo:function(){var t;return null!=(t=this.delegate)?t.inputControllerWillPerformUndo():void 0},insertCompositionText:function(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition:function(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop:function(){var t,e;return(t=this.deleteByDragRange)?(this.deleteByDragRange=null,null!=(e=this.delegate)&&e.inputControllerWillMoveText(),this.withTargetDOMRange((function(){var e;return null!=(e=this.responder)?e.moveTextFromRange(t):void 0}))):void 0},insertFromPaste:function(){var e,n,i,o,a,s,u,c,l,h;return e=this.event.dataTransfer,a={dataTransfer:e},(n=e.getData(\"URL\"))?(a.type=\"URL\",a.href=n,a.string=(o=e.getData(\"public.url-name\"))?r.squishBreakableWhitespace(o).trim():n,null!=(s=this.delegate)&&s.inputControllerWillPaste(a),this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.insertText(r.Text.textForStringWithAttributes(a.string,{href:a.href})):void 0})),this.afterRender=function(t){return function(){var e;return null!=(e=t.delegate)?e.inputControllerDidPaste(a):void 0}}(this)):t(e)?(a.type=\"text/plain\",a.string=e.getData(\"text/plain\"),null!=(u=this.delegate)&&u.inputControllerWillPaste(a),this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.insertString(a.string):void 0})),this.afterRender=function(t){return function(){var e;return null!=(e=t.delegate)?e.inputControllerDidPaste(a):void 0}}(this)):(i=e.getData(\"text/html\"))?(a.type=\"text/html\",a.html=i,null!=(c=this.delegate)&&c.inputControllerWillPaste(a),this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.insertHTML(a.html):void 0})),this.afterRender=function(t){return function(){var e;return null!=(e=t.delegate)?e.inputControllerDidPaste(a):void 0}}(this)):(null!=(l=e.files)?l.length:void 0)?(a.type=\"File\",a.file=e.files[0],null!=(h=this.delegate)&&h.inputControllerWillPaste(a),this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.insertFile(a.file):void 0})),this.afterRender=function(t){return function(){var e;return null!=(e=t.delegate)?e.inputControllerDidPaste(a):void 0}}(this)):void 0},insertFromYank:function(){return this.insertString(this.event.data)},insertLineBreak:function(){return this.insertString(\"\\n\")},insertLink:function(){return this.activateAttributeIfSupported(\"href\",this.event.data)},insertOrderedList:function(){return this.toggleAttributeIfSupported(\"number\")},insertParagraph:function(){var t;return null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.insertLineBreak():void 0}))},insertReplacementText:function(){return this.insertString(this.event.dataTransfer.getData(\"text/plain\"),{updatePosition:!1})},insertText:function(){var t,e;return this.insertString(null!=(t=this.event.data)?t:null!=(e=this.event.dataTransfer)?e.getData(\"text/plain\"):void 0)},insertTranspose:function(){return this.insertString(this.event.data)},insertUnorderedList:function(){return this.toggleAttributeIfSupported(\"bullet\")}},u.prototype.insertString=function(t,e){var n;return null==t&&(t=\"\"),null!=(n=this.delegate)&&n.inputControllerWillPerformTyping(),this.withTargetDOMRange((function(){var n;return null!=(n=this.responder)?n.insertString(t,e):void 0}))},u.prototype.toggleAttributeIfSupported=function(t){var e;return s.call(r.getAllAttributeNames(),t)>=0?(null!=(e=this.delegate)&&e.inputControllerWillPerformFormatting(t),this.withTargetDOMRange((function(){var e;return null!=(e=this.responder)?e.toggleCurrentAttribute(t):void 0}))):void 0},u.prototype.activateAttributeIfSupported=function(t,e){var n;return s.call(r.getAllAttributeNames(),t)>=0?(null!=(n=this.delegate)&&n.inputControllerWillPerformFormatting(t),this.withTargetDOMRange((function(){var n;return null!=(n=this.responder)?n.setCurrentAttribute(t,e):void 0}))):void 0},u.prototype.deleteInDirection=function(t,e){var n,r,i;return(null!=e?e:{recordUndoEntry:!0}).recordUndoEntry&&null!=(i=this.delegate)&&i.inputControllerWillPerformTyping(),r=function(e){return function(){var n;return null!=(n=e.responder)?n.deleteInDirection(t):void 0}}(this),(n=this.getTargetDOMRange({minLength:2}))?this.withTargetDOMRange(n,r):r()},u.prototype.withTargetDOMRange=function(t,e){var n;return\"function\"==typeof t&&(e=t,t=this.getTargetDOMRange()),t?null!=(n=this.responder)?n.withTargetDOMRange(t,e.bind(this)):void 0:(r.selectionChangeObserver.reset(),e.call(this))},u.prototype.getTargetDOMRange=function(t){var e,n,r,i;return r=(null!=t?t:{minLength:0}).minLength,(i=\"function\"==typeof(e=this.event).getTargetRanges?e.getTargetRanges():void 0)&&i.length&&(n=f(i[0]),0===r||n.toString().length>=r)?n:void 0},f=function(t){var e;return(e=document.createRange()).setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),e},u.prototype.withEvent=function(t,e){var n;this.event=t;try{n=e.call(this)}finally{this.event=null}return n},c=function(t){var e,n;return s.call(null!=(e=null!=(n=t.dataTransfer)?n.types:void 0)?e:[],\"Files\")>=0},h=function(t){var e;return(e=t.clipboardData)?s.call(e.types,\"Files\")>=0&&1===e.types.length&&e.files.length>=1:void 0},p=function(t){var e;return(e=t.clipboardData)?s.call(e.types,\"text/plain\")>=0&&1===e.types.length:void 0},l=function(t){var e;return e=[],t.altKey&&e.push(\"alt\"),t.shiftKey&&e.push(\"shift\"),e.push(t.key),e},d=function(t){return{x:t.clientX,y:t.clientY}},u}(r.InputController)}.call(this),function(){var t,e,n,i,o,a,s,u,c,l=function(t,e){return function(){return t.apply(e,arguments)}},h=function(t,e){function n(){this.constructor=t}for(var r in e)p.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;e=r.defer,n=r.escapeHTML,i=r.handleEvent,s=r.makeElement,c=r.tagName,u=r.config,a=u.lang,t=u.css,o=u.keyNames,r.AttachmentEditorController=function(u){function p(t,e,n,r){this.attachmentPiece=t,this.element=e,this.container=n,this.options=null!=r?r:{},this.didBlurCaption=l(this.didBlurCaption,this),this.didChangeCaption=l(this.didChangeCaption,this),this.didInputCaption=l(this.didInputCaption,this),this.didKeyDownCaption=l(this.didKeyDownCaption,this),this.didClickActionButton=l(this.didClickActionButton,this),this.didClickToolbar=l(this.didClickToolbar,this),this.attachment=this.attachmentPiece.attachment,\"a\"===c(this.element)&&(this.element=this.element.firstChild),this.install()}var d;return h(p,u),d=function(t){return function(){var e;return(e=t.apply(this,arguments)).do(),null==this.undos&&(this.undos=[]),this.undos.push(e.undo)}},p.prototype.install=function(){return this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()?this.installCaptionEditor():void 0},p.prototype.uninstall=function(){var t,e;for(this.savePendingCaption();e=this.undos.pop();)e();return null!=(t=this.delegate)?t.didUninstallAttachmentEditor(this):void 0},p.prototype.savePendingCaption=function(){var t,e,n;return null!=this.pendingCaption?(t=this.pendingCaption,this.pendingCaption=null,t?null!=(e=this.delegate)&&\"function\"==typeof e.attachmentEditorDidRequestUpdatingAttributesForAttachment?e.attachmentEditorDidRequestUpdatingAttributesForAttachment({caption:t},this.attachment):void 0:null!=(n=this.delegate)&&\"function\"==typeof n.attachmentEditorDidRequestRemovingAttributeForAttachment?n.attachmentEditorDidRequestRemovingAttributeForAttachment(\"caption\",this.attachment):void 0):void 0},p.prototype.makeElementMutable=d((function(){return{do:function(t){return function(){return t.element.dataset.trixMutable=!0}}(this),undo:function(t){return function(){return delete t.element.dataset.trixMutable}}(this)}})),p.prototype.addToolbar=d((function(){var e,o,u;return(e=s({tagName:\"div\",className:t.attachmentToolbar,data:{trixMutable:!0}})).innerHTML='<div class=\"trix-button-row\">\\n  <span class=\"trix-button-group trix-button-group--actions\">\\n    <button type=\"button\" data-trix-action=\"remove\" class=\"trix-button trix-button--remove\" title=\"'+a.remove+'\">'+a.remove+\"</button>\\n  </span>\\n</div>\",this.attachment.isPreviewable()&&(o=n(this.attachment.getFilename()),u=n(this.attachment.getFormattedFilesize()),e.innerHTML+='<div class=\"'+t.attachmentMetadataContainer+'\">\\n  <span class=\"'+t.attachmentMetadata+'\">\\n    <span class=\"'+t.attachmentName+'\" title=\"'+o+'\">'+o+'</span>\\n    <span class=\"'+t.attachmentSize+'\">'+u+\"</span>\\n  </span>\\n</div>\"),i(\"click\",{onElement:e,withCallback:this.didClickToolbar}),i(\"click\",{onElement:e,matchingSelector:\"[data-trix-action]\",withCallback:this.didClickActionButton}),{do:function(t){return function(){return t.element.appendChild(e)}}(this),undo:function(){return r.removeNode(e)}}})),p.prototype.installCaptionEditor=d((function(){var n,o,u,c,l;return(c=s({tagName:\"textarea\",className:t.attachmentCaptionEditor,attributes:{placeholder:a.captionPlaceholder},data:{trixMutable:!0}})).value=this.attachmentPiece.getCaption(),(l=c.cloneNode()).classList.add(\"trix-autoresize-clone\"),l.tabIndex=-1,n=function(){return l.value=c.value,c.style.height=l.scrollHeight+\"px\"},i(\"input\",{onElement:c,withCallback:n}),i(\"input\",{onElement:c,withCallback:this.didInputCaption}),i(\"keydown\",{onElement:c,withCallback:this.didKeyDownCaption}),i(\"change\",{onElement:c,withCallback:this.didChangeCaption}),i(\"blur\",{onElement:c,withCallback:this.didBlurCaption}),u=this.element.querySelector(\"figcaption\"),o=u.cloneNode(),{do:function(r){return function(){return u.style.display=\"none\",o.appendChild(c),o.appendChild(l),o.classList.add(t.attachmentCaption+\"--editing\"),u.parentElement.insertBefore(o,u),n(),r.options.editCaption?e((function(){return c.focus()})):void 0}}(this),undo:function(){return r.removeNode(o),u.style.display=null}}})),p.prototype.didClickToolbar=function(t){return t.preventDefault(),t.stopPropagation()},p.prototype.didClickActionButton=function(t){var e;switch(t.target.getAttribute(\"data-trix-action\")){case\"remove\":return null!=(e=this.delegate)?e.attachmentEditorDidRequestRemovalOfAttachment(this.attachment):void 0}},p.prototype.didKeyDownCaption=function(t){var e;return\"return\"===o[t.keyCode]?(t.preventDefault(),this.savePendingCaption(),null!=(e=this.delegate)&&\"function\"==typeof e.attachmentEditorDidRequestDeselectingAttachment?e.attachmentEditorDidRequestDeselectingAttachment(this.attachment):void 0):void 0},p.prototype.didInputCaption=function(t){return this.pendingCaption=t.target.value.replace(/\\s/g,\" \").trim()},p.prototype.didChangeCaption=function(){return this.savePendingCaption()},p.prototype.didBlurCaption=function(){return this.savePendingCaption()},p}(r.BasicObject)}.call(this),function(){var t,e,n,i=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;n=r.makeElement,t=r.config.css,r.AttachmentView=function(o){function a(){a.__super__.constructor.apply(this,arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}var s;return i(a,o),a.attachmentSelector=\"[data-trix-attachment]\",a.prototype.createContentNodes=function(){return[]},a.prototype.createNodes=function(){var e,r,i,o,a,u,c;if(e=o=n({tagName:\"figure\",className:this.getClassName(),data:this.getData(),editable:!1}),(r=this.getHref())&&(o=n({tagName:\"a\",editable:!1,attributes:{href:r,tabindex:-1}}),e.appendChild(o)),this.attachment.hasContent())o.innerHTML=this.attachment.getContent();else for(i=0,a=(c=this.createContentNodes()).length;a>i;i++)u=c[i],o.appendChild(u);return o.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=n({tagName:\"progress\",attributes:{class:t.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:[\"progressElement\",this.attachment.id].join(\"/\")}}),e.appendChild(this.progressElement)),[s(\"left\"),e,s(\"right\")]},a.prototype.createCaptionElement=function(){var e,r,i,o,a,s,u;return i=n({tagName:\"figcaption\",className:t.attachmentCaption}),(e=this.attachmentPiece.getCaption())?(i.classList.add(t.attachmentCaption+\"--edited\"),i.textContent=e):((r=this.getCaptionConfig()).name&&(o=this.attachment.getFilename()),r.size&&(s=this.attachment.getFormattedFilesize()),o&&(a=n({tagName:\"span\",className:t.attachmentName,textContent:o}),i.appendChild(a)),s&&(o&&i.appendChild(document.createTextNode(\" \")),u=n({tagName:\"span\",className:t.attachmentSize,textContent:s}),i.appendChild(u))),i},a.prototype.getClassName=function(){var e,n;return n=[t.attachment,t.attachment+\"--\"+this.attachment.getType()],(e=this.attachment.getExtension())&&n.push(t.attachment+\"--\"+e),n.join(\" \")},a.prototype.getData=function(){var t,e;return e={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},(t=this.attachmentPiece.attributes).isEmpty()||(e.trixAttributes=JSON.stringify(t)),this.attachment.isPending()&&(e.trixSerialize=!1),e},a.prototype.getHref=function(){return e(this.attachment.getContent(),\"a\")?void 0:this.attachment.getHref()},a.prototype.getCaptionConfig=function(){var t,e,n;return n=this.attachment.getType(),t=r.copyObject(null!=(e=r.config.attachments[n])?e.caption:void 0),\"file\"===n&&(t.name=!0),t},a.prototype.findProgressElement=function(){var t;return null!=(t=this.findElement())?t.querySelector(\"progress\"):void 0},s=function(t){return n({tagName:\"span\",textContent:r.ZERO_WIDTH_SPACE,data:{trixCursorTarget:t,trixSerialize:!1}})},a.prototype.attachmentDidChangeUploadProgress=function(){var t,e;return e=this.attachment.getUploadProgress(),null!=(t=this.findProgressElement())?t.value=e:void 0},a}(r.ObjectView),e=function(t,e){var r;return(r=n(\"div\")).innerHTML=null!=t?t:\"\",r.querySelector(e)}}.call(this),function(){var t,e=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},n={}.hasOwnProperty;t=r.makeElement,r.PreviewableAttachmentView=function(n){function i(){i.__super__.constructor.apply(this,arguments),this.attachment.previewDelegate=this}return e(i,n),i.prototype.createContentNodes=function(){return this.image=t({tagName:\"img\",attributes:{src:\"\"},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]},i.prototype.createCaptionElement=function(){var t;return(t=i.__super__.createCaptionElement.apply(this,arguments)).textContent||t.setAttribute(\"data-trix-placeholder\",r.config.lang.captionPlaceholder),t},i.prototype.refresh=function(t){var e;return null==t&&(t=null!=(e=this.findElement())?e.querySelector(\"img\"):void 0),t?this.updateAttributesForImage(t):void 0},i.prototype.updateAttributesForImage=function(t){var e,n,r,i,o,a;return o=this.attachment.getURL(),n=this.attachment.getPreviewURL(),t.src=n||o,n===o?t.removeAttribute(\"data-trix-serialized-attributes\"):(r=JSON.stringify({src:o}),t.setAttribute(\"data-trix-serialized-attributes\",r)),a=this.attachment.getWidth(),e=this.attachment.getHeight(),null!=a&&(t.width=a),null!=e&&(t.height=e),i=[\"imageElement\",this.attachment.id,t.src,t.width,t.height].join(\"/\"),t.dataset.trixStoreKey=i},i.prototype.attachmentDidChangeAttributes=function(){return this.refresh(this.image),this.refresh()},i}(r.AttachmentView)}.call(this),function(){var t,e,n,i=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;n=r.makeElement,t=r.findInnerElement,e=r.getTextConfig,r.PieceView=function(o){function a(){var t;a.__super__.constructor.apply(this,arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),t=this.options,this.textConfig=t.textConfig,this.context=t.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}var s;return i(a,o),a.prototype.createNodes=function(){var e,n,r,i,o,a;if(a=this.attachment?this.createAttachmentNodes():this.createStringNodes(),e=this.createElement()){for(r=t(e),n=0,i=a.length;i>n;n++)o=a[n],r.appendChild(o);a=[e]}return a},a.prototype.createAttachmentNodes=function(){var t;return t=this.attachment.isPreviewable()?r.PreviewableAttachmentView:r.AttachmentView,this.createChildView(t,this.piece.attachment,{piece:this.piece}).getNodes()},a.prototype.createStringNodes=function(){var t,e,r,i,o,a,s,u,c;if(null!=(s=this.textConfig)?s.plaintext:void 0)return[document.createTextNode(this.string)];for(a=[],r=e=0,i=(u=this.string.split(\"\\n\")).length;i>e;r=++e)c=u[r],r>0&&(t=n(\"br\"),a.push(t)),c.length&&(o=document.createTextNode(this.preserveSpaces(c)),a.push(o));return a},a.prototype.createElement=function(){var t,r,i,o,a,s,u,c,l;for(o in c={},s=this.attributes)if(l=s[o],(t=e(o))&&(t.tagName&&(a=n(t.tagName),i?(i.appendChild(a),i=a):r=i=a),t.styleProperty&&(c[t.styleProperty]=l),t.style))for(o in u=t.style)l=u[o],c[o]=l;if(Object.keys(c).length)for(o in null==r&&(r=n(\"span\")),c)l=c[o],r.style[o]=l;return r},a.prototype.createContainerElement=function(){var t,r,i,o,a;for(i in o=this.attributes)if(a=o[i],(r=e(i))&&r.groupTagName)return(t={})[i]=a,n(r.groupTagName,t)},s=r.NON_BREAKING_SPACE,a.prototype.preserveSpaces=function(t){return this.context.isLast&&(t=t.replace(/\\ $/,s)),t=t.replace(/(\\S)\\ {3}(\\S)/g,\"$1 \"+s+\" $2\").replace(/\\ {2}/g,s+\" \").replace(/\\ {2}/g,\" \"+s),(this.context.isFirst||this.context.followsWhitespace)&&(t=t.replace(/^\\ /,s)),t},a}(r.ObjectView)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.TextView=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.text=this.object,this.textConfig=this.options.textConfig}var i;return t(n,e),n.prototype.createNodes=function(){var t,e,n,o,a,s,u,c,l,h;for(s=[],o=(c=r.ObjectGroup.groupObjects(this.getPieces())).length-1,n=e=0,a=c.length;a>e;n=++e)u=c[n],t={},0===n&&(t.isFirst=!0),n===o&&(t.isLast=!0),i(l)&&(t.followsWhitespace=!0),h=this.findOrCreateCachedChildView(r.PieceView,u,{textConfig:this.textConfig,context:t}),s.push.apply(s,h.getNodes()),l=u;return s},n.prototype.getPieces=function(){var t,e,n,r,i;for(i=[],t=0,e=(r=this.text.getPieces()).length;e>t;t++)(n=r[t]).hasAttribute(\"blockBreak\")||i.push(n);return i},i=function(t){return/\\s$/.test(null!=t?t.toString():void 0)},n}(r.ObjectView)}.call(this),function(){var t,e,n,i=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;n=r.makeElement,e=r.getBlockConfig,t=r.config.css,r.BlockView=function(o){function a(){a.__super__.constructor.apply(this,arguments),this.block=this.object,this.attributes=this.block.getAttributes()}return i(a,o),a.prototype.createNodes=function(){var t,i,o,a,s,u,c,l;if(s=[document.createComment(\"block\")],this.block.isEmpty()?s.push(n(\"br\")):(c=null!=(u=e(this.block.getLastAttribute()))?u.text:void 0,l=this.findOrCreateCachedChildView(r.TextView,this.block.text,{textConfig:c}),s.push.apply(s,l.getNodes()),this.shouldAddExtraNewlineElement()&&s.push(n(\"br\"))),this.attributes.length)return s;for(t=n(r.config.blockAttributes.default.tagName),i=0,o=s.length;o>i;i++)a=s[i],t.appendChild(a);return[t]},a.prototype.createContainerElement=function(r){var i,o,a;return i=this.attributes[r],o={tagName:e(i).tagName},\"attachmentGallery\"===i&&(a=this.block.getBlockBreakPosition(),o.className=t.attachmentGallery+\" \"+t.attachmentGallery+\"--\"+a),n(o)},a.prototype.shouldAddExtraNewlineElement=function(){return/\\n\\n$/.test(this.block.toString())},a}(r.ObjectView)}.call(this),function(){var t,e,n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=r.defer,e=r.makeElement,r.DocumentView=function(i){function o(){o.__super__.constructor.apply(this,arguments),this.element=this.options.element,this.elementStore=new r.ElementStore,this.setDocument(this.object)}var a,s,u;return n(o,i),o.render=function(t){var n,r;return(r=new this(t,{element:n=e(\"div\")})).render(),r.sync(),n},o.prototype.setDocument=function(t){return t.isEqualTo(this.document)?void 0:this.document=this.object=t},o.prototype.render=function(){var t,n,i,o,a,s,u;if(this.childViews=[],this.shadowElement=e(\"div\"),!this.document.isEmpty()){for(s=[],t=0,n=(a=r.ObjectGroup.groupObjects(this.document.getBlocks(),{asTree:!0})).length;n>t;t++)o=a[t],u=this.findOrCreateCachedChildView(r.BlockView,o),s.push(function(){var t,e,n,r;for(r=[],t=0,e=(n=u.getNodes()).length;e>t;t++)i=n[t],r.push(this.shadowElement.appendChild(i));return r}.call(this));return s}},o.prototype.isSynced=function(){return a(this.shadowElement,this.element)},o.prototype.sync=function(){var t;for(t=this.createDocumentFragmentForSync();this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(t),this.didSync()},o.prototype.didSync=function(){return this.elementStore.reset(s(this.element)),t(function(t){return function(){return t.garbageCollectCachedViews()}}(this))},o.prototype.createDocumentFragmentForSync=function(){var t,e,n,r,i,o,a,u,c,l;for(e=document.createDocumentFragment(),n=0,i=(u=this.shadowElement.childNodes).length;i>n;n++)a=u[n],e.appendChild(a.cloneNode(!0));for(r=0,o=(c=s(e)).length;o>r;r++)t=c[r],(l=this.elementStore.remove(t))&&t.parentNode.replaceChild(l,t);return e},s=function(t){return t.querySelectorAll(\"[data-trix-store-key]\")},a=function(t,e){return u(t.innerHTML)===u(e.innerHTML)},u=function(t){return t.replace(/&nbsp;/g,\" \")},o}(r.ObjectView)}.call(this),function(){var t,e,n,i,o,a=function(t,e){return function(){return t.apply(e,arguments)}},s=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;n=r.findClosestElementFromNode,i=r.handleEvent,o=r.innerElementIsActive,e=r.defer,t=r.AttachmentView.attachmentSelector,r.CompositionController=function(u){function c(e,n){this.element=e,this.composition=n,this.didClickAttachment=a(this.didClickAttachment,this),this.didBlur=a(this.didBlur,this),this.didFocus=a(this.didFocus,this),this.documentView=new r.DocumentView(this.composition.document,{element:this.element}),i(\"focus\",{onElement:this.element,withCallback:this.didFocus}),i(\"blur\",{onElement:this.element,withCallback:this.didBlur}),i(\"click\",{onElement:this.element,matchingSelector:\"a[contenteditable=false]\",preventDefault:!0}),i(\"mousedown\",{onElement:this.element,matchingSelector:t,withCallback:this.didClickAttachment}),i(\"click\",{onElement:this.element,matchingSelector:\"a\"+t,preventDefault:!0})}return s(c,u),c.prototype.didFocus=function(){var t,e,n;return t=function(t){return function(){var e;return t.focused?void 0:(t.focused=!0,null!=(e=t.delegate)&&\"function\"==typeof e.compositionControllerDidFocus?e.compositionControllerDidFocus():void 0)}}(this),null!=(e=null!=(n=this.blurPromise)?n.then(t):void 0)?e:t()},c.prototype.didBlur=function(){return this.blurPromise=new Promise(function(t){return function(n){return e((function(){var e;return o(t.element)||(t.focused=null,null!=(e=t.delegate)&&\"function\"==typeof e.compositionControllerDidBlur&&e.compositionControllerDidBlur()),t.blurPromise=null,n()}))}}(this))},c.prototype.didClickAttachment=function(t,e){var r,i,o;return r=this.findAttachmentForElement(e),i=null!=n(t.target,{matchingSelector:\"figcaption\"}),null!=(o=this.delegate)&&\"function\"==typeof o.compositionControllerDidSelectAttachment?o.compositionControllerDidSelectAttachment(r,{editCaption:i}):void 0},c.prototype.getSerializableElement=function(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element},c.prototype.render=function(){var t,e,n;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&(null!=(t=this.delegate)&&\"function\"==typeof t.compositionControllerWillSyncDocumentView&&t.compositionControllerWillSyncDocumentView(),this.documentView.sync(),null!=(e=this.delegate)&&\"function\"==typeof e.compositionControllerDidSyncDocumentView&&e.compositionControllerDidSyncDocumentView()),null!=(n=this.delegate)&&\"function\"==typeof n.compositionControllerDidRender?n.compositionControllerDidRender():void 0},c.prototype.rerenderViewForObject=function(t){return this.invalidateViewForObject(t),this.render()},c.prototype.invalidateViewForObject=function(t){return this.documentView.invalidateViewForObject(t)},c.prototype.isViewCachingEnabled=function(){return this.documentView.isViewCachingEnabled()},c.prototype.enableViewCaching=function(){return this.documentView.enableViewCaching()},c.prototype.disableViewCaching=function(){return this.documentView.disableViewCaching()},c.prototype.refreshViewCache=function(){return this.documentView.garbageCollectCachedViews()},c.prototype.isEditingAttachment=function(){return null!=this.attachmentEditor},c.prototype.installAttachmentEditorForAttachment=function(t,e){var n,i,o;if((null!=(o=this.attachmentEditor)?o.attachment:void 0)!==t&&(i=this.documentView.findElementForObject(t)))return this.uninstallAttachmentEditor(),n=this.composition.document.getAttachmentPieceForAttachment(t),this.attachmentEditor=new r.AttachmentEditorController(n,i,this.element,e),this.attachmentEditor.delegate=this},c.prototype.uninstallAttachmentEditor=function(){var t;return null!=(t=this.attachmentEditor)?t.uninstall():void 0},c.prototype.didUninstallAttachmentEditor=function(){return this.attachmentEditor=null,this.render()},c.prototype.attachmentEditorDidRequestUpdatingAttributesForAttachment=function(t,e){var n;return null!=(n=this.delegate)&&\"function\"==typeof n.compositionControllerWillUpdateAttachment&&n.compositionControllerWillUpdateAttachment(e),this.composition.updateAttributesForAttachment(t,e)},c.prototype.attachmentEditorDidRequestRemovingAttributeForAttachment=function(t,e){var n;return null!=(n=this.delegate)&&\"function\"==typeof n.compositionControllerWillUpdateAttachment&&n.compositionControllerWillUpdateAttachment(e),this.composition.removeAttributeForAttachment(t,e)},c.prototype.attachmentEditorDidRequestRemovalOfAttachment=function(t){var e;return null!=(e=this.delegate)&&\"function\"==typeof e.compositionControllerDidRequestRemovalOfAttachment?e.compositionControllerDidRequestRemovalOfAttachment(t):void 0},c.prototype.attachmentEditorDidRequestDeselectingAttachment=function(t){var e;return null!=(e=this.delegate)&&\"function\"==typeof e.compositionControllerDidRequestDeselectingAttachment?e.compositionControllerDidRequestDeselectingAttachment(t):void 0},c.prototype.canSyncDocumentView=function(){return!this.isEditingAttachment()},c.prototype.findAttachmentForElement=function(t){return this.composition.document.getAttachmentById(parseInt(t.dataset.trixId,10))},c}(r.BasicObject)}.call(this),function(){var t,e,n,i=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;e=r.handleEvent,n=r.triggerEvent,t=r.findClosestElementFromNode,r.ToolbarController=function(r){function a(t){this.element=t,this.didKeyDownDialogInput=i(this.didKeyDownDialogInput,this),this.didClickDialogButton=i(this.didClickDialogButton,this),this.didClickAttributeButton=i(this.didClickAttributeButton,this),this.didClickActionButton=i(this.didClickActionButton,this),this.attributes={},this.actions={},this.resetDialogInputs(),e(\"mousedown\",{onElement:this.element,matchingSelector:s,withCallback:this.didClickActionButton}),e(\"mousedown\",{onElement:this.element,matchingSelector:u,withCallback:this.didClickAttributeButton}),e(\"click\",{onElement:this.element,matchingSelector:m,preventDefault:!0}),e(\"click\",{onElement:this.element,matchingSelector:c,withCallback:this.didClickDialogButton}),e(\"keydown\",{onElement:this.element,matchingSelector:l,withCallback:this.didKeyDownDialogInput})}var s,u,c,l,h,p,d,f,g,m;return o(a,r),m=(u=\"[data-trix-attribute]\")+\", \"+(s=\"[data-trix-action]\"),(h=\"[data-trix-dialog]\")+\"[data-trix-active]\",c=h+\" [data-trix-method]\",l=h+\" [data-trix-input]\",a.prototype.didClickActionButton=function(t,e){var n,r,i;return null!=(r=this.delegate)&&r.toolbarDidClickButton(),t.preventDefault(),n=p(e),this.getDialog(n)?this.toggleDialog(n):null!=(i=this.delegate)?i.toolbarDidInvokeAction(n):void 0},a.prototype.didClickAttributeButton=function(t,e){var n,r,i;return null!=(r=this.delegate)&&r.toolbarDidClickButton(),t.preventDefault(),n=d(e),this.getDialog(n)?this.toggleDialog(n):null!=(i=this.delegate)&&i.toolbarDidToggleAttribute(n),this.refreshAttributeButtons()},a.prototype.didClickDialogButton=function(e,n){var r;return r=t(n,{matchingSelector:h}),this[n.getAttribute(\"data-trix-method\")].call(this,r)},a.prototype.didKeyDownDialogInput=function(t,e){var n,r;return 13===t.keyCode&&(t.preventDefault(),n=e.getAttribute(\"name\"),r=this.getDialog(n),this.setAttribute(r)),27===t.keyCode?(t.preventDefault(),this.hideDialog()):void 0},a.prototype.updateActions=function(t){return this.actions=t,this.refreshActionButtons()},a.prototype.refreshActionButtons=function(){return this.eachActionButton(function(t){return function(e,n){return e.disabled=!1===t.actions[n]}}(this))},a.prototype.eachActionButton=function(t){var e,n,r,i,o;for(o=[],n=0,r=(i=this.element.querySelectorAll(s)).length;r>n;n++)e=i[n],o.push(t(e,p(e)));return o},a.prototype.updateAttributes=function(t){return this.attributes=t,this.refreshAttributeButtons()},a.prototype.refreshAttributeButtons=function(){return this.eachAttributeButton(function(t){return function(e,n){return e.disabled=!1===t.attributes[n],t.attributes[n]||t.dialogIsVisible(n)?(e.setAttribute(\"data-trix-active\",\"\"),e.classList.add(\"trix-active\")):(e.removeAttribute(\"data-trix-active\"),e.classList.remove(\"trix-active\"))}}(this))},a.prototype.eachAttributeButton=function(t){var e,n,r,i,o;for(o=[],n=0,r=(i=this.element.querySelectorAll(u)).length;r>n;n++)e=i[n],o.push(t(e,d(e)));return o},a.prototype.applyKeyboardCommand=function(t){var e,r,i,o,a,s;for(o=JSON.stringify(t.sort()),i=0,a=(s=this.element.querySelectorAll(\"[data-trix-key]\")).length;a>i;i++)if(r=(e=s[i]).getAttribute(\"data-trix-key\").split(\"+\"),JSON.stringify(r.sort())===o)return n(\"mousedown\",{onElement:e}),!0;return!1},a.prototype.dialogIsVisible=function(t){var e;return(e=this.getDialog(t))?e.hasAttribute(\"data-trix-active\"):void 0},a.prototype.toggleDialog=function(t){return this.dialogIsVisible(t)?this.hideDialog():this.showDialog(t)},a.prototype.showDialog=function(t){var e,n,r,i,o,a,s,u,c;for(this.hideDialog(),null!=(a=this.delegate)&&a.toolbarWillShowDialog(),(n=this.getDialog(t)).setAttribute(\"data-trix-active\",\"\"),n.classList.add(\"trix-active\"),r=0,o=(s=n.querySelectorAll(\"input[disabled]\")).length;o>r;r++)s[r].removeAttribute(\"disabled\");return(e=d(n))&&(i=g(n,t))&&(i.value=null!=(u=this.attributes[e])?u:\"\",i.select()),null!=(c=this.delegate)?c.toolbarDidShowDialog(t):void 0},a.prototype.setAttribute=function(t){var e,n,r;return e=d(t),(n=g(t,e)).willValidate&&!n.checkValidity()?(n.setAttribute(\"data-trix-validate\",\"\"),n.classList.add(\"trix-validate\"),n.focus()):(null!=(r=this.delegate)&&r.toolbarDidUpdateAttribute(e,n.value),this.hideDialog())},a.prototype.removeAttribute=function(t){var e,n;return e=d(t),null!=(n=this.delegate)&&n.toolbarDidRemoveAttribute(e),this.hideDialog()},a.prototype.hideDialog=function(){var t,e;return(t=this.element.querySelector(\"[data-trix-dialog][data-trix-active]\"))?(t.removeAttribute(\"data-trix-active\"),t.classList.remove(\"trix-active\"),this.resetDialogInputs(),null!=(e=this.delegate)?e.toolbarDidHideDialog(f(t)):void 0):void 0},a.prototype.resetDialogInputs=function(){var t,e,n,r,i;for(i=[],t=0,n=(r=this.element.querySelectorAll(l)).length;n>t;t++)(e=r[t]).setAttribute(\"disabled\",\"disabled\"),e.removeAttribute(\"data-trix-validate\"),i.push(e.classList.remove(\"trix-validate\"));return i},a.prototype.getDialog=function(t){return this.element.querySelector(\"[data-trix-dialog=\"+t+\"]\")},g=function(t,e){return null==e&&(e=d(t)),t.querySelector(\"[data-trix-input][name='\"+e+\"']\")},p=function(t){return t.getAttribute(\"data-trix-action\")},d=function(t){var e;return null!=(e=t.getAttribute(\"data-trix-attribute\"))?e:t.getAttribute(\"data-trix-dialog-attribute\")},f=function(t){return t.getAttribute(\"data-trix-dialog\")},a}(r.BasicObject)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.ImagePreloadOperation=function(e){function n(t){this.url=t}return t(n,e),n.prototype.perform=function(t){var e;return(e=new Image).onload=function(n){return function(){return e.width=n.width=e.naturalWidth,e.height=n.height=e.naturalHeight,t(!0,e)}}(this),e.onerror=function(){return t(!1)},e.src=this.url},n}(r.Operation)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},n={}.hasOwnProperty;r.Attachment=function(n){function i(e){null==e&&(e={}),this.releaseFile=t(this.releaseFile,this),i.__super__.constructor.apply(this,arguments),this.attributes=r.Hash.box(e),this.didChangeAttributes()}return e(i,n),i.previewablePattern=/^image(\\/(gif|png|jpe?g)|$)/,i.attachmentForFile=function(t){var e;return(e=new this(this.attributesForFile(t))).setFile(t),e},i.attributesForFile=function(t){return new r.Hash({filename:t.name,filesize:t.size,contentType:t.type})},i.fromJSON=function(t){return new this(t)},i.prototype.getAttribute=function(t){return this.attributes.get(t)},i.prototype.hasAttribute=function(t){return this.attributes.has(t)},i.prototype.getAttributes=function(){return this.attributes.toObject()},i.prototype.setAttributes=function(t){var e,n,r;return null==t&&(t={}),e=this.attributes.merge(t),this.attributes.isEqualTo(e)?void 0:(this.attributes=e,this.didChangeAttributes(),null!=(n=this.previewDelegate)&&\"function\"==typeof n.attachmentDidChangeAttributes&&n.attachmentDidChangeAttributes(this),null!=(r=this.delegate)&&\"function\"==typeof r.attachmentDidChangeAttributes?r.attachmentDidChangeAttributes(this):void 0)},i.prototype.didChangeAttributes=function(){return this.isPreviewable()?this.preloadURL():void 0},i.prototype.isPending=function(){return null!=this.file&&!(this.getURL()||this.getHref())},i.prototype.isPreviewable=function(){return this.attributes.has(\"previewable\")?this.attributes.get(\"previewable\"):this.constructor.previewablePattern.test(this.getContentType())},i.prototype.getType=function(){return this.hasContent()?\"content\":this.isPreviewable()?\"preview\":\"file\"},i.prototype.getURL=function(){return this.attributes.get(\"url\")},i.prototype.getHref=function(){return this.attributes.get(\"href\")},i.prototype.getFilename=function(){var t;return null!=(t=this.attributes.get(\"filename\"))?t:\"\"},i.prototype.getFilesize=function(){return this.attributes.get(\"filesize\")},i.prototype.getFormattedFilesize=function(){var t;return\"number\"==typeof(t=this.attributes.get(\"filesize\"))?r.config.fileSize.formatter(t):\"\"},i.prototype.getExtension=function(){var t;return null!=(t=this.getFilename().match(/\\.(\\w+)$/))?t[1].toLowerCase():void 0},i.prototype.getContentType=function(){return this.attributes.get(\"contentType\")},i.prototype.hasContent=function(){return this.attributes.has(\"content\")},i.prototype.getContent=function(){return this.attributes.get(\"content\")},i.prototype.getWidth=function(){return this.attributes.get(\"width\")},i.prototype.getHeight=function(){return this.attributes.get(\"height\")},i.prototype.getFile=function(){return this.file},i.prototype.setFile=function(t){return this.file=t,this.isPreviewable()?this.preloadFile():void 0},i.prototype.releaseFile=function(){return this.releasePreloadedFile(),this.file=null},i.prototype.getUploadProgress=function(){var t;return null!=(t=this.uploadProgress)?t:0},i.prototype.setUploadProgress=function(t){var e;return this.uploadProgress!==t?(this.uploadProgress=t,null!=(e=this.uploadProgressDelegate)&&\"function\"==typeof e.attachmentDidChangeUploadProgress?e.attachmentDidChangeUploadProgress(this):void 0):void 0},i.prototype.toJSON=function(){return this.getAttributes()},i.prototype.getCacheKey=function(){return[i.__super__.getCacheKey.apply(this,arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join(\"/\")},i.prototype.getPreviewURL=function(){return this.previewURL||this.preloadingURL},i.prototype.setPreviewURL=function(t){var e,n;return t!==this.getPreviewURL()?(this.previewURL=t,null!=(e=this.previewDelegate)&&\"function\"==typeof e.attachmentDidChangeAttributes&&e.attachmentDidChangeAttributes(this),null!=(n=this.delegate)&&\"function\"==typeof n.attachmentDidChangePreviewURL?n.attachmentDidChangePreviewURL(this):void 0):void 0},i.prototype.preloadURL=function(){return this.preload(this.getURL(),this.releaseFile)},i.prototype.preloadFile=function(){return this.file?(this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)):void 0},i.prototype.releasePreloadedFile=function(){return this.fileObjectURL?(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null):void 0},i.prototype.preload=function(t,e){return t&&t!==this.getPreviewURL()?(this.preloadingURL=t,new r.ImagePreloadOperation(t).then(function(n){return function(r){var i,o;return o=r.width,i=r.height,n.getWidth()&&n.getHeight()||n.setAttributes({width:o,height:i}),n.preloadingURL=null,n.setPreviewURL(t),\"function\"==typeof e?e():void 0}}(this)).catch(function(t){return function(){return t.preloadingURL=null,\"function\"==typeof e?e():void 0}}(this))):void 0},i}(r.Object)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.Piece=function(e){function n(t,e){null==e&&(e={}),n.__super__.constructor.apply(this,arguments),this.attributes=r.Hash.box(e)}return t(n,e),n.types={},n.registerType=function(t,e){return e.type=t,this.types[t]=e},n.fromJSON=function(t){var e;return(e=this.types[t.type])?e.fromJSON(t):void 0},n.prototype.copyWithAttributes=function(t){return new this.constructor(this.getValue(),t)},n.prototype.copyWithAdditionalAttributes=function(t){return this.copyWithAttributes(this.attributes.merge(t))},n.prototype.copyWithoutAttribute=function(t){return this.copyWithAttributes(this.attributes.remove(t))},n.prototype.copy=function(){return this.copyWithAttributes(this.attributes)},n.prototype.getAttribute=function(t){return this.attributes.get(t)},n.prototype.getAttributesHash=function(){return this.attributes},n.prototype.getAttributes=function(){return this.attributes.toObject()},n.prototype.getCommonAttributes=function(){var t,e,n;return(n=pieceList.getPieceAtIndex(0))?(t=n.attributes,e=t.getKeys(),pieceList.eachPiece((function(n){return e=t.getKeysCommonToHash(n.attributes),t=t.slice(e)})),t.toObject()):{}},n.prototype.hasAttribute=function(t){return this.attributes.has(t)},n.prototype.hasSameStringValueAsPiece=function(t){return null!=t&&this.toString()===t.toString()},n.prototype.hasSameAttributesAsPiece=function(t){return null!=t&&(this.attributes===t.attributes||this.attributes.isEqualTo(t.attributes))},n.prototype.isBlockBreak=function(){return!1},n.prototype.isEqualTo=function(t){return n.__super__.isEqualTo.apply(this,arguments)||this.hasSameConstructorAs(t)&&this.hasSameStringValueAsPiece(t)&&this.hasSameAttributesAsPiece(t)},n.prototype.isEmpty=function(){return 0===this.length},n.prototype.isSerializable=function(){return!0},n.prototype.toJSON=function(){return{type:this.constructor.type,attributes:this.getAttributes()}},n.prototype.contentsForInspection=function(){return{type:this.constructor.type,attributes:this.attributes.inspect()}},n.prototype.canBeGrouped=function(){return this.hasAttribute(\"href\")},n.prototype.canBeGroupedWith=function(t){return this.getAttribute(\"href\")===t.getAttribute(\"href\")},n.prototype.getLength=function(){return this.length},n.prototype.canBeConsolidatedWith=function(){return!1},n}(r.Object)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.Piece.registerType(\"attachment\",r.AttachmentPiece=function(e){function n(t){this.attachment=t,n.__super__.constructor.apply(this,arguments),this.length=1,this.ensureAttachmentExclusivelyHasAttribute(\"href\"),this.attachment.hasContent()||this.removeProhibitedAttributes()}return t(n,e),n.fromJSON=function(t){return new this(r.Attachment.fromJSON(t.attachment),t.attributes)},n.permittedAttributes=[\"caption\",\"presentation\"],n.prototype.ensureAttachmentExclusivelyHasAttribute=function(t){return this.hasAttribute(t)?(this.attachment.hasAttribute(t)||this.attachment.setAttributes(this.attributes.slice(t)),this.attributes=this.attributes.remove(t)):void 0},n.prototype.removeProhibitedAttributes=function(){var t;return(t=this.attributes.slice(this.constructor.permittedAttributes)).isEqualTo(this.attributes)?void 0:this.attributes=t},n.prototype.getValue=function(){return this.attachment},n.prototype.isSerializable=function(){return!this.attachment.isPending()},n.prototype.getCaption=function(){var t;return null!=(t=this.attributes.get(\"caption\"))?t:\"\"},n.prototype.isEqualTo=function(t){var e;return n.__super__.isEqualTo.apply(this,arguments)&&this.attachment.id===(null!=t&&null!=(e=t.attachment)?e.id:void 0)},n.prototype.toString=function(){return r.OBJECT_REPLACEMENT_CHARACTER},n.prototype.toJSON=function(){var t;return(t=n.__super__.toJSON.apply(this,arguments)).attachment=this.attachment,t},n.prototype.getCacheKey=function(){return[n.__super__.getCacheKey.apply(this,arguments),this.attachment.getCacheKey()].join(\"/\")},n.prototype.toConsole=function(){return JSON.stringify(this.toString())},n}(r.Piece))}.call(this),function(){var t,e=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},n={}.hasOwnProperty;t=r.normalizeNewlines,r.Piece.registerType(\"string\",r.StringPiece=function(n){function r(e){r.__super__.constructor.apply(this,arguments),this.string=t(e),this.length=this.string.length}return e(r,n),r.fromJSON=function(t){return new this(t.string,t.attributes)},r.prototype.getValue=function(){return this.string},r.prototype.toString=function(){return this.string.toString()},r.prototype.isBlockBreak=function(){return\"\\n\"===this.toString()&&!0===this.getAttribute(\"blockBreak\")},r.prototype.toJSON=function(){var t;return(t=r.__super__.toJSON.apply(this,arguments)).string=this.string,t},r.prototype.canBeConsolidatedWith=function(t){return null!=t&&this.hasSameConstructorAs(t)&&this.hasSameAttributesAsPiece(t)},r.prototype.consolidateWith=function(t){return new this.constructor(this.toString()+t.toString(),this.attributes)},r.prototype.splitAtOffset=function(t){var e,n;return 0===t?(e=null,n=this):t===this.length?(e=this,n=null):(e=new this.constructor(this.string.slice(0,t),this.attributes),n=new this.constructor(this.string.slice(t),this.attributes)),[e,n]},r.prototype.toConsole=function(){var t;return(t=this.string).length>15&&(t=t.slice(0,14)+\"â€¦\"),JSON.stringify(t.toString())},r}(r.Piece))}.call(this),function(){var t,e=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},n={}.hasOwnProperty,i=[].slice;t=r.spliceArray,r.SplittableList=function(n){function r(t){null==t&&(t=[]),r.__super__.constructor.apply(this,arguments),this.objects=t.slice(0),this.length=this.objects.length}var o,a,s;return e(r,n),r.box=function(t){return t instanceof this?t:new this(t)},r.prototype.indexOf=function(t){return this.objects.indexOf(t)},r.prototype.splice=function(){var e;return e=1<=arguments.length?i.call(arguments,0):[],new this.constructor(t.apply(null,[this.objects].concat(i.call(e))))},r.prototype.eachObject=function(t){var e,n,r,i,o,a;for(a=[],n=e=0,r=(o=this.objects).length;r>e;n=++e)i=o[n],a.push(t(i,n));return a},r.prototype.insertObjectAtIndex=function(t,e){return this.splice(e,0,t)},r.prototype.insertSplittableListAtIndex=function(t,e){return this.splice.apply(this,[e,0].concat(i.call(t.objects)))},r.prototype.insertSplittableListAtPosition=function(t,e){var n,r,i;return r=(i=this.splitObjectAtPosition(e))[0],n=i[1],new this.constructor(r).insertSplittableListAtIndex(t,n)},r.prototype.editObjectAtIndex=function(t,e){return this.replaceObjectAtIndex(e(this.objects[t]),t)},r.prototype.replaceObjectAtIndex=function(t,e){return this.splice(e,1,t)},r.prototype.removeObjectAtIndex=function(t){return this.splice(t,1)},r.prototype.getObjectAtIndex=function(t){return this.objects[t]},r.prototype.getSplittableListInRange=function(t){var e,n,r,i;return n=(r=this.splitObjectsAtRange(t))[0],e=r[1],i=r[2],new this.constructor(n.slice(e,i+1))},r.prototype.selectSplittableList=function(t){var e,n;return n=function(){var n,r,i,o;for(o=[],n=0,r=(i=this.objects).length;r>n;n++)e=i[n],t(e)&&o.push(e);return o}.call(this),new this.constructor(n)},r.prototype.removeObjectsInRange=function(t){var e,n,r,i;return n=(r=this.splitObjectsAtRange(t))[0],e=r[1],i=r[2],new this.constructor(n).splice(e,i-e+1)},r.prototype.transformObjectsInRange=function(t,e){var n,r,i,o,a,s,u;return a=this.splitObjectsAtRange(t),o=a[0],r=a[1],s=a[2],u=function(){var t,a,u;for(u=[],n=t=0,a=o.length;a>t;n=++t)i=o[n],u.push(n>=r&&s>=n?e(i):i);return u}(),new this.constructor(u)},r.prototype.splitObjectsAtRange=function(t){var e,n,r,i,a;return n=(i=this.splitObjectAtPosition(s(t)))[0],e=i[1],r=i[2],[n=(a=new this.constructor(n).splitObjectAtPosition(o(t)+r))[0],e,a[1]-1]},r.prototype.getObjectAtPosition=function(t){var e,n;return e=(n=this.findIndexAndOffsetAtPosition(t)).index,n.offset,this.objects[e]},r.prototype.splitObjectAtPosition=function(t){var e,n,r,i,o,a,s,u,c;return e=(o=this.findIndexAndOffsetAtPosition(t)).index,i=o.offset,r=this.objects.slice(0),null!=e?0===i?(u=e,c=0):(n=(a=this.getObjectAtIndex(e).splitAtOffset(i))[0],s=a[1],r.splice(e,1,n,s),u=e+1,c=n.getLength()-i):(u=r.length,c=0),[r,u,c]},r.prototype.consolidate=function(){var t,e,n,r,i,o;for(r=[],i=this.objects[0],t=0,e=(o=this.objects.slice(1)).length;e>t;t++)n=o[t],(\"function\"==typeof i.canBeConsolidatedWith?i.canBeConsolidatedWith(n):void 0)?i=i.consolidateWith(n):(r.push(i),i=n);return null!=i&&r.push(i),new this.constructor(r)},r.prototype.consolidateFromIndexToIndex=function(t,e){var n,r;return r=this.objects.slice(0).slice(t,e+1),n=new this.constructor(r).consolidate().toArray(),this.splice.apply(this,[t,r.length].concat(i.call(n)))},r.prototype.findIndexAndOffsetAtPosition=function(t){var e,n,r,i,o,a;for(e=0,r=n=0,i=(a=this.objects).length;i>n;r=++n){if(o=e+a[r].getLength(),t>=e&&o>t)return{index:r,offset:t-e};e=o}return{index:null,offset:null}},r.prototype.findPositionAtIndexAndOffset=function(t,e){var n,r,i,o,a,s;for(a=0,n=r=0,i=(s=this.objects).length;i>r;n=++r)if(o=s[n],t>n)a+=o.getLength();else if(n===t){a+=e;break}return a},r.prototype.getEndPosition=function(){var t,e;return null!=this.endPosition?this.endPosition:this.endPosition=function(){var n,r,i;for(e=0,n=0,r=(i=this.objects).length;r>n;n++)t=i[n],e+=t.getLength();return e}.call(this)},r.prototype.toString=function(){return this.objects.join(\"\")},r.prototype.toArray=function(){return this.objects.slice(0)},r.prototype.toJSON=function(){return this.toArray()},r.prototype.isEqualTo=function(t){return r.__super__.isEqualTo.apply(this,arguments)||a(this.objects,null!=t?t.objects:void 0)},a=function(t,e){var n,r,i,o,a;if(null==e&&(e=[]),t.length!==e.length)return!1;for(a=!0,r=n=0,i=t.length;i>n;r=++n)o=t[r],a&&!o.isEqualTo(e[r])&&(a=!1);return a},r.prototype.contentsForInspection=function(){var t;return{objects:\"[\"+function(){var e,n,r,i;for(i=[],e=0,n=(r=this.objects).length;n>e;e++)t=r[e],i.push(t.inspect());return i}.call(this).join(\", \")+\"]\"}},s=function(t){return t[0]},o=function(t){return t[1]},r}(r.Object)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.Text=function(e){function n(t){var e;null==t&&(t=[]),n.__super__.constructor.apply(this,arguments),this.pieceList=new r.SplittableList(function(){var n,r,i;for(i=[],n=0,r=t.length;r>n;n++)(e=t[n]).isEmpty()||i.push(e);return i}())}return t(n,e),n.textForAttachmentWithAttributes=function(t,e){return new this([new r.AttachmentPiece(t,e)])},n.textForStringWithAttributes=function(t,e){return new this([new r.StringPiece(t,e)])},n.fromJSON=function(t){var e;return new this(function(){var n,i,o;for(o=[],n=0,i=t.length;i>n;n++)e=t[n],o.push(r.Piece.fromJSON(e));return o}())},n.prototype.copy=function(){return this.copyWithPieceList(this.pieceList)},n.prototype.copyWithPieceList=function(t){return new this.constructor(t.consolidate().toArray())},n.prototype.copyUsingObjectMap=function(t){var e,n;return n=function(){var n,r,i,o,a;for(a=[],n=0,r=(i=this.getPieces()).length;r>n;n++)e=i[n],a.push(null!=(o=t.find(e))?o:e);return a}.call(this),new this.constructor(n)},n.prototype.appendText=function(t){return this.insertTextAtPosition(t,this.getLength())},n.prototype.insertTextAtPosition=function(t,e){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(t.pieceList,e))},n.prototype.removeTextAtRange=function(t){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(t))},n.prototype.replaceTextAtRange=function(t,e){return this.removeTextAtRange(e).insertTextAtPosition(t,e[0])},n.prototype.moveTextFromRangeToPosition=function(t,e){var n,r;if(!(t[0]<=e&&e<=t[1]))return n=(r=this.getTextAtRange(t)).getLength(),t[0]<e&&(e-=n),this.removeTextAtRange(t).insertTextAtPosition(r,e)},n.prototype.addAttributeAtRange=function(t,e,n){var r;return(r={})[t]=e,this.addAttributesAtRange(r,n)},n.prototype.addAttributesAtRange=function(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,(function(e){return e.copyWithAdditionalAttributes(t)})))},n.prototype.removeAttributeAtRange=function(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,(function(e){return e.copyWithoutAttribute(t)})))},n.prototype.setAttributesAtRange=function(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,(function(e){return e.copyWithAttributes(t)})))},n.prototype.getAttributesAtPosition=function(t){var e,n;return null!=(e=null!=(n=this.pieceList.getObjectAtPosition(t))?n.getAttributes():void 0)?e:{}},n.prototype.getCommonAttributes=function(){var t,e;return t=function(){var t,n,r,i;for(i=[],t=0,n=(r=this.pieceList.toArray()).length;n>t;t++)e=r[t],i.push(e.getAttributes());return i}.call(this),r.Hash.fromCommonAttributesOfObjects(t).toObject()},n.prototype.getCommonAttributesAtRange=function(t){var e;return null!=(e=this.getTextAtRange(t).getCommonAttributes())?e:{}},n.prototype.getExpandedRangeForAttributeAtOffset=function(t,e){var n,r,i;for(n=i=e,r=this.getLength();n>0&&this.getCommonAttributesAtRange([n-1,i])[t];)n--;for(;r>i&&this.getCommonAttributesAtRange([e,i+1])[t];)i++;return[n,i]},n.prototype.getTextAtRange=function(t){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(t))},n.prototype.getStringAtRange=function(t){return this.pieceList.getSplittableListInRange(t).toString()},n.prototype.getStringAtPosition=function(t){return this.getStringAtRange([t,t+1])},n.prototype.startsWithString=function(t){return this.getStringAtRange([0,t.length])===t},n.prototype.endsWithString=function(t){var e;return e=this.getLength(),this.getStringAtRange([e-t.length,e])===t},n.prototype.getAttachmentPieces=function(){var t,e,n,r,i;for(i=[],t=0,e=(r=this.pieceList.toArray()).length;e>t;t++)null!=(n=r[t]).attachment&&i.push(n);return i},n.prototype.getAttachments=function(){var t,e,n,r,i;for(i=[],t=0,e=(r=this.getAttachmentPieces()).length;e>t;t++)n=r[t],i.push(n.attachment);return i},n.prototype.getAttachmentAndPositionById=function(t){var e,n,r,i,o,a;for(i=0,e=0,n=(o=this.pieceList.toArray()).length;n>e;e++){if((null!=(a=(r=o[e]).attachment)?a.id:void 0)===t)return{attachment:r.attachment,position:i};i+=r.length}return{attachment:null,position:null}},n.prototype.getAttachmentById=function(t){var e,n;return e=(n=this.getAttachmentAndPositionById(t)).attachment,n.position,e},n.prototype.getRangeOfAttachment=function(t){var e,n;return t=(n=this.getAttachmentAndPositionById(t.id)).attachment,e=n.position,null!=t?[e,e+1]:void 0},n.prototype.updateAttributesForAttachment=function(t,e){var n;return(n=this.getRangeOfAttachment(e))?this.addAttributesAtRange(t,n):this},n.prototype.getLength=function(){return this.pieceList.getEndPosition()},n.prototype.isEmpty=function(){return 0===this.getLength()},n.prototype.isEqualTo=function(t){var e;return n.__super__.isEqualTo.apply(this,arguments)||(null!=t&&null!=(e=t.pieceList)?e.isEqualTo(this.pieceList):void 0)},n.prototype.isBlockBreak=function(){return 1===this.getLength()&&this.pieceList.getObjectAtIndex(0).isBlockBreak()},n.prototype.eachPiece=function(t){return this.pieceList.eachObject(t)},n.prototype.getPieces=function(){return this.pieceList.toArray()},n.prototype.getPieceAtPosition=function(t){return this.pieceList.getObjectAtPosition(t)},n.prototype.contentsForInspection=function(){return{pieceList:this.pieceList.inspect()}},n.prototype.toSerializableText=function(){var t;return t=this.pieceList.selectSplittableList((function(t){return t.isSerializable()})),this.copyWithPieceList(t)},n.prototype.toString=function(){return this.pieceList.toString()},n.prototype.toJSON=function(){return this.pieceList.toJSON()},n.prototype.toConsole=function(){var t;return JSON.stringify(function(){var e,n,r,i;for(i=[],e=0,n=(r=this.pieceList.toArray()).length;n>e;e++)t=r[e],i.push(JSON.parse(t.toConsole()));return i}.call(this))},n}(r.Object)}.call(this),function(){var t,e,n,i,o=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty,s=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},u=[].slice;t=r.arraysAreEqual,i=r.spliceArray,e=r.getBlockConfig,r.getBlockAttributeNames,n=r.getListAttributeNames,r.Block=function(a){function c(t,e){null==t&&(t=new r.Text),null==e&&(e=[]),c.__super__.constructor.apply(this,arguments),this.text=h(t),this.attributes=e}var l,h,p,d,f,g,m,v,y;return o(c,a),c.fromJSON=function(t){return new this(r.Text.fromJSON(t.text),t.attributes)},c.prototype.isEmpty=function(){return this.text.isBlockBreak()},c.prototype.isEqualTo=function(e){return c.__super__.isEqualTo.apply(this,arguments)||this.text.isEqualTo(null!=e?e.text:void 0)&&t(this.attributes,null!=e?e.attributes:void 0)},c.prototype.copyWithText=function(t){return new this.constructor(t,this.attributes)},c.prototype.copyWithoutText=function(){return this.copyWithText(null)},c.prototype.copyWithAttributes=function(t){return new this.constructor(this.text,t)},c.prototype.copyWithoutAttributes=function(){return this.copyWithAttributes(null)},c.prototype.copyUsingObjectMap=function(t){var e;return this.copyWithText((e=t.find(this.text))?e:this.text.copyUsingObjectMap(t))},c.prototype.addAttribute=function(t){var e;return e=this.attributes.concat(d(t)),this.copyWithAttributes(e)},c.prototype.removeAttribute=function(t){var n,r;return r=e(t).listAttribute,n=g(g(this.attributes,t),r),this.copyWithAttributes(n)},c.prototype.removeLastAttribute=function(){return this.removeAttribute(this.getLastAttribute())},c.prototype.getLastAttribute=function(){return f(this.attributes)},c.prototype.getAttributes=function(){return this.attributes.slice(0)},c.prototype.getAttributeLevel=function(){return this.attributes.length},c.prototype.getAttributeAtLevel=function(t){return this.attributes[t-1]},c.prototype.hasAttribute=function(t){return s.call(this.attributes,t)>=0},c.prototype.hasAttributes=function(){return this.getAttributeLevel()>0},c.prototype.getLastNestableAttribute=function(){return f(this.getNestableAttributes())},c.prototype.getNestableAttributes=function(){var t,n,r,i,o;for(o=[],n=0,r=(i=this.attributes).length;r>n;n++)t=i[n],e(t).nestable&&o.push(t);return o},c.prototype.getNestingLevel=function(){return this.getNestableAttributes().length},c.prototype.decreaseNestingLevel=function(){var t;return(t=this.getLastNestableAttribute())?this.removeAttribute(t):this},c.prototype.increaseNestingLevel=function(){var t,e,n;return(t=this.getLastNestableAttribute())?(n=this.attributes.lastIndexOf(t),e=i.apply(null,[this.attributes,n+1,0].concat(u.call(d(t)))),this.copyWithAttributes(e)):this},c.prototype.getListItemAttributes=function(){var t,n,r,i,o;for(o=[],n=0,r=(i=this.attributes).length;r>n;n++)t=i[n],e(t).listAttribute&&o.push(t);return o},c.prototype.isListItem=function(){var t;return null!=(t=e(this.getLastAttribute()))?t.listAttribute:void 0},c.prototype.isTerminalBlock=function(){var t;return null!=(t=e(this.getLastAttribute()))?t.terminal:void 0},c.prototype.breaksOnReturn=function(){var t;return null!=(t=e(this.getLastAttribute()))?t.breakOnReturn:void 0},c.prototype.findLineBreakInDirectionFromPosition=function(t,e){var n,r;return r=this.toString(),-1!==(n=function(){switch(t){case\"forward\":return r.indexOf(\"\\n\",e);case\"backward\":return r.slice(0,e).lastIndexOf(\"\\n\")}}())?n:void 0},c.prototype.contentsForInspection=function(){return{text:this.text.inspect(),attributes:this.attributes}},c.prototype.toString=function(){return this.text.toString()},c.prototype.toJSON=function(){return{text:this.text,attributes:this.attributes}},c.prototype.getLength=function(){return this.text.getLength()},c.prototype.canBeConsolidatedWith=function(t){return!this.hasAttributes()&&!t.hasAttributes()},c.prototype.consolidateWith=function(t){var e,n;return e=r.Text.textForStringWithAttributes(\"\\n\"),n=this.getTextWithoutBlockBreak().appendText(e),this.copyWithText(n.appendText(t.text))},c.prototype.splitAtOffset=function(t){var e,n;return 0===t?(e=null,n=this):t===this.getLength()?(e=this,n=null):(e=this.copyWithText(this.text.getTextAtRange([0,t])),n=this.copyWithText(this.text.getTextAtRange([t,this.getLength()]))),[e,n]},c.prototype.getBlockBreakPosition=function(){return this.text.getLength()-1},c.prototype.getTextWithoutBlockBreak=function(){return m(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()},c.prototype.canBeGrouped=function(t){return this.attributes[t]},c.prototype.canBeGroupedWith=function(t,r){var i,o,a,u;return o=(a=t.getAttributes())[r],(i=this.attributes[r])===o&&!(!1===e(i).group&&(u=a[r+1],s.call(n(),u)<0))},h=function(t){return t=y(t),l(t)},y=function(t){var e,n,i,o,a,s;return o=!1,s=t.getPieces(),n=2<=s.length?u.call(s,0,e=s.length-1):(e=0,[]),null==(i=s[e++])?t:(n=function(){var t,e,r;for(r=[],t=0,e=n.length;e>t;t++)(a=n[t]).isBlockBreak()?(o=!0,r.push(v(a))):r.push(a);return r}(),o?new r.Text(u.call(n).concat([i])):t)},p=r.Text.textForStringWithAttributes(\"\\n\",{blockBreak:!0}),l=function(t){return m(t)?t:t.appendText(p)},m=function(t){var e;return 0!==(e=t.getLength())&&t.getTextAtRange([e-1,e]).isBlockBreak()},v=function(t){return t.copyWithoutAttribute(\"blockBreak\")},d=function(t){var n;return null!=(n=e(t).listAttribute)?[n,t]:[t]},f=function(t){return t.slice(-1)[0]},g=function(t,e){var n;return-1===(n=t.lastIndexOf(e))?t:i(t,n,1)},c}(r.Object)}.call(this),function(){var t,e,n,i=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty,a=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},s=[].slice;e=r.tagName,n=r.walkTree,t=r.nodeIsAttachmentElement,r.HTMLSanitizer=function(o){function u(t,e){var n;n=null!=e?e:{},this.allowedAttributes=n.allowedAttributes,this.forbiddenProtocols=n.forbiddenProtocols,null==this.allowedAttributes&&(this.allowedAttributes=c),null==this.forbiddenProtocols&&(this.forbiddenProtocols=l),this.body=h(t)}var c,l,h,p;return i(u,o),c=\"style href src width height class\".split(\" \"),l=\"javascript:\".split(\" \"),u.sanitize=function(t,e){var n;return(n=new this(t,e)).sanitize(),n},u.prototype.sanitize=function(){return this.sanitizeElements(),this.normalizeListElementNesting()},u.prototype.getHTML=function(){return this.body.innerHTML},u.prototype.getBody=function(){return this.body},u.prototype.sanitizeElements=function(){var t,e,i,o,a;for(a=n(this.body),o=[];a.nextNode();)switch(i=a.currentNode,i.nodeType){case Node.ELEMENT_NODE:p(i)?o.push(i):this.sanitizeElement(i);break;case Node.COMMENT_NODE:o.push(i)}for(t=0,e=o.length;e>t;t++)i=o[t],r.removeNode(i);return this.body},u.prototype.sanitizeElement=function(t){var e,n,r,i,o;for(t.hasAttribute(\"href\")&&(i=t.protocol,a.call(this.forbiddenProtocols,i)>=0&&t.removeAttribute(\"href\")),e=0,n=(o=s.call(t.attributes)).length;n>e;e++)r=o[e].name,a.call(this.allowedAttributes,r)>=0||0===r.indexOf(\"data-trix\")||t.removeAttribute(r);return t},u.prototype.normalizeListElementNesting=function(){var t,n,r,i,o;for(t=0,n=(o=s.call(this.body.querySelectorAll(\"ul,ol\"))).length;n>t;t++)(i=(r=o[t]).previousElementSibling)&&\"li\"===e(i)&&i.appendChild(r);return this.body},p=function(n){return(null!=n?n.nodeType:void 0)!==Node.ELEMENT_NODE||t(n)?void 0:\"script\"===e(n)||\"false\"===n.getAttribute(\"data-trix-serialize\")},h=function(t){var e,n,r,i,o;for(null==t&&(t=\"\"),t=t.replace(/<\\/html[^>]*>[^]*$/i,\"</html>\"),(e=document.implementation.createHTMLDocument(\"\")).documentElement.innerHTML=t,r=0,i=(o=e.head.querySelectorAll(\"style\")).length;i>r;r++)n=o[r],e.body.appendChild(n);return e.body},u}(r.BasicObject)}.call(this),function(){var t,e,n,i,o,a,s,u,c,l,h,p=function(t,e){function n(){this.constructor=t}for(var r in e)d.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty,f=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=r.arraysAreEqual,a=r.makeElement,l=r.tagName,o=r.getBlockTagNames,h=r.walkTree,i=r.findClosestElementFromNode,n=r.elementContainsNode,s=r.nodeIsAttachmentElement,u=r.normalizeSpaces,e=r.breakableWhitespacePattern,c=r.squishBreakableWhitespace,r.HTMLParser=function(d){function g(t,e){this.html=t,this.referenceElement=(null!=e?e:{}).referenceElement,this.blocks=[],this.blockElements=[],this.processedElements=[]}var m,v,y,b,x,A,w,C,E,k,S,D;return p(g,d),g.parse=function(t,e){var n;return(n=new this(t,e)).parse(),n},g.prototype.getDocument=function(){return r.Document.fromJSON(this.blocks)},g.prototype.parse=function(){var t,e;try{for(this.createHiddenContainer(),t=r.HTMLSanitizer.sanitize(this.html).getHTML(),this.containerElement.innerHTML=t,e=h(this.containerElement,{usingFilter:C});e.nextNode();)this.processNode(e.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}},g.prototype.createHiddenContainer=function(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute(\"id\"),this.containerElement.setAttribute(\"data-trix-internal\",\"\"),this.containerElement.style.display=\"none\",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=a({tagName:\"div\",style:{display:\"none\"}}),document.body.appendChild(this.containerElement))},g.prototype.removeHiddenContainer=function(){return r.removeNode(this.containerElement)},C=function(t){return\"style\"===l(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},g.prototype.processNode=function(t){switch(t.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(t))return this.appendBlockForTextNode(t),this.processTextNode(t);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(t),this.processElement(t)}},g.prototype.appendBlockForTextNode=function(e){var n,r,i;return(r=e.parentNode)===this.currentBlockElement||r!==this.containerElement&&!this.isBlockElement(r)?void 0:(n=this.getBlockAttributes(r),t(n,null!=(i=this.currentBlock)?i.attributes:void 0)?void 0:(this.currentBlock=this.appendBlockForAttributesWithElement(n,r),this.currentBlockElement=r))},g.prototype.appendBlockForElement=function(e){var r,i,o,a;if(o=this.isBlockElement(e),i=n(this.currentBlockElement,e),o&&!this.isBlockElement(e.firstChild)){if(!(this.isInsignificantTextNode(e.firstChild)&&this.isBlockElement(e.firstElementChild)||(r=this.getBlockAttributes(e),i&&t(r,this.currentBlock.attributes))))return this.currentBlock=this.appendBlockForAttributesWithElement(r,e),this.currentBlockElement=e}else if(this.currentBlockElement&&!i&&!o)return(a=this.findParentBlockElement(e))?this.appendBlockForElement(a):(this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null)},g.prototype.findParentBlockElement=function(t){var e;for(e=t.parentElement;e&&e!==this.containerElement;){if(this.isBlockElement(e)&&f.call(this.blockElements,e)>=0)return e;e=e.parentElement}return null},g.prototype.processTextNode=function(t){var e,n;return n=t.data,v(t.parentNode)||(n=c(n),S(null!=(e=t.previousSibling)?e.textContent:void 0)&&(n=A(n))),this.appendStringWithAttributes(n,this.getTextAttributes(t.parentNode))},g.prototype.processElement=function(t){var e,n,r,i,o;if(s(t))return e=y(t),Object.keys(e).length&&(i=this.getTextAttributes(t),this.appendAttachmentWithAttributes(e,i),t.innerHTML=\"\"),this.processedElements.push(t);switch(l(t)){case\"br\":return this.isExtraBR(t)||this.isBlockElement(t.nextSibling)||this.appendStringWithAttributes(\"\\n\",this.getTextAttributes(t)),this.processedElements.push(t);case\"img\":for(n in e={url:t.getAttribute(\"src\"),contentType:\"image\"},r=x(t))o=r[n],e[n]=o;return this.appendAttachmentWithAttributes(e,this.getTextAttributes(t)),this.processedElements.push(t);case\"tr\":if(t.parentNode.firstChild!==t)return this.appendStringWithAttributes(\"\\n\");break;case\"td\":if(t.parentNode.firstChild!==t)return this.appendStringWithAttributes(\" | \")}},g.prototype.appendBlockForAttributesWithElement=function(t,e){var n;return this.blockElements.push(e),n=m(t),this.blocks.push(n),n},g.prototype.appendEmptyBlock=function(){return this.appendBlockForAttributesWithElement([],null)},g.prototype.appendStringWithAttributes=function(t,e){return this.appendPiece(k(t,e))},g.prototype.appendAttachmentWithAttributes=function(t,e){return this.appendPiece(E(t,e))},g.prototype.appendPiece=function(t){return 0===this.blocks.length&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(t)},g.prototype.appendStringToTextAtIndex=function(t,e){var n,r;return\"string\"===(null!=(n=(r=this.blocks[e].text)[r.length-1])?n.type:void 0)?n.string+=t:r.push(k(t))},g.prototype.prependStringToTextAtIndex=function(t,e){var n,r;return\"string\"===(null!=(n=(r=this.blocks[e].text)[0])?n.type:void 0)?n.string=t+n.string:r.unshift(k(t))},k=function(t,e){return null==e&&(e={}),\"string\",{string:t=u(t),attributes:e,type:\"string\"}},E=function(t,e){return null==e&&(e={}),\"attachment\",{attachment:t,attributes:e,type:\"attachment\"}},m=function(t){return null==t&&(t={}),{text:[],attributes:t}},g.prototype.getTextAttributes=function(t){var e,n,o,a,u,c,l,h,p,d,f,g,m;for(e in o={},d=r.config.textAttributes)if((u=d[e]).tagName&&i(t,{matchingSelector:u.tagName,untilNode:this.containerElement}))o[e]=!0;else if(u.parser){if(m=u.parser(t)){for(n=!1,c=0,p=(f=this.findBlockElementAncestors(t)).length;p>c;c++)if(a=f[c],u.parser(a)===m){n=!0;break}n||(o[e]=m)}}else u.styleProperty&&(m=t.style[u.styleProperty])&&(o[e]=m);if(s(t)&&(l=t.getAttribute(\"data-trix-attributes\")))for(h in g=JSON.parse(l))m=g[h],o[h]=m;return o},g.prototype.getBlockAttributes=function(t){var e,n,i,o;for(n=[];t&&t!==this.containerElement;){for(e in o=r.config.blockAttributes)!1!==(i=o[e]).parse&&l(t)===i.tagName&&((\"function\"==typeof i.test?i.test(t):void 0)||!i.test)&&(n.push(e),i.listAttribute&&n.push(i.listAttribute));t=t.parentNode}return n.reverse()},g.prototype.findBlockElementAncestors=function(t){var e,n;for(e=[];t&&t!==this.containerElement;)n=l(t),f.call(o(),n)>=0&&e.push(t),t=t.parentNode;return e},y=function(t){return JSON.parse(t.getAttribute(\"data-trix-attachment\"))},x=function(t){var e,n,r;return r=t.getAttribute(\"width\"),n=t.getAttribute(\"height\"),e={},r&&(e.width=parseInt(r,10)),n&&(e.height=parseInt(n,10)),e},g.prototype.isBlockElement=function(t){var e;if((null!=t?t.nodeType:void 0)===Node.ELEMENT_NODE&&!s(t)&&!i(t,{matchingSelector:\"td\",untilNode:this.containerElement}))return e=l(t),f.call(o(),e)>=0||\"block\"===window.getComputedStyle(t).display},g.prototype.isInsignificantTextNode=function(t){var e,n,r;if((null!=t?t.nodeType:void 0)===Node.TEXT_NODE&&D(t.data)&&(n=t.parentNode,r=t.previousSibling,e=t.nextSibling,(!w(n.previousSibling)||this.isBlockElement(n.previousSibling))&&!v(n)))return!r||this.isBlockElement(r)||!e||this.isBlockElement(e)},g.prototype.isExtraBR=function(t){return\"br\"===l(t)&&this.isBlockElement(t.parentNode)&&t.parentNode.lastChild===t},v=function(t){var e;return\"pre\"===(e=window.getComputedStyle(t).whiteSpace)||\"pre-wrap\"===e||\"pre-line\"===e},w=function(t){return t&&!S(t.textContent)},g.prototype.translateBlockElementMarginsToNewlines=function(){var t,e,n,r,i,o,a;for(t=this.getMarginOfDefaultBlockElement(),a=[],n=e=0,r=(o=this.blocks).length;r>e;n=++e)o[n],(i=this.getMarginOfBlockElementAtIndex(n))&&(i.top>2*t.top&&this.prependStringToTextAtIndex(\"\\n\",n),a.push(i.bottom>2*t.bottom?this.appendStringToTextAtIndex(\"\\n\",n):void 0));return a},g.prototype.getMarginOfBlockElementAtIndex=function(t){var e,n;return!(e=this.blockElements[t])||!e.textContent||(n=l(e),f.call(o(),n)>=0||f.call(this.processedElements,e)>=0)?void 0:b(e)},g.prototype.getMarginOfDefaultBlockElement=function(){var t;return t=a(r.config.blockAttributes.default.tagName),this.containerElement.appendChild(t),b(t)},b=function(t){var e;return\"block\"===(e=window.getComputedStyle(t)).display?{top:parseInt(e.marginTop),bottom:parseInt(e.marginBottom)}:void 0},A=function(t){return t.replace(RegExp(\"^\"+e.source+\"+\"),\"\")},D=function(t){return RegExp(\"^\"+e.source+\"*$\").test(t)},S=function(t){return/\\s$/.test(t)},g}(r.BasicObject)}.call(this),function(){var t,e,n,i,o=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty,s=[].slice,u=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=r.arraysAreEqual,n=r.normalizeRange,i=r.rangeIsCollapsed,e=r.getBlockConfig,r.Document=function(a){function c(t){null==t&&(t=[]),c.__super__.constructor.apply(this,arguments),0===t.length&&(t=[new r.Block]),this.blockList=r.SplittableList.box(t)}var l;return o(c,a),c.fromJSON=function(t){var e;return new this(function(){var n,i,o;for(o=[],n=0,i=t.length;i>n;n++)e=t[n],o.push(r.Block.fromJSON(e));return o}())},c.fromHTML=function(t,e){return r.HTMLParser.parse(t,e).getDocument()},c.fromString=function(t,e){var n;return n=r.Text.textForStringWithAttributes(t,e),new this([new r.Block(n)])},c.prototype.isEmpty=function(){var t;return 1===this.blockList.length&&((t=this.getBlockAtIndex(0)).isEmpty()&&!t.hasAttributes())},c.prototype.copy=function(t){var e;return null==t&&(t={}),e=t.consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray(),new this.constructor(e)},c.prototype.copyUsingObjectsFromDocument=function(t){var e;return e=new r.ObjectMap(t.getObjects()),this.copyUsingObjectMap(e)},c.prototype.copyUsingObjectMap=function(t){var e,n,r;return n=function(){var n,i,o,a;for(a=[],n=0,i=(o=this.getBlocks()).length;i>n;n++)e=o[n],a.push((r=t.find(e))?r:e.copyUsingObjectMap(t));return a}.call(this),new this.constructor(n)},c.prototype.copyWithBaseBlockAttributes=function(t){var e,n,r;return null==t&&(t=[]),r=function(){var r,i,o,a;for(a=[],r=0,i=(o=this.getBlocks()).length;i>r;r++)n=o[r],e=t.concat(n.getAttributes()),a.push(n.copyWithAttributes(e));return a}.call(this),new this.constructor(r)},c.prototype.replaceBlock=function(t,e){var n;return-1===(n=this.blockList.indexOf(t))?this:new this.constructor(this.blockList.replaceObjectAtIndex(e,n))},c.prototype.insertDocumentAtRange=function(t,e){var r,o,a,s,u,c,l;return o=t.blockList,u=(e=n(e))[0],a=(c=this.locationFromPosition(u)).index,s=c.offset,l=this,r=this.getBlockAtPosition(u),i(e)&&r.isEmpty()&&!r.hasAttributes()?l=new this.constructor(l.blockList.removeObjectAtIndex(a)):r.getBlockBreakPosition()===s&&u++,l=l.removeTextAtRange(e),new this.constructor(l.blockList.insertSplittableListAtPosition(o,u))},c.prototype.mergeDocumentAtRange=function(e,r){var i,o,a,s,u,c,l,h,p,d,f,g;return f=(r=n(r))[0],d=this.locationFromPosition(f),o=this.getBlockAtIndex(d.index).getAttributes(),i=e.getBaseBlockAttributes(),g=o.slice(-i.length),t(i,g)?(l=o.slice(0,-i.length),c=e.copyWithBaseBlockAttributes(l)):c=e.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(o),a=c.getBlockCount(),s=c.getBlockAtIndex(0),t(o,s.getAttributes())?(u=s.getTextWithoutBlockBreak(),p=this.insertTextAtRange(u,r),a>1&&(c=new this.constructor(c.getBlocks().slice(1)),h=f+u.getLength(),p=p.insertDocumentAtRange(c,h))):p=this.insertDocumentAtRange(c,r),p},c.prototype.insertTextAtRange=function(t,e){var r,i,o,a,s;return s=(e=n(e))[0],i=(a=this.locationFromPosition(s)).index,o=a.offset,r=this.removeTextAtRange(e),new this.constructor(r.blockList.editObjectAtIndex(i,(function(e){return e.copyWithText(e.text.insertTextAtPosition(t,o))})))},c.prototype.removeTextAtRange=function(t){var e,r,o,a,s,u,c,l,h,p,d,f,g,m,v,y,b,x;return l=(p=t=n(t))[0],y=p[1],i(t)?this:(u=(d=this.locationRangeFromRange(t))[0],m=d[1],s=u.index,c=u.offset,a=this.getBlockAtIndex(s),g=m.index,v=m.offset,f=this.getBlockAtIndex(g),y-l==1&&a.getBlockBreakPosition()===c&&f.getBlockBreakPosition()!==v&&\"\\n\"===f.text.getStringAtPosition(v)?o=this.blockList.editObjectAtIndex(g,(function(t){return t.copyWithText(t.text.removeTextAtRange([v,v+1]))})):(h=a.text.getTextAtRange([0,c]),b=f.text.getTextAtRange([v,f.getLength()]),x=h.appendText(b),r=s!==g&&0===c&&a.getAttributeLevel()>=f.getAttributeLevel()?f.copyWithText(x):a.copyWithText(x),e=g+1-s,o=this.blockList.splice(s,e,r)),new this.constructor(o))},c.prototype.moveTextFromRangeToPosition=function(t,e){var r,i,o,a,u,c,l,h,p,d;return p=(c=t=n(t))[0],o=c[1],e>=p&&o>=e?this:(i=this.getDocumentAtRange(t),h=this.removeTextAtRange(t),(u=e>p)&&(e-=i.getLength()),a=(l=i.getBlocks())[0],0===(r=2<=l.length?s.call(l,1):[]).length?(d=a.getTextWithoutBlockBreak(),u&&(e+=1)):d=a.text,h=h.insertTextAtRange(d,e),0===r.length?h:(i=new this.constructor(r),e+=d.getLength(),h.insertDocumentAtRange(i,e)))},c.prototype.addAttributeAtRange=function(t,n,r){var i;return i=this.blockList,this.eachBlockAtRange(r,(function(r,o,a){return i=i.editObjectAtIndex(a,(function(){return e(t)?r.addAttribute(t,n):o[0]===o[1]?r:r.copyWithText(r.text.addAttributeAtRange(t,n,o))}))})),new this.constructor(i)},c.prototype.addAttribute=function(t,e){var n;return n=this.blockList,this.eachBlock((function(r,i){return n=n.editObjectAtIndex(i,(function(){return r.addAttribute(t,e)}))})),new this.constructor(n)},c.prototype.removeAttributeAtRange=function(t,n){var r;return r=this.blockList,this.eachBlockAtRange(n,(function(n,i,o){return e(t)?r=r.editObjectAtIndex(o,(function(){return n.removeAttribute(t)})):i[0]!==i[1]?r=r.editObjectAtIndex(o,(function(){return n.copyWithText(n.text.removeAttributeAtRange(t,i))})):void 0})),new this.constructor(r)},c.prototype.updateAttributesForAttachment=function(t,e){var n,r,i;return r=this.getRangeOfAttachment(e)[0],n=this.locationFromPosition(r).index,i=this.getTextAtIndex(n),new this.constructor(this.blockList.editObjectAtIndex(n,(function(n){return n.copyWithText(i.updateAttributesForAttachment(t,e))})))},c.prototype.removeAttributeForAttachment=function(t,e){var n;return n=this.getRangeOfAttachment(e),this.removeAttributeAtRange(t,n)},c.prototype.insertBlockBreakAtRange=function(t){var e,i,o,a;return a=(t=n(t))[0],o=this.locationFromPosition(a).offset,i=this.removeTextAtRange(t),0===o&&(e=[new r.Block]),new this.constructor(i.blockList.insertSplittableListAtPosition(new r.SplittableList(e),a))},c.prototype.applyBlockAttributeAtRange=function(t,n,r){var i,o,a,s;return o=(a=this.expandRangeToLineBreaksAndSplitBlocks(r)).document,r=a.range,(i=e(t)).listAttribute?(s=(o=o.removeLastListAttributeAtRange(r,{exceptAttributeName:t})).convertLineBreaksToBlockBreaksInRange(r),o=s.document,r=s.range):o=i.exclusive?o.removeBlockAttributesAtRange(r):i.terminal?o.removeLastTerminalAttributeAtRange(r):o.consolidateBlocksAtRange(r),o.addAttributeAtRange(t,n,r)},c.prototype.removeLastListAttributeAtRange=function(t,n){var r;return null==n&&(n={}),r=this.blockList,this.eachBlockAtRange(t,(function(t,i,o){var a;if((a=t.getLastAttribute())&&e(a).listAttribute&&a!==n.exceptAttributeName)return r=r.editObjectAtIndex(o,(function(){return t.removeAttribute(a)}))})),new this.constructor(r)},c.prototype.removeLastTerminalAttributeAtRange=function(t){var n;return n=this.blockList,this.eachBlockAtRange(t,(function(t,r,i){var o;if((o=t.getLastAttribute())&&e(o).terminal)return n=n.editObjectAtIndex(i,(function(){return t.removeAttribute(o)}))})),new this.constructor(n)},c.prototype.removeBlockAttributesAtRange=function(t){var e;return e=this.blockList,this.eachBlockAtRange(t,(function(t,n,r){return t.hasAttributes()?e=e.editObjectAtIndex(r,(function(){return t.copyWithoutAttributes()})):void 0})),new this.constructor(e)},c.prototype.expandRangeToLineBreaksAndSplitBlocks=function(t){var e,r,i,o,a,s,u,c,l;return l=(s=t=n(t))[0],o=s[1],c=this.locationFromPosition(l),i=this.locationFromPosition(o),u=(e=this).getBlockAtIndex(c.index),null!=(c.offset=u.findLineBreakInDirectionFromPosition(\"backward\",c.offset))&&(a=e.positionFromLocation(c),e=e.insertBlockBreakAtRange([a,a+1]),i.index+=1,i.offset-=e.getBlockAtIndex(c.index).getLength(),c.index+=1),c.offset=0,0===i.offset&&i.index>c.index?(i.index-=1,i.offset=e.getBlockAtIndex(i.index).getBlockBreakPosition()):(\"\\n\"===(r=e.getBlockAtIndex(i.index)).text.getStringAtRange([i.offset-1,i.offset])?i.offset-=1:i.offset=r.findLineBreakInDirectionFromPosition(\"forward\",i.offset),i.offset!==r.getBlockBreakPosition()&&(a=e.positionFromLocation(i),e=e.insertBlockBreakAtRange([a,a+1]))),l=e.positionFromLocation(c),o=e.positionFromLocation(i),{document:e,range:t=n([l,o])}},c.prototype.convertLineBreaksToBlockBreaksInRange=function(t){var e,r,i;return r=(t=n(t))[0],i=this.getStringAtRange(t).slice(0,-1),e=this,i.replace(/.*?\\n/g,(function(t){return r+=t.length,e=e.insertBlockBreakAtRange([r-1,r])})),{document:e,range:t}},c.prototype.consolidateBlocksAtRange=function(t){var e,r,i,o,a;return a=(i=t=n(t))[0],r=i[1],o=this.locationFromPosition(a).index,e=this.locationFromPosition(r).index,new this.constructor(this.blockList.consolidateFromIndexToIndex(o,e))},c.prototype.getDocumentAtRange=function(t){var e;return t=n(t),e=this.blockList.getSplittableListInRange(t).toArray(),new this.constructor(e)},c.prototype.getStringAtRange=function(t){var e,r;return(r=t=n(t))[r.length-1]!==this.getLength()&&(e=-1),this.getDocumentAtRange(t).toString().slice(0,e)},c.prototype.getBlockAtIndex=function(t){return this.blockList.getObjectAtIndex(t)},c.prototype.getBlockAtPosition=function(t){var e;return e=this.locationFromPosition(t).index,this.getBlockAtIndex(e)},c.prototype.getTextAtIndex=function(t){var e;return null!=(e=this.getBlockAtIndex(t))?e.text:void 0},c.prototype.getTextAtPosition=function(t){var e;return e=this.locationFromPosition(t).index,this.getTextAtIndex(e)},c.prototype.getPieceAtPosition=function(t){var e,n,r;return e=(r=this.locationFromPosition(t)).index,n=r.offset,this.getTextAtIndex(e).getPieceAtPosition(n)},c.prototype.getCharacterAtPosition=function(t){var e,n,r;return e=(r=this.locationFromPosition(t)).index,n=r.offset,this.getTextAtIndex(e).getStringAtRange([n,n+1])},c.prototype.getLength=function(){return this.blockList.getEndPosition()},c.prototype.getBlocks=function(){return this.blockList.toArray()},c.prototype.getBlockCount=function(){return this.blockList.length},c.prototype.getEditCount=function(){return this.editCount},c.prototype.eachBlock=function(t){return this.blockList.eachObject(t)},c.prototype.eachBlockAtRange=function(t,e){var r,i,o,a,s,u,c,l,h,p,d,f;if(d=(u=t=n(t))[0],o=u[1],p=this.locationFromPosition(d),i=this.locationFromPosition(o),p.index===i.index)return r=this.getBlockAtIndex(p.index),f=[p.offset,i.offset],e(r,f,p.index);for(h=[],s=a=c=p.index,l=i.index;l>=c?l>=a:a>=l;s=l>=c?++a:--a)(r=this.getBlockAtIndex(s))?(f=function(){switch(s){case p.index:return[p.offset,r.text.getLength()];case i.index:return[0,i.offset];default:return[0,r.text.getLength()]}}(),h.push(e(r,f,s))):h.push(void 0);return h},c.prototype.getCommonAttributesAtRange=function(t){var e,o,a;return o=(t=n(t))[0],i(t)?this.getCommonAttributesAtPosition(o):(a=[],e=[],this.eachBlockAtRange(t,(function(t,n){return n[0]!==n[1]?(a.push(t.text.getCommonAttributesAtRange(n)),e.push(l(t))):void 0})),r.Hash.fromCommonAttributesOfObjects(a).merge(r.Hash.fromCommonAttributesOfObjects(e)).toObject())},c.prototype.getCommonAttributesAtPosition=function(t){var e,n,i,o,a,s,c,h,p,d;if(a=(p=this.locationFromPosition(t)).index,h=p.offset,!(i=this.getBlockAtIndex(a)))return{};for(c in o=l(i),e=i.text.getAttributesAtPosition(h),n=i.text.getAttributesAtPosition(h-1),s=function(){var t,e;for(c in e=[],t=r.config.textAttributes)(d=t[c]).inheritable&&e.push(c);return e}(),n)((d=n[c])===e[c]||u.call(s,c)>=0)&&(o[c]=d);return o},c.prototype.getRangeOfCommonAttributeAtPosition=function(t,e){var r,i,o,a,s,u,c,l;return o=(s=this.locationFromPosition(e)).index,a=s.offset,l=(u=this.getTextAtIndex(o).getExpandedRangeForAttributeAtOffset(t,a))[0],i=u[1],c=this.positionFromLocation({index:o,offset:l}),r=this.positionFromLocation({index:o,offset:i}),n([c,r])},c.prototype.getBaseBlockAttributes=function(){var t,e,n,r,i,o,a;for(t=this.getBlockAtIndex(0).getAttributes(),n=r=1,a=this.getBlockCount();a>=1?a>r:r>a;n=a>=1?++r:--r)e=this.getBlockAtIndex(n).getAttributes(),o=Math.min(t.length,e.length),t=function(){var n,r,a;for(a=[],i=n=0,r=o;(r>=0?r>n:n>r)&&e[i]===t[i];i=r>=0?++n:--n)a.push(e[i]);return a}();return t},l=function(t){var e,n;return n={},(e=t.getLastAttribute())&&(n[e]=!0),n},c.prototype.getAttachmentById=function(t){var e,n,r,i;for(n=0,r=(i=this.getAttachments()).length;r>n;n++)if((e=i[n]).id===t)return e},c.prototype.getAttachmentPieces=function(){var t;return t=[],this.blockList.eachObject((function(e){var n;return n=e.text,t=t.concat(n.getAttachmentPieces())})),t},c.prototype.getAttachments=function(){var t,e,n,r,i;for(i=[],t=0,e=(r=this.getAttachmentPieces()).length;e>t;t++)n=r[t],i.push(n.attachment);return i},c.prototype.getRangeOfAttachment=function(t){var e,r,i,o,a,s,u;for(o=0,r=e=0,i=(a=this.blockList.toArray()).length;i>e;r=++e){if(u=(s=a[r].text).getRangeOfAttachment(t))return n([o+u[0],o+u[1]]);o+=s.getLength()}},c.prototype.getLocationRangeOfAttachment=function(t){var e;return e=this.getRangeOfAttachment(t),this.locationRangeFromRange(e)},c.prototype.getAttachmentPieceForAttachment=function(t){var e,n,r,i;for(e=0,n=(i=this.getAttachmentPieces()).length;n>e;e++)if((r=i[e]).attachment===t)return r},c.prototype.findRangesForBlockAttribute=function(t){var e,n,r,i,o,a,s;for(o=0,a=[],n=0,r=(s=this.getBlocks()).length;r>n;n++)i=(e=s[n]).getLength(),e.hasAttribute(t)&&a.push([o,o+i]),o+=i;return a},c.prototype.findRangesForTextAttribute=function(t,e){var n,r,i,o,a,s,u,c,l,h;for(h=(null!=e?e:{}).withValue,s=0,u=[],c=[],o=function(e){return null!=h?e.getAttribute(t)===h:e.hasAttribute(t)},n=0,r=(l=this.getPieces()).length;r>n;n++)i=(a=l[n]).getLength(),o(a)&&(u[1]===s?u[1]=s+i:c.push(u=[s,s+i])),s+=i;return c},c.prototype.locationFromPosition=function(t){var e,n;return null!=(n=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,t))).index?n:{index:(e=this.getBlocks()).length-1,offset:e[e.length-1].getLength()}},c.prototype.positionFromLocation=function(t){return this.blockList.findPositionAtIndexAndOffset(t.index,t.offset)},c.prototype.locationRangeFromPosition=function(t){return n(this.locationFromPosition(t))},c.prototype.locationRangeFromRange=function(t){var e,r,i,o;if(t=n(t))return o=t[0],r=t[1],i=this.locationFromPosition(o),e=this.locationFromPosition(r),n([i,e])},c.prototype.rangeFromLocationRange=function(t){var e,r;return t=n(t),e=this.positionFromLocation(t[0]),i(t)||(r=this.positionFromLocation(t[1])),n([e,r])},c.prototype.isEqualTo=function(t){return this.blockList.isEqualTo(null!=t?t.blockList:void 0)},c.prototype.getTexts=function(){var t,e,n,r,i;for(i=[],e=0,n=(r=this.getBlocks()).length;n>e;e++)t=r[e],i.push(t.text);return i},c.prototype.getPieces=function(){var t,e,n,r,i;for(n=[],t=0,e=(r=this.getTexts()).length;e>t;t++)i=r[t],n.push.apply(n,i.getPieces());return n},c.prototype.getObjects=function(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())},c.prototype.toSerializableDocument=function(){var t;return t=[],this.blockList.eachObject((function(e){return t.push(e.copyWithText(e.text.toSerializableText()))})),new this.constructor(t)},c.prototype.toString=function(){return this.blockList.toString()},c.prototype.toJSON=function(){return this.blockList.toJSON()},c.prototype.toConsole=function(){var t;return JSON.stringify(function(){var e,n,r,i;for(i=[],e=0,n=(r=this.blockList.toArray()).length;n>e;e++)t=r[e],i.push(JSON.parse(t.text.toConsole()));return i}.call(this))},c}(r.Object)}.call(this),function(){r.LineBreakInsertion=function(){function t(t){var e;this.composition=t,this.document=this.composition.document,e=this.composition.getSelectedRange(),this.startPosition=e[0],this.endPosition=e[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}return t.prototype.shouldInsertBlockBreak=function(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?0!==this.startLocation.offset:this.breaksOnReturn&&\"\\n\"!==this.nextCharacter},t.prototype.shouldBreakFormattedBlock=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&\"\\n\"===this.nextCharacter||\"\\n\"===this.previousCharacter)},t.prototype.shouldDecreaseListLevel=function(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()},t.prototype.shouldPrependListItem=function(){return this.block.isListItem()&&0===this.startLocation.offset&&!this.block.isEmpty()},t.prototype.shouldRemoveLastBlockAttribute=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()},t}()}.call(this),function(){var t,e,n,i,o,a,s,u,c,l,h=function(t,e){function n(){this.constructor=t}for(var r in e)p.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;a=r.normalizeRange,c=r.rangesAreEqual,u=r.rangeIsCollapsed,s=r.objectsAreEqual,t=r.arrayStartsWith,l=r.summarizeArrayChange,n=r.getAllAttributeNames,i=r.getBlockConfig,o=r.getTextConfig,e=r.extend,r.Composition=function(p){function d(){this.document=new r.Document,this.attachments=[],this.currentAttributes={},this.revision=0}return h(d,p),d.prototype.setDocument=function(t){var e;return t.isEqualTo(this.document)?void 0:(this.document=t,this.refreshAttachments(),this.revision++,null!=(e=this.delegate)&&\"function\"==typeof e.compositionDidChangeDocument?e.compositionDidChangeDocument(t):void 0)},d.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.getSelectedRange()}},d.prototype.loadSnapshot=function(t){var e,n,i,o;return e=t.document,o=t.selectedRange,null!=(n=this.delegate)&&\"function\"==typeof n.compositionWillLoadSnapshot&&n.compositionWillLoadSnapshot(),this.setDocument(null!=e?e:new r.Document),this.setSelection(null!=o?o:[0,0]),null!=(i=this.delegate)&&\"function\"==typeof i.compositionDidLoadSnapshot?i.compositionDidLoadSnapshot():void 0},d.prototype.insertText=function(t,e){var n,r,i,o;return o=(null!=e?e:{updatePosition:!0}).updatePosition,r=this.getSelectedRange(),this.setDocument(this.document.insertTextAtRange(t,r)),n=(i=r[0])+t.getLength(),o&&this.setSelection(n),this.notifyDelegateOfInsertionAtRange([i,n])},d.prototype.insertBlock=function(t){var e;return null==t&&(t=new r.Block),e=new r.Document([t]),this.insertDocument(e)},d.prototype.insertDocument=function(t){var e,n,i;return null==t&&(t=new r.Document),n=this.getSelectedRange(),this.setDocument(this.document.insertDocumentAtRange(t,n)),e=(i=n[0])+t.getLength(),this.setSelection(e),this.notifyDelegateOfInsertionAtRange([i,e])},d.prototype.insertString=function(t,e){var n,i;return n=this.getCurrentTextAttributes(),i=r.Text.textForStringWithAttributes(t,n),this.insertText(i,e)},d.prototype.insertBlockBreak=function(){var t,e,n;return e=this.getSelectedRange(),this.setDocument(this.document.insertBlockBreakAtRange(e)),t=(n=e[0])+1,this.setSelection(t),this.notifyDelegateOfInsertionAtRange([n,t])},d.prototype.insertLineBreak=function(){var t,e;return(e=new r.LineBreakInsertion(this)).shouldDecreaseListLevel()?(this.decreaseListLevel(),this.setSelection(e.startPosition)):e.shouldPrependListItem()?(t=new r.Document([e.block.copyWithoutText()]),this.insertDocument(t)):e.shouldInsertBlockBreak()?this.insertBlockBreak():e.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():e.shouldBreakFormattedBlock()?this.breakFormattedBlock(e):this.insertString(\"\\n\")},d.prototype.insertHTML=function(t){var e,n,i,o;return e=r.Document.fromHTML(t),i=this.getSelectedRange(),this.setDocument(this.document.mergeDocumentAtRange(e,i)),n=(o=i[0])+e.getLength()-1,this.setSelection(n),this.notifyDelegateOfInsertionAtRange([o,n])},d.prototype.replaceHTML=function(t){var e,n,i;return e=r.Document.fromHTML(t).copyUsingObjectsFromDocument(this.document),n=this.getLocationRange({strict:!1}),i=this.document.rangeFromLocationRange(n),this.setDocument(e),this.setSelection(i)},d.prototype.insertFile=function(t){return this.insertFiles([t])},d.prototype.insertFiles=function(t){var e,n,i,o,a,s;for(n=[],o=0,a=t.length;a>o;o++)i=t[o],(null!=(s=this.delegate)?s.compositionShouldAcceptFile(i):void 0)&&(e=r.Attachment.attachmentForFile(i),n.push(e));return this.insertAttachments(n)},d.prototype.insertAttachment=function(t){return this.insertAttachments([t])},d.prototype.insertAttachments=function(t){var e,n,i,o,a,s,u,c,l;for(c=new r.Text,o=0,a=t.length;a>o;o++)l=(e=t[o]).getType(),s=null!=(u=r.config.attachments[l])?u.presentation:void 0,i=this.getCurrentTextAttributes(),s&&(i.presentation=s),n=r.Text.textForAttachmentWithAttributes(e,i),c=c.appendText(n);return this.insertText(c)},d.prototype.shouldManageDeletingInDirection=function(t){var e;if(e=this.getLocationRange(),u(e)){if(\"backward\"===t&&0===e[0].offset)return!0;if(this.shouldManageMovingCursorInDirection(t))return!0}else if(e[0].index!==e[1].index)return!0;return!1},d.prototype.deleteInDirection=function(t,e){var n,r,i,o,a,s,c,l;return o=(null!=e?e:{}).length,a=this.getLocationRange(),s=this.getSelectedRange(),(c=u(s))?i=\"backward\"===t&&0===a[0].offset:l=a[0].index!==a[1].index,!(i&&this.canDecreaseBlockAttributeLevel()&&(r=this.getBlock(),r.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(s[0]),r.isEmpty()))&&(c&&(s=this.getExpandedRangeInDirection(t,{length:o}),\"backward\"===t&&(n=this.getAttachmentAtRange(s))),n?(this.editAttachment(n),!1):(this.setDocument(this.document.removeTextAtRange(s)),this.setSelection(s[0]),!i&&!l&&void 0))},d.prototype.moveTextFromRange=function(t){var e;return e=this.getSelectedRange()[0],this.setDocument(this.document.moveTextFromRangeToPosition(t,e)),this.setSelection(e)},d.prototype.removeAttachment=function(t){var e;return(e=this.document.getRangeOfAttachment(t))?(this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(e)),this.setSelection(e[0])):void 0},d.prototype.removeLastBlockAttribute=function(){var t,e,n,r;return r=(n=this.getSelectedRange())[0],e=n[1],t=this.document.getBlockAtPosition(e),this.removeCurrentAttribute(t.getLastAttribute()),this.setSelection(r)},\" \",d.prototype.insertPlaceholder=function(){return this.placeholderPosition=this.getPosition(),this.insertString(\" \")},d.prototype.selectPlaceholder=function(){return null!=this.placeholderPosition?(this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+\" \".length]),this.getSelectedRange()):void 0},d.prototype.forgetPlaceholder=function(){return this.placeholderPosition=null},d.prototype.hasCurrentAttribute=function(t){var e;return null!=(e=this.currentAttributes[t])&&!1!==e},d.prototype.toggleCurrentAttribute=function(t){var e;return(e=!this.currentAttributes[t])?this.setCurrentAttribute(t,e):this.removeCurrentAttribute(t)},d.prototype.canSetCurrentAttribute=function(t){return i(t)?this.canSetCurrentBlockAttribute(t):this.canSetCurrentTextAttribute(t)},d.prototype.canSetCurrentTextAttribute=function(){var t,e,n,r;if(t=this.getSelectedDocument()){for(e=0,n=(r=t.getAttachments()).length;n>e;e++)if(!r[e].hasContent())return!1;return!0}},d.prototype.canSetCurrentBlockAttribute=function(){var t;if(t=this.getBlock())return!t.isTerminalBlock()},d.prototype.setCurrentAttribute=function(t,e){return i(t)?this.setBlockAttribute(t,e):(this.setTextAttribute(t,e),this.currentAttributes[t]=e,this.notifyDelegateOfCurrentAttributesChange())},d.prototype.setTextAttribute=function(t,e){var n,i;if(n=this.getSelectedRange())return n[0]!==n[1]?this.setDocument(this.document.addAttributeAtRange(t,e,n)):\"href\"===t?(i=r.Text.textForStringWithAttributes(e,{href:e}),this.insertText(i)):void 0},d.prototype.setBlockAttribute=function(t,e){var n;if(n=this.getSelectedRange())return this.canSetCurrentAttribute(t)?(this.getBlock(),this.setDocument(this.document.applyBlockAttributeAtRange(t,e,n)),this.setSelection(n)):void 0},d.prototype.removeCurrentAttribute=function(t){return i(t)?(this.removeBlockAttribute(t),this.updateCurrentAttributes()):(this.removeTextAttribute(t),delete this.currentAttributes[t],this.notifyDelegateOfCurrentAttributesChange())},d.prototype.removeTextAttribute=function(t){var e;if(e=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(t,e))},d.prototype.removeBlockAttribute=function(t){var e;if(e=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(t,e))},d.prototype.canDecreaseNestingLevel=function(){var t;return(null!=(t=this.getBlock())?t.getNestingLevel():void 0)>0},d.prototype.canIncreaseNestingLevel=function(){var e,n,r;if(e=this.getBlock())return null!=(r=i(e.getLastNestableAttribute()))&&r.listAttribute?(n=this.getPreviousBlock())?t(n.getListItemAttributes(),e.getListItemAttributes()):void 0:e.getNestingLevel()>0},d.prototype.decreaseNestingLevel=function(){var t;if(t=this.getBlock())return this.setDocument(this.document.replaceBlock(t,t.decreaseNestingLevel()))},d.prototype.increaseNestingLevel=function(){var t;if(t=this.getBlock())return this.setDocument(this.document.replaceBlock(t,t.increaseNestingLevel()))},d.prototype.canDecreaseBlockAttributeLevel=function(){var t;return(null!=(t=this.getBlock())?t.getAttributeLevel():void 0)>0},d.prototype.decreaseBlockAttributeLevel=function(){var t,e;return(t=null!=(e=this.getBlock())?e.getLastAttribute():void 0)?this.removeCurrentAttribute(t):void 0},d.prototype.decreaseListLevel=function(){var t,e,n,r,i,o;for(o=this.getSelectedRange()[0],n=i=this.document.locationFromPosition(o).index,t=this.getBlock().getAttributeLevel();(e=this.document.getBlockAtIndex(n+1))&&e.isListItem()&&e.getAttributeLevel()>t;)n++;return o=this.document.positionFromLocation({index:i,offset:0}),r=this.document.positionFromLocation({index:n,offset:0}),this.setDocument(this.document.removeLastListAttributeAtRange([o,r]))},d.prototype.updateCurrentAttributes=function(){var t,e,r,i,o,a;if(a=this.getSelectedRange({ignoreLock:!0})){for(e=this.document.getCommonAttributesAtRange(a),r=0,i=(o=n()).length;i>r;r++)e[t=o[r]]||this.canSetCurrentAttribute(t)||(e[t]=!1);if(!s(e,this.currentAttributes))return this.currentAttributes=e,this.notifyDelegateOfCurrentAttributesChange()}},d.prototype.getCurrentAttributes=function(){return e.call({},this.currentAttributes)},d.prototype.getCurrentTextAttributes=function(){var t,e,n,r;for(e in t={},n=this.currentAttributes)!1!==(r=n[e])&&o(e)&&(t[e]=r);return t},d.prototype.freezeSelection=function(){return this.setCurrentAttribute(\"frozen\",!0)},d.prototype.thawSelection=function(){return this.removeCurrentAttribute(\"frozen\")},d.prototype.hasFrozenSelection=function(){return this.hasCurrentAttribute(\"frozen\")},d.proxyMethod(\"getSelectionManager().getPointRange\"),d.proxyMethod(\"getSelectionManager().setLocationRangeFromPointRange\"),d.proxyMethod(\"getSelectionManager().createLocationRangeFromDOMRange\"),d.proxyMethod(\"getSelectionManager().locationIsCursorTarget\"),d.proxyMethod(\"getSelectionManager().selectionIsExpanded\"),d.proxyMethod(\"delegate?.getSelectionManager\"),d.prototype.setSelection=function(t){var e,n;return e=this.document.locationRangeFromRange(t),null!=(n=this.delegate)?n.compositionDidRequestChangingSelectionToLocationRange(e):void 0},d.prototype.getSelectedRange=function(){var t;return(t=this.getLocationRange())?this.document.rangeFromLocationRange(t):void 0},d.prototype.setSelectedRange=function(t){var e;return e=this.document.locationRangeFromRange(t),this.getSelectionManager().setLocationRange(e)},d.prototype.getPosition=function(){var t;return(t=this.getLocationRange())?this.document.positionFromLocation(t[0]):void 0},d.prototype.getLocationRange=function(t){var e,n;return null!=(e=null!=(n=this.targetLocationRange)?n:this.getSelectionManager().getLocationRange(t))?e:a({index:0,offset:0})},d.prototype.withTargetLocationRange=function(t,e){var n;this.targetLocationRange=t;try{n=e()}finally{this.targetLocationRange=null}return n},d.prototype.withTargetRange=function(t,e){var n;return n=this.document.locationRangeFromRange(t),this.withTargetLocationRange(n,e)},d.prototype.withTargetDOMRange=function(t,e){var n;return n=this.createLocationRangeFromDOMRange(t,{strict:!1}),this.withTargetLocationRange(n,e)},d.prototype.getExpandedRangeInDirection=function(t,e){var n,r,i,o;return r=(null!=e?e:{}).length,o=(i=this.getSelectedRange())[0],n=i[1],\"backward\"===t?r?o-=r:o=this.translateUTF16PositionFromOffset(o,-1):r?n+=r:n=this.translateUTF16PositionFromOffset(n,1),a([o,n])},d.prototype.shouldManageMovingCursorInDirection=function(t){var e;return!!this.editingAttachment||(e=this.getExpandedRangeInDirection(t),null!=this.getAttachmentAtRange(e))},d.prototype.moveCursorInDirection=function(t){var e,n,r,i;return this.editingAttachment?r=this.document.getRangeOfAttachment(this.editingAttachment):(i=this.getSelectedRange(),r=this.getExpandedRangeInDirection(t),n=!c(i,r)),this.setSelectedRange(\"backward\"===t?r[0]:r[1]),n&&(e=this.getAttachmentAtRange(r))?this.editAttachment(e):void 0},d.prototype.expandSelectionInDirection=function(t,e){var n,r;return n=(null!=e?e:{}).length,r=this.getExpandedRangeInDirection(t,{length:n}),this.setSelectedRange(r)},d.prototype.expandSelectionForEditing=function(){return this.hasCurrentAttribute(\"href\")?this.expandSelectionAroundCommonAttribute(\"href\"):void 0},d.prototype.expandSelectionAroundCommonAttribute=function(t){var e,n;return e=this.getPosition(),n=this.document.getRangeOfCommonAttributeAtPosition(t,e),this.setSelectedRange(n)},d.prototype.selectionContainsAttachments=function(){var t;return(null!=(t=this.getSelectedAttachments())?t.length:void 0)>0},d.prototype.selectionIsInCursorTarget=function(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())},d.prototype.positionIsCursorTarget=function(t){var e;return(e=this.document.locationFromPosition(t))?this.locationIsCursorTarget(e):void 0},d.prototype.positionIsBlockBreak=function(t){var e;return null!=(e=this.document.getPieceAtPosition(t))?e.isBlockBreak():void 0},d.prototype.getSelectedDocument=function(){var t;return(t=this.getSelectedRange())?this.document.getDocumentAtRange(t):void 0},d.prototype.getSelectedAttachments=function(){var t;return null!=(t=this.getSelectedDocument())?t.getAttachments():void 0},d.prototype.getAttachments=function(){return this.attachments.slice(0)},d.prototype.refreshAttachments=function(){var t,e,n,r,i,o,a,s,u,c,h,p;for(n=this.document.getAttachments(),t=(s=l(this.attachments,n)).added,h=s.removed,this.attachments=n,r=0,o=h.length;o>r;r++)(e=h[r]).delegate=null,null!=(u=this.delegate)&&\"function\"==typeof u.compositionDidRemoveAttachment&&u.compositionDidRemoveAttachment(e);for(p=[],i=0,a=t.length;a>i;i++)(e=t[i]).delegate=this,p.push(null!=(c=this.delegate)&&\"function\"==typeof c.compositionDidAddAttachment?c.compositionDidAddAttachment(e):void 0);return p},d.prototype.attachmentDidChangeAttributes=function(t){var e;return this.revision++,null!=(e=this.delegate)&&\"function\"==typeof e.compositionDidEditAttachment?e.compositionDidEditAttachment(t):void 0},d.prototype.attachmentDidChangePreviewURL=function(t){var e;return this.revision++,null!=(e=this.delegate)&&\"function\"==typeof e.compositionDidChangeAttachmentPreviewURL?e.compositionDidChangeAttachmentPreviewURL(t):void 0},d.prototype.editAttachment=function(t,e){var n;if(t!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=t,null!=(n=this.delegate)&&\"function\"==typeof n.compositionDidStartEditingAttachment?n.compositionDidStartEditingAttachment(this.editingAttachment,e):void 0},d.prototype.stopEditingAttachment=function(){var t;if(this.editingAttachment)return null!=(t=this.delegate)&&\"function\"==typeof t.compositionDidStopEditingAttachment&&t.compositionDidStopEditingAttachment(this.editingAttachment),this.editingAttachment=null},d.prototype.updateAttributesForAttachment=function(t,e){return this.setDocument(this.document.updateAttributesForAttachment(t,e))},d.prototype.removeAttributeForAttachment=function(t,e){return this.setDocument(this.document.removeAttributeForAttachment(t,e))},d.prototype.breakFormattedBlock=function(t){var e,n,i,o,a;return n=t.document,e=t.block,a=[(o=t.startPosition)-1,o],e.getBlockBreakPosition()===t.startLocation.offset?(e.breaksOnReturn()&&\"\\n\"===t.nextCharacter?o+=1:n=n.removeTextAtRange(a),a=[o,o]):\"\\n\"===t.nextCharacter?\"\\n\"===t.previousCharacter?a=[o-1,o+1]:(a=[o,o+1],o+=1):t.startLocation.offset-1!=0&&(o+=1),i=new r.Document([e.removeLastAttribute().copyWithoutText()]),this.setDocument(n.insertDocumentAtRange(i,a)),this.setSelection(o)},d.prototype.getPreviousBlock=function(){var t,e;return(e=this.getLocationRange())&&(t=e[0].index)>0?this.document.getBlockAtIndex(t-1):void 0},d.prototype.getBlock=function(){var t;return(t=this.getLocationRange())?this.document.getBlockAtIndex(t[0].index):void 0},d.prototype.getAttachmentAtRange=function(t){var e;return(e=this.document.getDocumentAtRange(t)).toString()===r.OBJECT_REPLACEMENT_CHARACTER+\"\\n\"?e.getAttachments()[0]:void 0},d.prototype.notifyDelegateOfCurrentAttributesChange=function(){var t;return null!=(t=this.delegate)&&\"function\"==typeof t.compositionDidChangeCurrentAttributes?t.compositionDidChangeCurrentAttributes(this.currentAttributes):void 0},d.prototype.notifyDelegateOfInsertionAtRange=function(t){var e;return null!=(e=this.delegate)&&\"function\"==typeof e.compositionDidPerformInsertionAtRange?e.compositionDidPerformInsertionAtRange(t):void 0},d.prototype.translateUTF16PositionFromOffset=function(t,e){var n,r;return n=(r=this.document.toUTF16String()).offsetFromUCS2Offset(t),r.offsetToUCS2Offset(n+e)},d}(r.BasicObject)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.UndoManager=function(e){function n(t){this.composition=t,this.undoEntries=[],this.redoEntries=[]}var r;return t(n,e),n.prototype.recordUndoEntry=function(t,e){var n,i,o,a,s;return i=(a=null!=e?e:{}).context,n=a.consolidatable,o=this.undoEntries.slice(-1)[0],n&&r(o,t,i)?void 0:(s=this.createEntry({description:t,context:i}),this.undoEntries.push(s),this.redoEntries=[])},n.prototype.undo=function(){var t,e;return(e=this.undoEntries.pop())?(t=this.createEntry(e),this.redoEntries.push(t),this.composition.loadSnapshot(e.snapshot)):void 0},n.prototype.redo=function(){var t,e;return(t=this.redoEntries.pop())?(e=this.createEntry(t),this.undoEntries.push(e),this.composition.loadSnapshot(t.snapshot)):void 0},n.prototype.canUndo=function(){return this.undoEntries.length>0},n.prototype.canRedo=function(){return this.redoEntries.length>0},n.prototype.createEntry=function(t){var e,n,r;return n=(r=null!=t?t:{}).description,e=r.context,{description:null!=n?n.toString():void 0,context:JSON.stringify(e),snapshot:this.composition.getSnapshot()}},r=function(t,e,n){return(null!=t?t.description:void 0)===(null!=e?e.toString():void 0)&&(null!=t?t.context:void 0)===JSON.stringify(n)},n}(r.BasicObject)}.call(this),function(){var t;r.attachmentGalleryFilter=function(e){var n;return(n=new t(e)).perform(),n.getSnapshot()},t=function(){function t(t){this.document=t.document,this.selectedRange=t.selectedRange}var e;return e=\"attachmentGallery\",\"presentation\",\"gallery\",t.prototype.perform=function(){return this.removeBlockAttribute(),this.applyBlockAttribute()},t.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.selectedRange}},t.prototype.removeBlockAttribute=function(){var t,n,r,i,o;for(o=[],t=0,n=(i=this.findRangesOfBlocks()).length;n>t;t++)r=i[t],o.push(this.document=this.document.removeAttributeAtRange(e,r));return o},t.prototype.applyBlockAttribute=function(){var t,n,r,i,o,a;for(r=0,a=[],t=0,n=(o=this.findRangesOfPieces()).length;n>t;t++)(i=o[t])[1]-i[0]>1&&(i[0]+=r,i[1]+=r,\"\\n\"!==this.document.getCharacterAtPosition(i[1])&&(this.document=this.document.insertBlockBreakAtRange(i[1]),i[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),i[1]++,r++),0!==i[0]&&\"\\n\"!==this.document.getCharacterAtPosition(i[0]-1)&&(this.document=this.document.insertBlockBreakAtRange(i[0]),i[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),i[0]++,r++),a.push(this.document=this.document.applyBlockAttributeAtRange(e,!0,i)));return a},t.prototype.findRangesOfBlocks=function(){return this.document.findRangesForBlockAttribute(e)},t.prototype.findRangesOfPieces=function(){return this.document.findRangesForTextAttribute(\"presentation\",{withValue:\"gallery\"})},t.prototype.moveSelectedRangeForward=function(){return this.selectedRange[0]+=1,this.selectedRange[1]+=1},t}()}.call(this),function(){r.Editor=function(){function t(t,n,i){this.composition=t,this.selectionManager=n,this.element=i,this.insertFiles=function(t,e){return function(){return t.apply(e,arguments)}}(this.insertFiles,this),this.undoManager=new r.UndoManager(this.composition),this.filters=e.slice(0)}var e;return e=[r.attachmentGalleryFilter],t.prototype.loadDocument=function(t){return this.loadSnapshot({document:t,selectedRange:[0,0]})},t.prototype.loadHTML=function(t){return null==t&&(t=\"\"),this.loadDocument(r.Document.fromHTML(t,{referenceElement:this.element}))},t.prototype.loadJSON=function(t){var e,n;return e=t.document,n=t.selectedRange,e=r.Document.fromJSON(e),this.loadSnapshot({document:e,selectedRange:n})},t.prototype.loadSnapshot=function(t){return this.undoManager=new r.UndoManager(this.composition),this.composition.loadSnapshot(t)},t.prototype.getDocument=function(){return this.composition.document},t.prototype.getSelectedDocument=function(){return this.composition.getSelectedDocument()},t.prototype.getSnapshot=function(){return this.composition.getSnapshot()},t.prototype.toJSON=function(){return this.getSnapshot()},t.prototype.deleteInDirection=function(t){return this.composition.deleteInDirection(t)},t.prototype.insertAttachment=function(t){return this.composition.insertAttachment(t)},t.prototype.insertAttachments=function(t){return this.composition.insertAttachments(t)},t.prototype.insertDocument=function(t){return this.composition.insertDocument(t)},t.prototype.insertFile=function(t){return this.composition.insertFile(t)},t.prototype.insertFiles=function(t){return this.composition.insertFiles(t)},t.prototype.insertHTML=function(t){return this.composition.insertHTML(t)},t.prototype.insertString=function(t){return this.composition.insertString(t)},t.prototype.insertText=function(t){return this.composition.insertText(t)},t.prototype.insertLineBreak=function(){return this.composition.insertLineBreak()},t.prototype.getSelectedRange=function(){return this.composition.getSelectedRange()},t.prototype.getPosition=function(){return this.composition.getPosition()},t.prototype.getClientRectAtPosition=function(t){var e;return e=this.getDocument().locationRangeFromRange([t,t+1]),this.selectionManager.getClientRectAtLocationRange(e)},t.prototype.expandSelectionInDirection=function(t){return this.composition.expandSelectionInDirection(t)},t.prototype.moveCursorInDirection=function(t){return this.composition.moveCursorInDirection(t)},t.prototype.setSelectedRange=function(t){return this.composition.setSelectedRange(t)},t.prototype.activateAttribute=function(t,e){return null==e&&(e=!0),this.composition.setCurrentAttribute(t,e)},t.prototype.attributeIsActive=function(t){return this.composition.hasCurrentAttribute(t)},t.prototype.canActivateAttribute=function(t){return this.composition.canSetCurrentAttribute(t)},t.prototype.deactivateAttribute=function(t){return this.composition.removeCurrentAttribute(t)},t.prototype.canDecreaseNestingLevel=function(){return this.composition.canDecreaseNestingLevel()},t.prototype.canIncreaseNestingLevel=function(){return this.composition.canIncreaseNestingLevel()},t.prototype.decreaseNestingLevel=function(){return this.canDecreaseNestingLevel()?this.composition.decreaseNestingLevel():void 0},t.prototype.increaseNestingLevel=function(){return this.canIncreaseNestingLevel()?this.composition.increaseNestingLevel():void 0},t.prototype.canRedo=function(){return this.undoManager.canRedo()},t.prototype.canUndo=function(){return this.undoManager.canUndo()},t.prototype.recordUndoEntry=function(t,e){var n,r,i;return r=(i=null!=e?e:{}).context,n=i.consolidatable,this.undoManager.recordUndoEntry(t,{context:r,consolidatable:n})},t.prototype.redo=function(){return this.canRedo()?this.undoManager.redo():void 0},t.prototype.undo=function(){return this.canUndo()?this.undoManager.undo():void 0},t}()}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.ManagedAttachment=function(e){function n(t,e){var n;this.attachmentManager=t,this.attachment=e,n=this.attachment,this.id=n.id,this.file=n.file}return t(n,e),n.prototype.remove=function(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)},n.proxyMethod(\"attachment.getAttribute\"),n.proxyMethod(\"attachment.hasAttribute\"),n.proxyMethod(\"attachment.setAttribute\"),n.proxyMethod(\"attachment.getAttributes\"),n.proxyMethod(\"attachment.setAttributes\"),n.proxyMethod(\"attachment.isPending\"),n.proxyMethod(\"attachment.isPreviewable\"),n.proxyMethod(\"attachment.getURL\"),n.proxyMethod(\"attachment.getHref\"),n.proxyMethod(\"attachment.getFilename\"),n.proxyMethod(\"attachment.getFilesize\"),n.proxyMethod(\"attachment.getFormattedFilesize\"),n.proxyMethod(\"attachment.getExtension\"),n.proxyMethod(\"attachment.getContentType\"),n.proxyMethod(\"attachment.getFile\"),n.proxyMethod(\"attachment.setFile\"),n.proxyMethod(\"attachment.releaseFile\"),n.proxyMethod(\"attachment.getUploadProgress\"),n.proxyMethod(\"attachment.setUploadProgress\"),n}(r.BasicObject)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.AttachmentManager=function(e){function n(t){var e,n,r;for(null==t&&(t=[]),this.managedAttachments={},n=0,r=t.length;r>n;n++)e=t[n],this.manageAttachment(e)}return t(n,e),n.prototype.getAttachments=function(){var t,e,n,r;for(e in r=[],n=this.managedAttachments)t=n[e],r.push(t);return r},n.prototype.manageAttachment=function(t){var e,n;return null!=(e=this.managedAttachments)[n=t.id]?e[n]:e[n]=new r.ManagedAttachment(this,t)},n.prototype.attachmentIsManaged=function(t){return t.id in this.managedAttachments},n.prototype.requestRemovalOfAttachment=function(t){var e;return this.attachmentIsManaged(t)&&null!=(e=this.delegate)&&\"function\"==typeof e.attachmentManagerDidRequestRemovalOfAttachment?e.attachmentManagerDidRequestRemovalOfAttachment(t):void 0},n.prototype.unmanageAttachment=function(t){var e;return e=this.managedAttachments[t.id],delete this.managedAttachments[t.id],e},n}(r.BasicObject)}.call(this),function(){var t,e,n,i,o,a,s,u,c,l,h;t=r.elementContainsNode,e=r.findChildIndexOfNode,o=r.nodeIsBlockStart,a=r.nodeIsBlockStartComment,i=r.nodeIsBlockContainer,s=r.nodeIsCursorTarget,u=r.nodeIsEmptyTextNode,c=r.nodeIsTextNode,n=r.nodeIsAttachmentElement,l=r.tagName,h=r.walkTree,r.LocationMapper=function(){function r(t){this.element=t}var p,d,f,g;return r.prototype.findLocationFromContainerAndOffset=function(n,r,i){var a,u,l,p,g,m,v;for(m=(null!=i?i:{strict:!0}).strict,u=0,l=!1,p={index:0,offset:0},(a=this.findAttachmentElementParentForNode(n))&&(n=a.parentNode,r=e(a)),v=h(this.element,{usingFilter:f});v.nextNode();){if((g=v.currentNode)===n&&c(n)){s(g)||(p.offset+=r);break}if(g.parentNode===n){if(u++===r)break}else if(!t(n,g)&&u>0)break;o(g,{strict:m})?(l&&p.index++,p.offset=0,l=!0):p.offset+=d(g)}return p},r.prototype.findContainerAndOffsetFromLocation=function(t){var n,r,a,u,l;if(0===t.index&&0===t.offset){for(n=this.element,u=0;n.firstChild;)if(n=n.firstChild,i(n)){u=1;break}return[n,u]}if(r=(l=this.findNodeAndOffsetFromLocation(t))[0],a=l[1],r){if(c(r))0===d(r)?(n=r.parentNode.parentNode,u=e(r.parentNode),s(r,{name:\"right\"})&&u++):(n=r,u=t.offset-a);else{if(n=r.parentNode,!o(r.previousSibling)&&!i(n))for(;r===n.lastChild&&(r=n,n=n.parentNode,!i(n)););u=e(r),0!==t.offset&&u++}return[n,u]}},r.prototype.findNodeAndOffsetFromLocation=function(t){var e,n,r,i,o,a,u,l;for(u=0,n=0,r=(l=this.getSignificantNodesForIndex(t.index)).length;r>n;n++){if(e=l[n],i=d(e),t.offset<=u+i)if(c(e)){if(o=e,a=u,t.offset===a&&s(o))break}else o||(o=e,a=u);if((u+=i)>t.offset)break}return[o,a]},r.prototype.findAttachmentElementParentForNode=function(t){for(;t&&t!==this.element;){if(n(t))return t;t=t.parentNode}},r.prototype.getSignificantNodesForIndex=function(t){var e,n,r,i,o;for(r=[],o=h(this.element,{usingFilter:p}),i=!1;o.nextNode();)if(n=o.currentNode,a(n)){if(null!=e?e++:e=0,e===t)i=!0;else if(i)break}else i&&r.push(n);return r},d=function(t){return t.nodeType===Node.TEXT_NODE?s(t)?0:t.textContent.length:\"br\"===l(t)||n(t)?1:0},p=function(t){return g(t)===NodeFilter.FILTER_ACCEPT?f(t):NodeFilter.FILTER_REJECT},g=function(t){return u(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},f=function(t){return n(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},r}()}.call(this),function(){var t,e,n=[].slice;t=r.getDOMRange,e=r.setDOMRange,r.PointMapper=function(){function r(){}return r.prototype.createDOMRangeFromPoint=function(n){var r,i,o,a,s,u,c,l;if(c=n.x,l=n.y,document.caretPositionFromPoint)return o=(s=document.caretPositionFromPoint(c,l)).offsetNode,i=s.offset,(r=document.createRange()).setStart(o,i),r;if(document.caretRangeFromPoint)return document.caretRangeFromPoint(c,l);if(document.body.createTextRange){a=t();try{(u=document.body.createTextRange()).moveToPoint(c,l),u.select()}catch(t){}return r=t(),e(a),r}},r.prototype.getClientRectsForDOMRange=function(t){var e;return[(e=n.call(t.getClientRects()))[0],e[e.length-1]]},r}()}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty,o=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=r.getDOMRange,r.SelectionChangeObserver=function(r){function i(){this.run=e(this.run,this),this.update=e(this.update,this),this.selectionManagers=[]}var a;return n(i,r),i.prototype.start=function(){return this.started?void 0:(this.started=!0,\"onselectionchange\"in document?document.addEventListener(\"selectionchange\",this.update,!0):this.run())},i.prototype.stop=function(){return this.started?(this.started=!1,document.removeEventListener(\"selectionchange\",this.update,!0)):void 0},i.prototype.registerSelectionManager=function(t){return o.call(this.selectionManagers,t)<0?(this.selectionManagers.push(t),this.start()):void 0},i.prototype.unregisterSelectionManager=function(t){var e;return this.selectionManagers=function(){var n,r,i,o;for(o=[],n=0,r=(i=this.selectionManagers).length;r>n;n++)(e=i[n])!==t&&o.push(e);return o}.call(this),0===this.selectionManagers.length?this.stop():void 0},i.prototype.notifySelectionManagersOfSelectionChange=function(){var t,e,n,r,i;for(r=[],t=0,e=(n=this.selectionManagers).length;e>t;t++)i=n[t],r.push(i.selectionDidChange());return r},i.prototype.update=function(){var e;return e=t(),a(e,this.domRange)?void 0:(this.domRange=e,this.notifySelectionManagersOfSelectionChange())},i.prototype.reset=function(){return this.domRange=null,this.update()},i.prototype.run=function(){return this.started?(this.update(),requestAnimationFrame(this.run)):void 0},a=function(t,e){return(null!=t?t.startContainer:void 0)===(null!=e?e.startContainer:void 0)&&(null!=t?t.startOffset:void 0)===(null!=e?e.startOffset:void 0)&&(null!=t?t.endContainer:void 0)===(null!=e?e.endContainer:void 0)&&(null!=t?t.endOffset:void 0)===(null!=e?e.endOffset:void 0)},i}(r.BasicObject),null==r.selectionChangeObserver&&(r.selectionChangeObserver=new r.SelectionChangeObserver)}.call(this),function(){var t,e,n,i,o,a,s,u,c,l,h=function(t,e){return function(){return t.apply(e,arguments)}},p=function(t,e){function n(){this.constructor=t}for(var r in e)d.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty;n=r.getDOMSelection,e=r.getDOMRange,l=r.setDOMRange,t=r.elementContainsNode,a=r.nodeIsCursorTarget,o=r.innerElementIsActive,i=r.handleEvent,s=r.normalizeRange,u=r.rangeIsCollapsed,c=r.rangesAreEqual,r.SelectionManager=function(d){function f(t){this.element=t,this.selectionDidChange=h(this.selectionDidChange,this),this.didMouseDown=h(this.didMouseDown,this),this.locationMapper=new r.LocationMapper(this.element),this.pointMapper=new r.PointMapper,this.lockCount=0,i(\"mousedown\",{onElement:this.element,withCallback:this.didMouseDown})}return p(f,d),f.prototype.getLocationRange=function(t){var n;return null==t&&(t={}),!1===t.strict?this.createLocationRangeFromDOMRange(e(),{strict:!1}):t.ignoreLock?this.currentLocationRange:null!=(n=this.lockedLocationRange)?n:this.currentLocationRange},f.prototype.setLocationRange=function(t){var e;if(!this.lockedLocationRange)return t=s(t),(e=this.createDOMRangeFromLocationRange(t))?(l(e),this.updateCurrentLocationRange(t)):void 0},f.prototype.setLocationRangeFromPointRange=function(t){var e,n;return t=s(t),n=this.getLocationAtPoint(t[0]),e=this.getLocationAtPoint(t[1]),this.setLocationRange([n,e])},f.prototype.getClientRectAtLocationRange=function(t){var e;return(e=this.createDOMRangeFromLocationRange(t))?this.getClientRectsForDOMRange(e)[1]:void 0},f.prototype.locationIsCursorTarget=function(t){var e,n;return e=(n=this.findNodeAndOffsetFromLocation(t))[0],n[1],a(e)},f.prototype.lock=function(){return 0==this.lockCount++?(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange()):void 0},f.prototype.unlock=function(){var t;return 0==--this.lockCount&&(t=this.lockedLocationRange,this.lockedLocationRange=null,null!=t)?this.setLocationRange(t):void 0},f.prototype.clearSelection=function(){var t;return null!=(t=n())?t.removeAllRanges():void 0},f.prototype.selectionIsCollapsed=function(){var t;return!0===(null!=(t=e())?t.collapsed:void 0)},f.prototype.selectionIsExpanded=function(){return!this.selectionIsCollapsed()},f.prototype.createLocationRangeFromDOMRange=function(t,e){var n,r;if(null!=t&&this.domRangeWithinElement(t)&&(r=this.findLocationFromContainerAndOffset(t.startContainer,t.startOffset,e)))return t.collapsed||(n=this.findLocationFromContainerAndOffset(t.endContainer,t.endOffset,e)),s([r,n])},f.proxyMethod(\"locationMapper.findLocationFromContainerAndOffset\"),f.proxyMethod(\"locationMapper.findContainerAndOffsetFromLocation\"),f.proxyMethod(\"locationMapper.findNodeAndOffsetFromLocation\"),f.proxyMethod(\"pointMapper.createDOMRangeFromPoint\"),f.proxyMethod(\"pointMapper.getClientRectsForDOMRange\"),f.prototype.didMouseDown=function(){return this.pauseTemporarily()},f.prototype.pauseTemporarily=function(){var e,n,r,o;return this.paused=!0,n=function(e){return function(){var n,i;for(e.paused=!1,clearTimeout(o),n=0,i=r.length;i>n;n++)r[n].destroy();return t(document,e.element)?e.selectionDidChange():void 0}}(this),o=setTimeout(n,200),r=function(){var t,r,o,a;for(a=[],t=0,r=(o=[\"mousemove\",\"keydown\"]).length;r>t;t++)e=o[t],a.push(i(e,{onElement:document,withCallback:n}));return a}()},f.prototype.selectionDidChange=function(){return this.paused||o(this.element)?void 0:this.updateCurrentLocationRange()},f.prototype.updateCurrentLocationRange=function(t){var n;return(null!=t?t:t=this.createLocationRangeFromDOMRange(e()))&&!c(t,this.currentLocationRange)?(this.currentLocationRange=t,null!=(n=this.delegate)&&\"function\"==typeof n.locationRangeDidChange?n.locationRangeDidChange(this.currentLocationRange.slice(0)):void 0):void 0},f.prototype.createDOMRangeFromLocationRange=function(t){var e,n,r,i;return r=this.findContainerAndOffsetFromLocation(t[0]),n=u(t)?r:null!=(i=this.findContainerAndOffsetFromLocation(t[1]))?i:r,null!=r&&null!=n?((e=document.createRange()).setStart.apply(e,r),e.setEnd.apply(e,n),e):void 0},f.prototype.getLocationAtPoint=function(t){var e,n;return(e=this.createDOMRangeFromPoint(t))&&null!=(n=this.createLocationRangeFromDOMRange(e))?n[0]:void 0},f.prototype.domRangeWithinElement=function(e){return e.collapsed?t(this.element,e.startContainer):t(this.element,e.startContainer)&&t(this.element,e.endContainer)},f}(r.BasicObject)}.call(this),function(){var t,e,n,i,o=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty,s=[].slice;n=r.rangeIsCollapsed,i=r.rangesAreEqual,e=r.objectsAreEqual,t=r.getBlockConfig,r.EditorController=function(a){function u(t){var e,n;this.editorElement=t.editorElement,e=t.document,n=t.html,this.selectionManager=new r.SelectionManager(this.editorElement),this.selectionManager.delegate=this,this.composition=new r.Composition,this.composition.delegate=this,this.attachmentManager=new r.AttachmentManager(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=new(r[\"Level\"+r.config.input.getLevel()+\"InputController\"])(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new r.CompositionController(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new r.ToolbarController(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new r.Editor(this.composition,this.selectionManager,this.editorElement),null!=e?this.editor.loadDocument(e):this.editor.loadHTML(n)}var c;return o(u,a),u.prototype.registerSelectionManager=function(){return r.selectionChangeObserver.registerSelectionManager(this.selectionManager)},u.prototype.unregisterSelectionManager=function(){return r.selectionChangeObserver.unregisterSelectionManager(this.selectionManager)},u.prototype.render=function(){return this.compositionController.render()},u.prototype.reparse=function(){return this.composition.replaceHTML(this.editorElement.innerHTML)},u.prototype.compositionDidChangeDocument=function(){return this.notifyEditorElement(\"document-change\"),this.handlingInput?void 0:this.render()},u.prototype.compositionDidChangeCurrentAttributes=function(t){return this.currentAttributes=t,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement(\"attributes-change\",{attributes:this.currentAttributes})},u.prototype.compositionDidPerformInsertionAtRange=function(t){return this.pasting?this.pastedRange=t:void 0},u.prototype.compositionShouldAcceptFile=function(t){return this.notifyEditorElement(\"file-accept\",{file:t})},u.prototype.compositionDidAddAttachment=function(t){var e;return e=this.attachmentManager.manageAttachment(t),this.notifyEditorElement(\"attachment-add\",{attachment:e})},u.prototype.compositionDidEditAttachment=function(t){var e;return this.compositionController.rerenderViewForObject(t),e=this.attachmentManager.manageAttachment(t),this.notifyEditorElement(\"attachment-edit\",{attachment:e}),this.notifyEditorElement(\"change\")},u.prototype.compositionDidChangeAttachmentPreviewURL=function(t){return this.compositionController.invalidateViewForObject(t),this.notifyEditorElement(\"change\")},u.prototype.compositionDidRemoveAttachment=function(t){var e;return e=this.attachmentManager.unmanageAttachment(t),this.notifyEditorElement(\"attachment-remove\",{attachment:e})},u.prototype.compositionDidStartEditingAttachment=function(t,e){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(t),this.compositionController.installAttachmentEditorForAttachment(t,e),this.selectionManager.setLocationRange(this.attachmentLocationRange)},u.prototype.compositionDidStopEditingAttachment=function(){return this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null},u.prototype.compositionDidRequestChangingSelectionToLocationRange=function(t){return!this.loadingSnapshot||this.isFocused()?(this.requestedLocationRange=t,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()):void 0},u.prototype.compositionWillLoadSnapshot=function(){return this.loadingSnapshot=!0},u.prototype.compositionDidLoadSnapshot=function(){return this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1},u.prototype.getSelectionManager=function(){return this.selectionManager},u.proxyMethod(\"getSelectionManager().setLocationRange\"),u.proxyMethod(\"getSelectionManager().getLocationRange\"),u.prototype.attachmentManagerDidRequestRemovalOfAttachment=function(t){return this.removeAttachment(t)},u.prototype.compositionControllerWillSyncDocumentView=function(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()},u.prototype.compositionControllerDidSyncDocumentView=function(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement(\"sync\")},u.prototype.compositionControllerDidRender=function(){return null!=this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement(\"render\")),this.renderedCompositionRevision=this.composition.revision},u.prototype.compositionControllerDidFocus=function(){return this.toolbarController.hideDialog(),this.notifyEditorElement(\"focus\")},u.prototype.compositionControllerDidBlur=function(){return this.notifyEditorElement(\"blur\")},u.prototype.compositionControllerDidSelectAttachment=function(t,e){return this.toolbarController.hideDialog(),this.composition.editAttachment(t,e)},u.prototype.compositionControllerDidRequestDeselectingAttachment=function(t){var e,n;return e=null!=(n=this.attachmentLocationRange)?n:this.composition.document.getLocationRangeOfAttachment(t),this.selectionManager.setLocationRange(e[1])},u.prototype.compositionControllerWillUpdateAttachment=function(t){return this.editor.recordUndoEntry(\"Edit Attachment\",{context:t.id,consolidatable:!0})},u.prototype.compositionControllerDidRequestRemovalOfAttachment=function(t){return this.removeAttachment(t)},u.prototype.inputControllerWillHandleInput=function(){return this.handlingInput=!0,this.requestedRender=!1},u.prototype.inputControllerDidRequestRender=function(){return this.requestedRender=!0},u.prototype.inputControllerDidHandleInput=function(){return this.handlingInput=!1,this.requestedRender?(this.requestedRender=!1,this.render()):void 0},u.prototype.inputControllerDidAllowUnhandledInput=function(){return this.notifyEditorElement(\"change\")},u.prototype.inputControllerDidRequestReparse=function(){return this.reparse()},u.prototype.inputControllerWillPerformTyping=function(){return this.recordTypingUndoEntry()},u.prototype.inputControllerWillPerformFormatting=function(t){return this.recordFormattingUndoEntry(t)},u.prototype.inputControllerWillCutText=function(){return this.editor.recordUndoEntry(\"Cut\")},u.prototype.inputControllerWillPaste=function(t){return this.editor.recordUndoEntry(\"Paste\"),this.pasting=!0,this.notifyEditorElement(\"before-paste\",{paste:t})},u.prototype.inputControllerDidPaste=function(t){return t.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement(\"paste\",{paste:t})},u.prototype.inputControllerWillMoveText=function(){return this.editor.recordUndoEntry(\"Move\")},u.prototype.inputControllerWillAttachFiles=function(){return this.editor.recordUndoEntry(\"Drop Files\")},u.prototype.inputControllerWillPerformUndo=function(){return this.editor.undo()},u.prototype.inputControllerWillPerformRedo=function(){return this.editor.redo()},u.prototype.inputControllerDidReceiveKeyboardCommand=function(t){return this.toolbarController.applyKeyboardCommand(t)},u.prototype.inputControllerDidStartDrag=function(){return this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()},u.prototype.inputControllerDidReceiveDragOverPoint=function(t){return this.selectionManager.setLocationRangeFromPointRange(t)},u.prototype.inputControllerDidCancelDrag=function(){return this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null},u.prototype.locationRangeDidChange=function(t){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!i(this.attachmentLocationRange,t)&&this.composition.stopEditingAttachment(),this.notifyEditorElement(\"selection-change\")},u.prototype.toolbarDidClickButton=function(){return this.getLocationRange()?void 0:this.setLocationRange({index:0,offset:0})},u.prototype.toolbarDidInvokeAction=function(t){return this.invokeAction(t)},u.prototype.toolbarDidToggleAttribute=function(t){return this.recordFormattingUndoEntry(t),this.composition.toggleCurrentAttribute(t),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},u.prototype.toolbarDidUpdateAttribute=function(t,e){return this.recordFormattingUndoEntry(t),this.composition.setCurrentAttribute(t,e),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},u.prototype.toolbarDidRemoveAttribute=function(t){return this.recordFormattingUndoEntry(t),this.composition.removeCurrentAttribute(t),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},u.prototype.toolbarWillShowDialog=function(){return this.composition.expandSelectionForEditing(),this.freezeSelection()},u.prototype.toolbarDidShowDialog=function(t){return this.notifyEditorElement(\"toolbar-dialog-show\",{dialogName:t})},u.prototype.toolbarDidHideDialog=function(t){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement(\"toolbar-dialog-hide\",{dialogName:t})},u.prototype.freezeSelection=function(){return this.selectionFrozen?void 0:(this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render())},u.prototype.thawSelection=function(){return this.selectionFrozen?(this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()):void 0},u.prototype.actions={undo:{test:function(){return this.editor.canUndo()},perform:function(){return this.editor.undo()}},redo:{test:function(){return this.editor.canRedo()},perform:function(){return this.editor.redo()}},link:{test:function(){return this.editor.canActivateAttribute(\"href\")}},increaseNestingLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:function(){return!0},perform:function(){return r.config.input.pickFiles(this.editor.insertFiles)}}},u.prototype.canInvokeAction=function(t){var e,n;return!!this.actionIsExternal(t)||!!(null!=(e=this.actions[t])&&null!=(n=e.test)?n.call(this):void 0)},u.prototype.invokeAction=function(t){var e,n;return this.actionIsExternal(t)?this.notifyEditorElement(\"action-invoke\",{actionName:t}):null!=(e=this.actions[t])&&null!=(n=e.perform)?n.call(this):void 0},u.prototype.actionIsExternal=function(t){return/^x-./.test(t)},u.prototype.getCurrentActions=function(){var t,e;for(t in e={},this.actions)e[t]=this.canInvokeAction(t);return e},u.prototype.updateCurrentActions=function(){var t;return t=this.getCurrentActions(),e(t,this.currentActions)?void 0:(this.currentActions=t,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement(\"actions-change\",{actions:this.currentActions}))},u.prototype.runEditorFilters=function(){var t,e,n,r,i,o,a,s;for(s=this.composition.getSnapshot(),n=0,r=(i=this.editor.filters).length;r>n;n++)e=i[n],t=s.document,a=s.selectedRange,null==(s=null!=(o=e.call(this.editor,s))?o:{}).document&&(s.document=t),null==s.selectedRange&&(s.selectedRange=a);return c(s,this.composition.getSnapshot())?void 0:this.composition.loadSnapshot(s)},c=function(t,e){return i(t.selectedRange,e.selectedRange)&&t.document.isEqualTo(e.document)},u.prototype.updateInputElement=function(){var t,e;return t=this.compositionController.getSerializableElement(),e=r.serializeToContentType(t,\"text/html\"),this.editorElement.setInputElementValue(e)},u.prototype.notifyEditorElement=function(t,e){switch(t){case\"document-change\":this.documentChangedSinceLastRender=!0;break;case\"render\":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement(\"change\"));break;case\"change\":case\"attachment-add\":case\"attachment-edit\":case\"attachment-remove\":this.updateInputElement()}return this.editorElement.notify(t,e)},u.prototype.removeAttachment=function(t){return this.editor.recordUndoEntry(\"Delete Attachment\"),this.composition.removeAttachment(t),this.render()},u.prototype.recordFormattingUndoEntry=function(e){var r,i;return r=t(e),i=this.selectionManager.getLocationRange(),r||!n(i)?this.editor.recordUndoEntry(\"Formatting\",{context:this.getUndoContext(),consolidatable:!0}):void 0},u.prototype.recordTypingUndoEntry=function(){return this.editor.recordUndoEntry(\"Typing\",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})},u.prototype.getUndoContext=function(){var t;return t=1<=arguments.length?s.call(arguments,0):[],[this.getLocationContext(),this.getTimeContext()].concat(s.call(t))},u.prototype.getLocationContext=function(){var t;return t=this.selectionManager.getLocationRange(),n(t)?t[0].index:t},u.prototype.getTimeContext=function(){return r.config.undoInterval>0?Math.floor((new Date).getTime()/r.config.undoInterval):0},u.prototype.isFocused=function(){var t;return this.editorElement===(null!=(t=this.editorElement.ownerDocument)?t.activeElement:void 0)},u}(r.Controller)}.call(this),function(){var t,e,n,i,o,a,s,u,c,l,h,p,d,f;e=r.browser,o=r.makeElement,a=r.triggerEvent,n=r.handleEvent,i=r.handleEventOnce,t=r.AttachmentView.attachmentSelector,r.registerElement(\"trix-editor\",(p=0,u=function(t){return!document.querySelector(\":focus\")&&t.hasAttribute(\"autofocus\")&&document.querySelector(\"[autofocus]\")===t?t.focus():void 0},d=function(t){return t.hasAttribute(\"contenteditable\")?void 0:(t.setAttribute(\"contenteditable\",\"\"),i(\"focus\",{onElement:t,withCallback:function(){return c(t)}}))},s=function(t){return t.hasAttribute(\"role\")?void 0:t.setAttribute(\"role\",\"textbox\")},c=function(t){return h(t),f(t)},h=function(t){return(\"function\"==typeof document.queryCommandSupported?document.queryCommandSupported(\"enableObjectResizing\"):void 0)?(document.execCommand(\"enableObjectResizing\",!1,!1),n(\"mscontrolselect\",{onElement:t,preventDefault:!0})):void 0},f=function(){var t;return!(\"function\"==typeof document.queryCommandSupported?document.queryCommandSupported(\"DefaultParagraphSeparator\"):void 0)||\"div\"!==(t=r.config.blockAttributes.default.tagName)&&\"p\"!==t?void 0:document.execCommand(\"DefaultParagraphSeparator\",!1,t)},l=e.forcesObjectResizing?{display:\"inline\",width:\"auto\"}:{display:\"inline-block\",width:\"1px\"},{defaultCSS:\"%t {\\n  display: block;\\n}\\n\\n%t:empty:not(:focus)::before {\\n  content: attr(placeholder);\\n  color: graytext;\\n  cursor: text;\\n}\\n\\n%t a[contenteditable=false] {\\n  cursor: text;\\n}\\n\\n%t img {\\n  max-width: 100%;\\n  height: auto;\\n}\\n\\n%t \"+t+\" figcaption textarea {\\n  resize: none;\\n}\\n\\n%t \"+t+\" figcaption textarea.trix-autoresize-clone {\\n  position: absolute;\\n  left: -9999px;\\n  max-height: 0px;\\n}\\n\\n%t \"+t+\" figcaption[data-trix-placeholder]:empty::before {\\n  content: attr(data-trix-placeholder);\\n  color: graytext;\\n}\\n\\n%t [data-trix-cursor-target] {\\n  display: \"+l.display+\" !important;\\n  width: \"+l.width+\" !important;\\n  padding: 0 !important;\\n  margin: 0 !important;\\n  border: none !important;\\n}\\n\\n%t [data-trix-cursor-target=left] {\\n  vertical-align: top !important;\\n  margin-left: -1px !important;\\n}\\n\\n%t [data-trix-cursor-target=right] {\\n  vertical-align: bottom !important;\\n  margin-right: -1px !important;\\n}\",trixId:{get:function(){return this.hasAttribute(\"trix-id\")?this.getAttribute(\"trix-id\"):(this.setAttribute(\"trix-id\",++p),this.trixId)}},toolbarElement:{get:function(){var t,e,n;return this.hasAttribute(\"toolbar\")?null!=(e=this.ownerDocument)?e.getElementById(this.getAttribute(\"toolbar\")):void 0:this.parentNode?(n=\"trix-toolbar-\"+this.trixId,this.setAttribute(\"toolbar\",n),t=o(\"trix-toolbar\",{id:n}),this.parentNode.insertBefore(t,this),t):void 0}},inputElement:{get:function(){var t,e,n;return this.hasAttribute(\"input\")?null!=(n=this.ownerDocument)?n.getElementById(this.getAttribute(\"input\")):void 0:this.parentNode?(e=\"trix-input-\"+this.trixId,this.setAttribute(\"input\",e),t=o(\"input\",{type:\"hidden\",id:e}),this.parentNode.insertBefore(t,this.nextElementSibling),t):void 0}},editor:{get:function(){var t;return null!=(t=this.editorController)?t.editor:void 0}},name:{get:function(){var t;return null!=(t=this.inputElement)?t.name:void 0}},value:{get:function(){var t;return null!=(t=this.inputElement)?t.value:void 0},set:function(t){var e;return this.defaultValue=t,null!=(e=this.editor)?e.loadHTML(this.defaultValue):void 0}},notify:function(t,e){return this.editorController?a(\"trix-\"+t,{onElement:this,attributes:e}):void 0},setInputElementValue:function(t){var e;return null!=(e=this.inputElement)?e.value=t:void 0},initialize:function(){return d(this),s(this)},connect:function(){return this.hasAttribute(\"data-trix-internal\")?void 0:(this.editorController||(a(\"trix-before-initialize\",{onElement:this}),this.editorController=new r.EditorController({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(function(t){return function(){return a(\"trix-initialize\",{onElement:t})}}(this))),this.editorController.registerSelectionManager(),this.registerResetListener(),u(this))},disconnect:function(){var t;return null!=(t=this.editorController)&&t.unregisterSelectionManager(),this.unregisterResetListener()},registerResetListener:function(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener(\"reset\",this.resetListener,!1)},unregisterResetListener:function(){return window.removeEventListener(\"reset\",this.resetListener,!1)},resetBubbled:function(t){var e;return t.target!==(null!=(e=this.inputElement)?e.form:void 0)||t.defaultPrevented?void 0:this.reset()},reset:function(){return this.value=this.defaultValue}}))}.call(this),function(){}.call(this)}).call(this),t.exports?t.exports=r:void 0===(o=\"function\"==typeof(i=r)?i.call(e,n,e,t):i)||(t.exports=o)}.call(this)}).call(this,n(5).setImmediate)},function(t,e,n){(function(t){var r=void 0!==t&&t||\"undefined\"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(6),e.setImmediate=\"undefined\"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate=\"undefined\"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(2))},function(t,e,n){(function(t,e){!function(t,n){\"use strict\";if(!t.setImmediate){var r,i,o,a,s,u=1,c={},l=!1,h=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,\"[object process]\"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){f(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage(\"\",\"*\"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){f(t.data)},r=function(t){o.port2.postMessage(t)}):h&&\"onreadystatechange\"in h.createElement(\"script\")?(i=h.documentElement,r=function(t){var e=h.createElement(\"script\");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(f,0,t)}:(a=\"setImmediate$\"+Math.random()+\"$\",s=function(e){e.source===t&&\"string\"==typeof e.data&&0===e.data.indexOf(a)&&f(+e.data.slice(a.length))},t.addEventListener?t.addEventListener(\"message\",s,!1):t.attachEvent(\"onmessage\",s),r=function(e){t.postMessage(a+e,\"*\")}),p.setImmediate=function(t){\"function\"!=typeof t&&(t=new Function(\"\"+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return c[u]=i,r(u),u++},p.clearImmediate=d}function d(t){delete c[t]}function f(t){if(l)setTimeout(f,0,t);else{var e=c[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{d(t),l=!1}}}}}(\"undefined\"==typeof self?void 0===t?this:t:self)}).call(this,n(2),n(7))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n=\"function\"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r=\"function\"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,h=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&d())}function d(){if(!l){var t=s(p);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||l||s(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title=\"browser\",i.browser=!0,i.env={},i.argv=[],i.version=\"\",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error(\"process.binding is not supported\")},i.cwd=function(){return\"/\"},i.chdir=function(t){throw new Error(\"process.chdir is not supported\")},i.umask=function(){return 0}},function(t,e,n){\"use strict\";var r=n(9);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\");throw s.name=\"Invariant Violation\",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){\"use strict\";t.exports=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\"},function(t,e,n){var r=n(11);\"string\"==typeof r&&(r=[[t.i,r,\"\"]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(13)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(12)(!1)).push([t.i,'trix-editor{border:1px solid #bbb;border-radius:3px;margin:0;padding:0.4em 0.6em;min-height:5em;outline:none}trix-toolbar *{box-sizing:border-box}trix-toolbar .trix-button-row{display:flex;flex-wrap:nowrap;justify-content:space-between;overflow-x:auto}trix-toolbar .trix-button-group{display:flex;margin-bottom:10px;border:1px solid #bbb;border-top-color:#ccc;border-bottom-color:#888;border-radius:3px}trix-toolbar .trix-button-group:not(:first-child){margin-left:1.5vw}@media (max-device-width: 768px){trix-toolbar .trix-button-group:not(:first-child){margin-left:0}}trix-toolbar .trix-button-group-spacer{flex-grow:1}@media (max-device-width: 768px){trix-toolbar .trix-button-group-spacer{display:none}}trix-toolbar .trix-button{position:relative;float:left;color:rgba(0,0,0,0.6);font-size:0.75em;font-weight:600;white-space:nowrap;padding:0 0.5em;margin:0;outline:none;border:none;border-bottom:1px solid #ddd;border-radius:0;background:transparent}trix-toolbar .trix-button:not(:first-child){border-left:1px solid #ccc}trix-toolbar .trix-button.trix-active{background:#cbeefa;color:black}trix-toolbar .trix-button:not(:disabled){cursor:pointer}trix-toolbar .trix-button:disabled{color:rgba(0,0,0,0.125)}@media (max-device-width: 768px){trix-toolbar .trix-button{letter-spacing:-0.01em;padding:0 0.3em}}trix-toolbar .trix-button--icon{font-size:inherit;width:2.6em;height:1.6em;max-width:calc(0.8em + 4vw);text-indent:-9999px}@media (max-device-width: 768px){trix-toolbar .trix-button--icon{height:2em;max-width:calc(0.8em + 3.5vw)}}trix-toolbar .trix-button--icon::before{display:inline-block;position:absolute;top:0;right:0;bottom:0;left:0;opacity:0.6;content:\"\";background-position:center;background-repeat:no-repeat;background-size:contain}@media (max-device-width: 768px){trix-toolbar .trix-button--icon::before{right:6%;left:6%}}trix-toolbar .trix-button--icon.trix-active::before{opacity:1}trix-toolbar .trix-button--icon:disabled::before{opacity:0.125}trix-toolbar .trix-button--icon-attach::before{background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M16.5%206v11.5a4%204%200%201%201-8%200V5a2.5%202.5%200%200%201%205%200v10.5a1%201%200%201%201-2%200V6H10v9.5a2.5%202.5%200%200%200%205%200V5a4%204%200%201%200-8%200v12.5a5.5%205.5%200%200%200%2011%200V6h-1.5z%22%2F%3E%3C%2Fsvg%3E);top:8%;bottom:4%}trix-toolbar .trix-button--icon-bold::before{background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M15.6%2011.8c1-.7%201.6-1.8%201.6-2.8a4%204%200%200%200-4-4H7v14h7c2.1%200%203.7-1.7%203.7-3.8%200-1.5-.8-2.8-2.1-3.4zM10%207.5h3a1.5%201.5%200%201%201%200%203h-3v-3zm3.5%209H10v-3h3.5a1.5%201.5%200%201%201%200%203z%22%2F%3E%3C%2Fsvg%3E)}trix-toolbar .trix-button--icon-italic::before{background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M10%205v3h2.2l-3.4%208H6v3h8v-3h-2.2l3.4-8H18V5h-8z%22%2F%3E%3C%2Fsvg%3E)}trix-toolbar .trix-button--icon-link::before{background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M9.88%2013.7a4.3%204.3%200%200%201%200-6.07l3.37-3.37a4.26%204.26%200%200%201%206.07%200%204.3%204.3%200%200%201%200%206.06l-1.96%201.72a.91.91%200%201%201-1.3-1.3l1.97-1.71a2.46%202.46%200%200%200-3.48-3.48l-3.38%203.37a2.46%202.46%200%200%200%200%203.48.91.91%200%201%201-1.3%201.3z%22%2F%3E%3Cpath%20d%3D%22M4.25%2019.46a4.3%204.3%200%200%201%200-6.07l1.93-1.9a.91.91%200%201%201%201.3%201.3l-1.93%201.9a2.46%202.46%200%200%200%203.48%203.48l3.37-3.38c.96-.96.96-2.52%200-3.48a.91.91%200%201%201%201.3-1.3%204.3%204.3%200%200%201%200%206.07l-3.38%203.38a4.26%204.26%200%200%201-6.07%200z%22%2F%3E%3C%2Fsvg%3E)}trix-toolbar .trix-button--icon-strike::before{background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M12.73%2014l.28.14c.26.15.45.3.57.44.12.14.18.3.18.5%200%20.3-.15.56-.44.75-.3.2-.76.3-1.39.3A13.52%2013.52%200%200%201%207%2014.95v3.37a10.64%2010.64%200%200%200%204.84.88c1.26%200%202.35-.19%203.28-.56.93-.37%201.64-.9%202.14-1.57s.74-1.45.74-2.32c0-.26-.02-.51-.06-.75h-5.21zm-5.5-4c-.08-.34-.12-.7-.12-1.1%200-1.29.52-2.3%201.58-3.02%201.05-.72%202.5-1.08%204.34-1.08%201.62%200%203.28.34%204.97%201l-1.3%202.93c-1.47-.6-2.73-.9-3.8-.9-.55%200-.96.08-1.2.26-.26.17-.38.38-.38.64%200%20.27.16.52.48.74.17.12.53.3%201.05.53H7.23zM3%2013h18v-2H3v2z%22%2F%3E%3C%2Fsvg%3E)}trix-toolbar .trix-button--icon-quote::before{background-image:url(data:image/svg+xml,%3Csvg%20version%3D%221%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M6%2017h3l2-4V7H5v6h3zm8%200h3l2-4V7h-6v6h3z%22%2F%3E%3C%2Fsvg%3E)}trix-toolbar .trix-button--icon-heading-1::before{background-image:url(data:image/svg+xml,%3Csvg%20version%3D%221%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M12%209v3H9v7H6v-7H3V9h9zM8%204h14v3h-6v12h-3V7H8V4z%22%2F%3E%3C%2Fsvg%3E)}trix-toolbar .trix-button--icon-code::before{background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M18.2%2012L15%2015.2l1.4%201.4L21%2012l-4.6-4.6L15%208.8l3.2%203.2zM5.8%2012L9%208.8%207.6%207.4%203%2012l4.6%204.6L9%2015.2%205.8%2012z%22%2F%3E%3C%2Fsvg%3E)}trix-toolbar .trix-button--icon-bullet-list::before{background-image:url(data:image/svg+xml,%3Csvg%20version%3D%221%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%204a2%202%200%201%200%200%204%202%202%200%200%200%200-4zm0%206a2%202%200%201%200%200%204%202%202%200%200%200%200-4zm0%206a2%202%200%201%200%200%204%202%202%200%200%200%200-4zm4%203h14v-2H8v2zm0-6h14v-2H8v2zm0-8v2h14V5H8z%22%2F%3E%3C%2Fsvg%3E)}trix-toolbar .trix-button--icon-number-list::before{background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M2%2017h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1%203h1.8L2%2013.1v.9h3v-1H3.2L5%2010.9V10H2v1zm5-6v2h14V5H7zm0%2014h14v-2H7v2zm0-6h14v-2H7v2z%22%2F%3E%3C%2Fsvg%3E)}trix-toolbar .trix-button--icon-undo::before{background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M12.5%208c-2.6%200-5%201-6.9%202.6L2%207v9h9l-3.6-3.6A8%208%200%200%201%2020%2016l2.4-.8a10.5%2010.5%200%200%200-10-7.2z%22%2F%3E%3C%2Fsvg%3E)}trix-toolbar .trix-button--icon-redo::before{background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M18.4%2010.6a10.5%2010.5%200%200%200-16.9%204.6L4%2016a8%208%200%200%201%2012.7-3.6L13%2016h9V7l-3.6%203.6z%22%2F%3E%3C%2Fsvg%3E)}trix-toolbar .trix-button--icon-decrease-nesting-level::before{background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M3%2019h19v-2H3v2zm7-6h12v-2H10v2zm-8.3-.3l2.8%202.9L6%2014.2%204%2012l2-2-1.4-1.5L1%2012l.7.7zM3%205v2h19V5H3z%22%2F%3E%3C%2Fsvg%3E)}trix-toolbar .trix-button--icon-increase-nesting-level::before{background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M3%2019h19v-2H3v2zm7-6h12v-2H10v2zm-6.9-1L1%2014.2l1.4%201.4L6%2012l-.7-.7-2.8-2.8L1%209.9%203.1%2012zM3%205v2h19V5H3z%22%2F%3E%3C%2Fsvg%3E)}trix-toolbar .trix-dialogs{position:relative}trix-toolbar .trix-dialog{position:absolute;top:0;left:0;right:0;font-size:0.75em;padding:15px 10px;background:#fff;box-shadow:0 0.3em 1em #ccc;border-top:2px solid #888;border-radius:5px;z-index:5}trix-toolbar .trix-input--dialog{font-size:inherit;font-weight:normal;padding:0.5em 0.8em;margin:0 10px 0 0;border-radius:3px;border:1px solid #bbb;background-color:#fff;box-shadow:none;outline:none;-webkit-appearance:none;-moz-appearance:none}trix-toolbar .trix-input--dialog.validate:invalid{box-shadow:#F00 0px 0px 1.5px 1px}trix-toolbar .trix-button--dialog{font-size:inherit;padding:0.5em;border-bottom:none}trix-toolbar .trix-dialog--link{max-width:600px}trix-toolbar .trix-dialog__link-fields{display:flex;align-items:baseline}trix-toolbar .trix-dialog__link-fields .trix-input{flex:1}trix-toolbar .trix-dialog__link-fields .trix-button-group{flex:0 0 content;margin:0}trix-editor [data-trix-mutable]:not(.attachment__caption-editor){-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}trix-editor [data-trix-mutable]::-moz-selection,trix-editor [data-trix-cursor-target]::-moz-selection,trix-editor [data-trix-mutable] ::-moz-selection{background:none}trix-editor [data-trix-mutable]::selection,trix-editor [data-trix-cursor-target]::selection,trix-editor [data-trix-mutable] ::selection{background:none}trix-editor [data-trix-mutable].attachment__caption-editor:focus::-moz-selection{background:highlight}trix-editor [data-trix-mutable].attachment__caption-editor:focus::selection{background:highlight}trix-editor [data-trix-mutable].attachment.attachment--file{box-shadow:0 0 0 2px highlight;border-color:transparent}trix-editor [data-trix-mutable].attachment img{box-shadow:0 0 0 2px highlight}trix-editor .attachment{position:relative}trix-editor .attachment:hover{cursor:default}trix-editor .attachment--preview .attachment__caption:hover{cursor:text}trix-editor .attachment__progress{position:absolute;z-index:1;height:20px;top:calc(50% - 10px);left:5%;width:90%;opacity:0.9;transition:opacity 200ms ease-in}trix-editor .attachment__progress[value=\"100\"]{opacity:0}trix-editor .attachment__caption-editor{display:inline-block;width:100%;margin:0;padding:0;font-size:inherit;font-family:inherit;line-height:inherit;color:inherit;text-align:center;vertical-align:top;border:none;outline:none;-webkit-appearance:none;-moz-appearance:none}trix-editor .attachment__toolbar{position:absolute;z-index:1;top:-0.9em;left:0;width:100%;text-align:center}trix-editor .trix-button-group{display:inline-flex}trix-editor .trix-button{position:relative;float:left;color:#666;white-space:nowrap;font-size:80%;padding:0 0.8em;margin:0;outline:none;border:none;border-radius:0;background:transparent}trix-editor .trix-button:not(:first-child){border-left:1px solid #ccc}trix-editor .trix-button.trix-active{background:#cbeefa}trix-editor .trix-button:not(:disabled){cursor:pointer}trix-editor .trix-button--remove{text-indent:-9999px;display:inline-block;padding:0;outline:none;width:1.8em;height:1.8em;line-height:1.8em;border-radius:50%;background-color:#fff;border:2px solid highlight;box-shadow:1px 1px 6px rgba(0,0,0,0.25)}trix-editor .trix-button--remove::before{display:inline-block;position:absolute;top:0;right:0;bottom:0;left:0;opacity:0.7;content:\"\";background-image:url(data:image/svg+xml,%3Csvg%20height%3D%2224%22%20width%3D%2224%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M19%206.4L17.6%205%2012%2010.6%206.4%205%205%206.4l5.6%205.6L5%2017.6%206.4%2019l5.6-5.6%205.6%205.6%201.4-1.4-5.6-5.6z%22%2F%3E%3Cpath%20d%3D%22M0%200h24v24H0z%22%20fill%3D%22none%22%2F%3E%3C%2Fsvg%3E);background-position:center;background-repeat:no-repeat;background-size:90%}trix-editor .trix-button--remove:hover{border-color:#333}trix-editor .trix-button--remove:hover::before{opacity:1}trix-editor .attachment__metadata-container{position:relative}trix-editor .attachment__metadata{position:absolute;left:50%;top:2em;transform:translate(-50%, 0);max-width:90%;padding:0.1em 0.6em;font-size:0.8em;color:#fff;background-color:rgba(0,0,0,0.7);border-radius:3px}trix-editor .attachment__metadata .attachment__name{display:inline-block;max-width:100%;vertical-align:bottom;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}trix-editor .attachment__metadata .attachment__size{margin-left:0.2em;white-space:nowrap}.trix-content{line-height:1.5}.trix-content *{box-sizing:border-box}.trix-content h1{font-size:1.2em;line-height:1.2;margin:0}.trix-content blockquote{margin:0 0 0 0.3em;padding:0 0 0 0.6em;border-left:0.3em solid #ccc}.trix-content pre{display:inline-block;width:100%;vertical-align:top;font-family:monospace;font-size:0.9em;margin:0;padding:0.5em;white-space:pre;background-color:#eee;overflow-x:auto}.trix-content ul,.trix-content ol,.trix-content li{margin:0;padding:0}.trix-content ul li,.trix-content ol li,.trix-content li li{margin-left:1em}.trix-content img{max-width:100%;height:auto}.trix-content .attachment{display:inline-block;position:relative;max-width:100%;margin:0;padding:0}.trix-content .attachment a{color:inherit;text-decoration:none}.trix-content .attachment a:hover,.trix-content .attachment a:visited:hover{color:inherit}.trix-content .attachment__caption{padding:0;text-align:center}.trix-content .attachment__caption .attachment__name+.attachment__size::before{content:\\' \\\\B7   \\'}.trix-content .attachment--preview{width:100%;text-align:center}.trix-content .attachment--preview .attachment__caption{color:#666;font-size:0.9em;line-height:1.2}.trix-content .attachment--file{color:#333;line-height:1;margin:0 2px 2px 0;padding:0.4em 1em;border:1px solid #bbb;border-radius:5px}.trix-content .attachment-gallery{display:flex;flex-wrap:wrap;position:relative;margin:0;padding:0}.trix-content .attachment-gallery .attachment{flex:1 0 33%;padding:0 0.5em;max-width:33%}.trix-content .attachment-gallery.attachment-gallery--2 .attachment,.trix-content .attachment-gallery.attachment-gallery--4 .attachment{flex-basis:50%;max-width:50%}\\n',\"\"])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||\"\",r=t[3];if(!r)return n;if(e&&\"function\"==typeof btoa){var i=(a=r,\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+\" */\"),o=r.sources.map((function(t){return\"/*# sourceURL=\"+r.sourceRoot+t+\" */\"}));return[n].concat(o).concat([i]).join(\"\\n\")}var a;return[n].join(\"\\n\")}(e,t);return e[2]?\"@media \"+e[2]+\"{\"+n+\"}\":n})).join(\"\")},e.i=function(t,n){\"string\"==typeof t&&(t=[[null,t,\"\"]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];\"number\"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];\"number\"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]=\"(\"+a[2]+\") and (\"+n+\")\"),e.push(a))}},e}},function(t,e,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(t,e){return e?e.querySelector(t):document.querySelector(t)},u=function(t){var e={};return function(t,n){if(\"function\"==typeof t)return t();if(void 0===e[t]){var r=s.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),c=null,l=0,h=[],p=n(14);function d(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(b(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(b(r.parts[a],e));o[r.id]={id:r.id,refs:1,parts:s}}}}function f(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function g(t,e){var n=u(t.insertInto);if(!n)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");var r=h[h.length-1];if(\"top\"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),h.push(e);else if(\"bottom\"===t.insertAt)n.appendChild(e);else{if(\"object\"!=typeof t.insertAt||!t.insertAt.before)throw new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");var i=u(t.insertAt.before,n);n.insertBefore(e,i)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=h.indexOf(t);e>=0&&h.splice(e,1)}function v(t){var e=document.createElement(\"style\");if(void 0===t.attrs.type&&(t.attrs.type=\"text/css\"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return y(e,t.attrs),g(t,e),e}function y(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function b(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o=\"function\"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var a=l++;n=c||(c=v(e)),r=w.bind(null,n,a,!1),i=w.bind(null,n,a,!0)}else t.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(n=function(t){var e=document.createElement(\"link\");return void 0===t.attrs.type&&(t.attrs.type=\"text/css\"),t.attrs.rel=\"stylesheet\",y(e,t.attrs),g(t,e),e}(e),r=E.bind(null,n,e),i=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),r=C.bind(null,n),i=function(){m(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");(e=e||{}).attrs=\"object\"==typeof e.attrs?e.attrs:{},e.singleton||\"boolean\"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto=\"head\"),e.insertAt||(e.insertAt=\"bottom\");var n=f(t,e);return d(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}t&&d(f(t,e),e);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete o[s.id]}}}};var x,A=(x=[],function(t,e){return x[t]=e,x.filter(Boolean).join(\"\\n\")});function w(t,e,n,r){var i=n?\"\":r.css;if(t.styleSheet)t.styleSheet.cssText=A(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function C(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute(\"media\",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function E(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=p(r)),i&&(r+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+\" */\");var a=new Blob([r],{type:\"text/css\"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(t,e){t.exports=function(t){var e=\"undefined\"!=typeof window&&window.location;if(!e)throw new Error(\"fixUrls requires window.location\");if(!t||\"string\"!=typeof t)return t;var n=e.protocol+\"//\"+e.host,r=n+e.pathname.replace(/\\/[^\\/]*$/,\"/\");return t.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,(function(t,e){var i,o=e.trim().replace(/^\"(.*)\"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(o)?t:(i=0===o.indexOf(\"//\")?o:0===o.indexOf(\"/\")?n+o:r+o.replace(/^\\.\\//,\"\"),\"url(\"+JSON.stringify(i)+\")\")}))}},function(t,e,n){\"use strict\";n.r(e),n.d(e,\"ReactTrixRTEInput\",(function(){return h})),n.d(e,\"ReactTrixRTEToolbar\",(function(){return gt}));n(4);var r=n(1),i=n.n(r),o=n(0),a=n.n(o);n(10);function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if(\"string\"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===n&&t.constructor&&(n=t.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(t);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t){var e=t.defaultValue,n=void 0===e?\"\":e,r=t.toolbarId,i=t.onBlur,c=t.onFocus,l=t.onChange,h=t.onInitialize,p=t.onFileAccepted,d=t.onAttachmentAdd,f=t.onAttachmentRemove,g=t.onSelectionChange,m=t.onBeforeInitialize,v=t.trixInputRef,y=t.isRailsDirectUpload,b=void 0!==y&&y,x=t.placeholder,A=t.autofocus,w=v||Object(o.useRef)(),C=u(Object(o.useState)(n),2),E=C[0],k=C[1],S=(new Date).getTime(),D=\"react-trix-rte-input-\".concat(S),R=b?{\"data-direct-upload-url\":\"/rails/active_storage/direct_uploads\",\"data-blob-url-template\":\"/rails/active_storage/blobs/:signed_id/*filename\"}:{},L={};function T(t){var e=t.target.value;k(e),l&&l(t,e)}return A&&(L.autofocus=!0),Object(o.useEffect)((function(){return w.current.addEventListener(\"trix-change\",T),c&&w.current.addEventListener(\"trix-focus\",c),i&&w.current.addEventListener(\"trix-blur\",i),h&&w.current.addEventListener(\"trix-initialize\",h),p&&w.current.addEventListener(\"trix-file-accept\",p),d&&w.current.addEventListener(\"trix-attachment-add\",d),f&&w.current.addEventListener(\"trix-attachment-remove\",d),g&&w.current.addEventListener(\"trix-selection-change\",g),m&&w.current.addEventListener(\"trix-before-initialize\",m),function(){w.current.removeEventListener(\"trix-change\",T),c&&w.current.removeEventListener(\"trix-focus\",c),i&&w.current.removeEventListener(\"trix-blur\",i),h&&w.current.removeEventListener(\"trix-initialize\",h),p&&w.current.removeEventListener(\"trix-file-accept\",p),d&&w.current.removeEventListener(\"trix-attachment-add\",d),g&&w.current.removeEventListener(\"trix-selection-change\",g),f&&w.current.removeEventListener(\"trix-attachment-remove\",d),m&&w.current.removeEventListener(\"trix-before-initialize\",m)}}),[]),a.a.createElement(o.Fragment,null,a.a.createElement(\"input\",{id:D,value:E,type:\"hidden\",name:\"content\"}),a.a.createElement(\"trix-editor\",s({toolbar:r,placeholder:x,ref:w,input:D},R,L)))}l.propTypes={toolbarId:i.a.string,defaultValue:i.a.string,onChange:i.a.func,onBlur:i.a.func,onFocus:i.a.func,onFileAccepted:i.a.func,onAttachmentAdd:i.a.func,onAttachmentRemove:i.a.func,onSelectionChange:i.a.func,onInitialize:i.a.func,onBeforeInitialize:i.a.func,trixInputRef:i.a.func,isRailsDirectUpload:i.a.bool,placeholder:i.a.string,autofocus:i.a.bool};var h=l;function p(t){return null!=t&&\"object\"==typeof t&&!0===t[\"@@functional/placeholder\"]}function d(t){return function e(n){return 0===arguments.length||p(n)?e:t.apply(this,arguments)}}var f=d((function(t){return!t}));function g(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var m=Object.prototype.toString,v=function(){return\"[object Arguments]\"===m.call(arguments)?function(t){return\"[object Arguments]\"===m.call(t)}:function(t){return g(\"callee\",t)}}(),y=Array.isArray||function(t){return null!=t&&t.length>=0&&\"[object Array]\"===Object.prototype.toString.call(t)};function b(t){return\"[object String]\"===Object.prototype.toString.call(t)}var x=d((function(t){return null!=t&&\"function\"==typeof t[\"fantasy-land/empty\"]?t[\"fantasy-land/empty\"]():null!=t&&null!=t.constructor&&\"function\"==typeof t.constructor[\"fantasy-land/empty\"]?t.constructor[\"fantasy-land/empty\"]():null!=t&&\"function\"==typeof t.empty?t.empty():null!=t&&null!=t.constructor&&\"function\"==typeof t.constructor.empty?t.constructor.empty():y(t)?[]:b(t)?\"\":function(t){return\"[object Object]\"===Object.prototype.toString.call(t)}(t)?{}:v(t)?function(){return arguments}():void 0}));function A(t){return function e(n,r){switch(arguments.length){case 0:return e;case 1:return p(n)?e:d((function(e){return t(n,e)}));default:return p(n)&&p(r)?e:p(n)?d((function(e){return t(e,r)})):p(r)?d((function(e){return t(n,e)})):t(n,r)}}}function w(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function C(t,e,n){for(var r=0,i=n.length;r<i;){if(t(e,n[r]))return!0;r+=1}return!1}var E=\"function\"==typeof Object.is?Object.is:function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},k=!{toString:null}.propertyIsEnumerable(\"toString\"),S=[\"constructor\",\"valueOf\",\"isPrototypeOf\",\"toString\",\"propertyIsEnumerable\",\"hasOwnProperty\",\"toLocaleString\"],D=function(){return arguments.propertyIsEnumerable(\"length\")}(),R=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1},L=\"function\"!=typeof Object.keys||D?d((function(t){if(Object(t)!==t)return[];var e,n,r=[],i=D&&v(t);for(e in t)!g(e,t)||i&&\"length\"===e||(r[r.length]=e);if(k)for(n=S.length-1;n>=0;)g(e=S[n],t)&&!R(r,e)&&(r[r.length]=e),n-=1;return r})):d((function(t){return Object(t)!==t?[]:Object.keys(t)})),T=d((function(t){return null===t?\"Null\":void 0===t?\"Undefined\":Object.prototype.toString.call(t).slice(8,-1)}));function O(t,e,n,r){var i=w(t);function o(t,e){return _(t,e,n.slice(),r.slice())}return!C((function(t,e){return!C(o,e,t)}),w(e),i)}function _(t,e,n,r){if(E(t,e))return!0;var i,o,a=T(t);if(a!==T(e))return!1;if(null==t||null==e)return!1;if(\"function\"==typeof t[\"fantasy-land/equals\"]||\"function\"==typeof e[\"fantasy-land/equals\"])return\"function\"==typeof t[\"fantasy-land/equals\"]&&t[\"fantasy-land/equals\"](e)&&\"function\"==typeof e[\"fantasy-land/equals\"]&&e[\"fantasy-land/equals\"](t);if(\"function\"==typeof t.equals||\"function\"==typeof e.equals)return\"function\"==typeof t.equals&&t.equals(e)&&\"function\"==typeof e.equals&&e.equals(t);switch(a){case\"Arguments\":case\"Array\":case\"Object\":if(\"function\"==typeof t.constructor&&\"Promise\"===(i=t.constructor,null==(o=String(i).match(/^function (\\w*)/))?\"\":o[1]))return t===e;break;case\"Boolean\":case\"Number\":case\"String\":if(typeof t!=typeof e||!E(t.valueOf(),e.valueOf()))return!1;break;case\"Date\":if(!E(t.valueOf(),e.valueOf()))return!1;break;case\"Error\":return t.name===e.name&&t.message===e.message;case\"RegExp\":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var s=n.length-1;s>=0;){if(n[s]===t)return r[s]===e;s-=1}switch(a){case\"Map\":return t.size===e.size&&O(t.entries(),e.entries(),n.concat([t]),r.concat([e]));case\"Set\":return t.size===e.size&&O(t.values(),e.values(),n.concat([t]),r.concat([e]));case\"Arguments\":case\"Array\":case\"Object\":case\"Boolean\":case\"Number\":case\"String\":case\"Date\":case\"Error\":case\"RegExp\":case\"Int8Array\":case\"Uint8Array\":case\"Uint8ClampedArray\":case\"Int16Array\":case\"Uint16Array\":case\"Int32Array\":case\"Uint32Array\":case\"Float32Array\":case\"Float64Array\":case\"ArrayBuffer\":break;default:return!1}var u=L(t);if(u.length!==L(e).length)return!1;var c=n.concat([t]),l=r.concat([e]);for(s=u.length-1;s>=0;){var h=u[s];if(!g(h,e)||!_(e[h],t[h],c,l))return!1;s-=1}return!0}var I=A((function(t,e){return _(t,e,[],[])})),N=d((function(t){return null!=t&&I(t,x(t))})),P=A((function(t,e){for(var n={},r=0;r<t.length;)t[r]in e&&(n[t[r]]=e[t[r]]),r+=1;return n})),F=d((function(t){return!!y(t)||!!t&&(\"object\"==typeof t&&(!b(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))})),B=function(){function t(t){this.f=t}return t.prototype[\"@@transducer/init\"]=function(){throw new Error(\"init not implemented on XWrap\")},t.prototype[\"@@transducer/result\"]=function(t){return t},t.prototype[\"@@transducer/step\"]=function(t,e){return this.f(t,e)},t}();function M(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,i){return e.apply(this,arguments)};case 5:return function(t,n,r,i,o){return e.apply(this,arguments)};case 6:return function(t,n,r,i,o,a){return e.apply(this,arguments)};case 7:return function(t,n,r,i,o,a,s){return e.apply(this,arguments)};case 8:return function(t,n,r,i,o,a,s,u){return e.apply(this,arguments)};case 9:return function(t,n,r,i,o,a,s,u,c){return e.apply(this,arguments)};case 10:return function(t,n,r,i,o,a,s,u,c,l){return e.apply(this,arguments)};default:throw new Error(\"First argument to _arity must be a non-negative integer no greater than ten\")}}var j=A((function(t,e){return M(t.length,(function(){return t.apply(e,arguments)}))}));function z(t,e,n){for(var r=n.next();!r.done;){if((e=t[\"@@transducer/step\"](e,r.value))&&e[\"@@transducer/reduced\"]){e=e[\"@@transducer/value\"];break}r=n.next()}return t[\"@@transducer/result\"](e)}function W(t,e,n,r){return t[\"@@transducer/result\"](n[r](j(t[\"@@transducer/step\"],t),e))}var q=\"undefined\"!=typeof Symbol?Symbol.iterator:\"@@iterator\";function U(t,e,n){if(\"function\"==typeof t&&(t=function(t){return new B(t)}(t)),F(n))return function(t,e,n){for(var r=0,i=n.length;r<i;){if((e=t[\"@@transducer/step\"](e,n[r]))&&e[\"@@transducer/reduced\"]){e=e[\"@@transducer/value\"];break}r+=1}return t[\"@@transducer/result\"](e)}(t,e,n);if(\"function\"==typeof n[\"fantasy-land/reduce\"])return W(t,e,n,\"fantasy-land/reduce\");if(null!=n[q])return z(t,e,n[q]());if(\"function\"==typeof n.next)return z(t,e,n);if(\"function\"==typeof n.reduce)return W(t,e,n,\"reduce\");throw new TypeError(\"reduce: list must be array or iterable\")}var V=A((function(t,e){return U((function(n,r){return n[r]=t(e[r],r,e),n}),{},L(e))}));function H(t,e){return function(t,e,n){var r,i;if(\"function\"==typeof t.indexOf)switch(typeof e){case\"number\":if(0===e){for(r=1/e;n<t.length;){if(0===(i=t[n])&&1/i===r)return n;n+=1}return-1}if(e!=e){for(;n<t.length;){if(\"number\"==typeof(i=t[n])&&i!=i)return n;n+=1}return-1}return t.indexOf(e,n);case\"string\":case\"boolean\":case\"function\":case\"undefined\":return t.indexOf(e,n);case\"object\":if(null===e)return t.indexOf(e,n)}for(;n<t.length;){if(I(t[n],e))return n;n+=1}return-1}(e,t,0)>=0}var K=A(H),J={bold:{type:\"button\",classNames:\"trix-button trix-button--icon trix-button--icon-bold\",languageKey:\"bold\",tabIndex:\"-1\",trixButtonGroup:\"text-tools\",data:{trixAttribute:\"bold\",trixKey:\"b\"}},italic:{type:\"button\",classNames:\"trix-button trix-button--icon trix-button--icon-italic\",languageKey:\"italic\",tabIndex:\"-1\",trixButtonGroup:\"text-tools\",data:{trixAttribute:\"italic\",trixKey:\"i\"}},strike:{type:\"button\",classNames:\"trix-button trix-button--icon trix-button--icon-strike\",languageKey:\"strike\",tabIndex:\"-1\",trixButtonGroup:\"text-tools\",data:{trixAttribute:\"strike\"}},link:{type:\"button\",classNames:\"trix-button trix-button--icon trix-button--icon-link\",languageKey:\"link\",tabIndex:\"-1\",trixButtonGroup:\"text-tools\",data:{trixAttribute:\"href\",trixKey:\"k\",trixAction:\"link\"}},heading1:{type:\"button\",classNames:\"trix-button trix-button--icon trix-button--icon-heading-1\",languageKey:\"heading1\",tabIndex:\"-1\",trixButtonGroup:\"block-tools\",data:{trixAttribute:\"heading1\"}},quote:{type:\"button\",classNames:\"trix-button trix-button--icon trix-button--icon-quote\",languageKey:\"quote\",tabIndex:\"-1\",trixButtonGroup:\"block-tools\",data:{trixAttribute:\"quote\"}},code:{type:\"button\",classNames:\"trix-button trix-button--icon trix-button--icon-code\",languageKey:\"code\",tabIndex:\"-1\",trixButtonGroup:\"block-tools\",data:{trixAttribute:\"code\"}},bullet:{type:\"button\",classNames:\"trix-button trix-button--icon trix-button--icon-bullet-list\",languageKey:\"bullets\",tabIndex:\"-1\",trixButtonGroup:\"block-tools\",data:{trixAttribute:\"bullet\"}},number:{type:\"button\",classNames:\"trix-button trix-button--icon trix-button--icon-number-list\",languageKey:\"numbers\",tabIndex:\"-1\",trixButtonGroup:\"block-tools\",data:{trixAttribute:\"number\"}},outdent:{type:\"button\",classNames:\"trix-button trix-button--icon trix-button--icon-decrease-nesting-level\",languageKey:\"outdent\",tabIndex:\"-1\",trixButtonGroup:\"block-tools\",data:{trixAction:\"decreaseNestingLevel\"}},indent:{type:\"button\",classNames:\"trix-button trix-button--icon trix-button--icon-increase-nesting-level\",languageKey:\"indent\",tabIndex:\"-1\",trixButtonGroup:\"block-tools\",data:{trixAction:\"increaseNestingLevel\"}},attachFiles:{type:\"button\",classNames:\"trix-button trix-button--icon trix-button--icon-attach\",languageKey:\"attachFiles\",tabIndex:\"-1\",trixButtonGroup:\"file-tools\",data:{trixAction:\"attachFiles\"}},undo:{type:\"button\",classNames:\"trix-button trix-button--icon trix-button--icon-undo\",languageKey:\"undo\",tabIndex:\"-1\",trixButtonGroup:\"history-tools\",data:{trixAction:\"undo\",trixKey:\"z\"}},redo:{type:\"button\",classNames:\"trix-button trix-button--icon trix-button--icon-redo\",languageKey:\"redo\",tabIndex:\"-1\",trixButtonGroup:\"history-tools\",data:{trixAction:\"redo\",trixKey:\"shift+z\"}}},G={attachFiles:\"Attach Files\",bold:\"Bold\",bullets:\"Bullets\",byte:\"Byte\",bytes:\"Bytes\",captionPlaceholder:\"Add a captionâ€¦\",code:\"Code\",heading1:\"Heading\",indent:\"Increase Level\",italic:\"Italic\",link:\"Link\",numbers:\"Numbers\",outdent:\"Decrease Level\",quote:\"Quote\",redo:\"Redo\",remove:\"Remove\",strike:\"Strikethrough\",undo:\"Undo\",unlink:\"Unlink\",url:\"URL\",urlPlaceholder:\"Enter a URLâ€¦\",GB:\"GB\",KB:\"KB\",MB:\"MB\",PB:\"PB\",TB:\"TB\"},$={\"text-tools\":\"trix-button-group trix-button-group--text-tools\",\"block-tools\":\"trix-button-group trix-button-group--block-tools\",\"file-tools\":\"trix-button-group trix-button-group--file-tools\",\"history-tools\":\"trix-button-group trix-button-group--history-tools\"};function X(){return(X=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Y(t){var e=t.type,n=t.classNames,r=t.data,i=t.tabIndex,o=t.languageKey,s={};if(r){var u=r.trixAttribute,c=r.trixKey,l=r.trixAction;u&&(s[\"data-trix-attribute\"]=u),l&&(s[\"data-trix-action\"]=l),u&&(s[\"data-trix-key\"]=c)}return a.a.createElement(\"button\",X({type:e},s,{tabIndex:i,className:n,title:G[o]}),G[o])}Y.propTypes={type:i.a.string.isRequired,classNames:i.a.string.isRequired,data:i.a.object,tabIndex:i.a.string,languageKey:i.a.string.isRequired};var Z=Y;var Q=function(){return a.a.createElement(\"span\",{className:\"trix-button-group-spacer\"})};var tt=function(){return a.a.createElement(\"div\",{\"data-trix-dialogs\":!0,className:\"trix-dialogs\"},a.a.createElement(\"div\",{className:\"trix-dialog trix-dialog--link\",\"data-trix-dialog\":\"href\",\"data-trix-dialog-attribute\":\"href\"},a.a.createElement(\"div\",{className:\"trix-dialog__link-fields\"},a.a.createElement(\"input\",{type:\"url\",name:\"href\",className:\"trix-input trix-input--dialog\",placeholder:G.urlPlaceholder,\"aria-label\":G.url,required:!0,\"data-trix-input\":!0}),a.a.createElement(\"div\",{className:\"trix-button-group\"},a.a.createElement(\"input\",{type:\"button\",className:\"trix-button trix-button--dialog\",value:G.link,\"data-trix-method\":\"setAttribute\"}),a.a.createElement(\"input\",{type:\"button\",className:\"trix-button trix-button--dialog\",value:G.unlink,\"data-trix-method\":\"removeAttribute\"})))))};function et(t,e){var n;e=e||[];var r=(t=t||[]).length,i=e.length,o=[];for(n=0;n<r;)o[o.length]=t[n],n+=1;for(n=0;n<i;)o[o.length]=e[n],n+=1;return o}var nt=A((function(t,e){return 1===t?d(e):M(t,function t(e,n,r){return function(){for(var i=[],o=0,a=e,s=0;s<n.length||o<arguments.length;){var u;s<n.length&&(!p(n[s])||o>=arguments.length)?u=n[s]:(u=arguments[o],o+=1),i[s]=u,p(u)||(a-=1),s+=1}return a<=0?r.apply(this,i):M(a,t(e,i,r))}}(t,[],e))})),rt=d((function(t){return nt(t.length,(function(){var e=0,n=arguments[0],r=arguments[arguments.length-1],i=Array.prototype.slice.call(arguments,0);return i[0]=function(){var t=n.apply(this,et(arguments,[e,r]));return e+=1,t},t.apply(this,i)}))}));function it(t){return null!=t&&\"function\"==typeof t[\"@@transducer/step\"]}function ot(t,e,n){return function(){if(0===arguments.length)return n();var r=Array.prototype.slice.call(arguments,0),i=r.pop();if(!y(i)){for(var o=0;o<t.length;){if(\"function\"==typeof i[t[o]])return i[t[o]].apply(i,r);o+=1}if(it(i)){var a=e.apply(null,r);return a(i)}}return n.apply(this,arguments)}}var at=function(){return this.xf[\"@@transducer/init\"]()},st=function(t){return this.xf[\"@@transducer/result\"](t)},ut=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype[\"@@transducer/init\"]=at,t.prototype[\"@@transducer/result\"]=st,t.prototype[\"@@transducer/step\"]=function(t,e){return this.xf[\"@@transducer/step\"](t,this.f(e))},t}(),ct=rt(A(ot([\"fantasy-land/map\",\"map\"],A((function(t,e){return new ut(t,e)})),(function(t,e){switch(Object.prototype.toString.call(e)){case\"[object Function]\":return nt(e.length,(function(){return t.call(this,e.apply(this,arguments))}));case\"[object Object]\":return U((function(n,r){return n[r]=t(e[r]),n}),{},L(e));default:return function(t,e){for(var n=0,r=e.length,i=Array(r);n<r;)i[n]=t(e[n]),n+=1;return i}(t,e)}}))));function lt(){return(lt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ht(t){var e=t.groupName,n=t.toolbarActionOptions;return a.a.createElement(\"span\",{className:$[e],\"data-trix-button-group\":e},ct((function(t,e){return a.a.createElement(Z,lt({key:e},t))}))(n))}ht.propTypes={groupName:i.a.string.isRequired,toolbarActionOptions:i.a.array.isRequired};var pt=ht;function dt(){return(dt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ft(t){var e=t.disableGroupingAction,n=void 0!==e&&e,r=t.toolbarId,i=t.toolbarActions,o=i&&f(N(i)),s=J;function u(){var t,e,n=(e=\"trixButtonGroup\",L(t=s).reduce((function(n,r){var i=t[r][e];return n[i]=n[i]||[],n[i].push(t[r]),n}),{})),r=[];return V((function(t,e){if(I(e,\"history-tools\")){var n=(new Date).getTime();r.push(a.a.createElement(Q,{key:n}))}r.push(a.a.createElement(pt,{key:e,toolbarActionOptions:t,groupName:e}))}))(n),r}return o&&(s=P(i,J)),a.a.createElement(\"trix-toolbar\",{id:r},a.a.createElement(\"div\",{className:\"trix-button-row\"},n?a.a.createElement(\"span\",{className:\"trix-button-group\"},ct((function(t,e){return a.a.createElement(Z,dt({key:e},s[t]))}))(L(s))):u()),o&&K(\"link\",i)?a.a.createElement(tt,null):o?void 0:a.a.createElement(tt,null))}ft.propTypes={disableGroupingAction:i.a.bool,toolbarId:i.a.string,toolbarActions:i.a.array};var gt=ft}])}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyaXgtcnRlL2Rpc3QvaW5kZXguanM/M2U3OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxlQUFlLEtBQWlELGtCQUFrQixtQkFBTyxDQUFDLHdFQUFPLEdBQUcsU0FBK0osQ0FBQyxtQkFBbUIsbUJBQW1CLFNBQVMsY0FBYyw0QkFBNEIsWUFBWSxxQkFBcUIsMkRBQTJELHVDQUF1QyxxQ0FBcUMsb0JBQW9CLEVBQUUsaUJBQWlCLDRGQUE0RixlQUFlLHdDQUF3QyxTQUFTLEVBQUUsbUJBQW1CLDhCQUE4QixxREFBcUQsMEJBQTBCLDZDQUE2QyxzQkFBc0IsNkRBQTZELFlBQVksZUFBZSxTQUFTLGlCQUFpQixpQ0FBaUMsaUJBQWlCLFlBQVksVUFBVSxzQkFBc0IsbUJBQW1CLGlEQUFpRCxrQkFBa0IsZ0JBQWdCLFlBQVksaUJBQWlCLGlCQUFpQixlQUFlLE1BQU0sYUFBYSxZQUFZLEdBQUcsSUFBSSxtQ0FBbUMsU0FBUyxvQ0FBb0MsWUFBWSxrQkFBa0IsYUFBYSxRQUFRLGFBQWEsd0JBQXdCLHlDQUF5QyxhQUFhLGFBQWEsb0NBQW9DLHNCQUFzQiw2QkFBNkIsa0NBQWtDLDZCQUE2Qiw2Q0FBNkMsZ0NBQWdDLE1BQU0sb0VBQW9FLGdDQUFnQyxNQUFNLGlEQUFpRCxHQUFHLElBQUksd0JBQXdCLGNBQWMsY0FBYyxxRkFBcUYsOERBQThELCtFQUErRSxnQkFBZ0IsS0FBSyxhQUFhLFlBQVksZ0ZBQWdGLDhDQUE4QyxhQUFhLE1BQU0sSUFBSSxjQUFjLFNBQVMsMkJBQTJCLGVBQWUsMkNBQTJDLElBQUksZ0JBQWdCLElBQUksMEVBQTBFLGtEQUFrRCxhQUFhLHlEQUF5RCxvREFBb0Qsa0JBQWtCLHNCQUFzQixTQUFTLDJCQUEyQixTQUFTLFFBQVEsZ0JBQWdCLDJCQUEyQixjQUFjLDhEQUE4RCx3QkFBd0IsS0FBSyxrQ0FBa0MsSUFBSSx5QkFBeUIsa0JBQWtCLGtCQUFrQix3R0FB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LGNBQWMscUNBQXFDLFlBQVksbUJBQW1CLEtBQUssbUJBQW1CLHNFQUFzRSxTQUFTLHdCQUF3QixlQUFlLDJDQUEyQyxpQ0FBaUMsMENBQTBDLG1CQUFtQiwrQkFBK0IsTUFBTSxLQUFLLE9BQU8sY0FBYywyRUFBMkUsVUFBVSxjQUFjLHFDQUFxQyxZQUFZLG1CQUFtQixLQUFLLG1CQUFtQixzRUFBc0UsU0FBUyx3QkFBd0IsZUFBZSxnR0FBZ0csYUFBYSw0REFBNEQsY0FBYyx1Q0FBdUMsSUFBSSxRQUFRLHdCQUF3Qix5QkFBeUIsMkJBQTJCLDRCQUE0QixNQUFNLEdBQUcsNkJBQTZCLHlDQUF5QyxHQUFHLFFBQVEsdURBQXVELEtBQUssMEJBQTBCLDRCQUE0Qiw2QkFBNkIsOEJBQThCLG1CQUFtQiwrQkFBK0IsTUFBTSxRQUFRLDhGQUE4RixjQUFjLDhFQUE4RSxVQUFVLEdBQUciLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtdHJpeC1ydGUvZGlzdC9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUocmVxdWlyZShcInJlYWN0XCIpKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcInJlYWN0XCJdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHNbXCJyZWFjdC10cml4LXJ0ZVwiXT1lKHJlcXVpcmUoXCJyZWFjdFwiKSk6dFtcInJlYWN0LXRyaXgtcnRlXCJdPWUodC5yZWFjdCl9KHRoaXMsKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgZT17fTtmdW5jdGlvbiBuKHIpe2lmKGVbcl0pcmV0dXJuIGVbcl0uZXhwb3J0czt2YXIgaT1lW3JdPXtpOnIsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gdFtyXS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyxuKSxpLmw9ITAsaS5leHBvcnRzfXJldHVybiBuLm09dCxuLmM9ZSxuLmQ9ZnVuY3Rpb24odCxlLHIpe24ubyh0LGUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHtlbnVtZXJhYmxlOiEwLGdldDpyfSl9LG4ucj1mdW5jdGlvbih0KXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24odCxlKXtpZigxJmUmJih0PW4odCkpLDgmZSlyZXR1cm4gdDtpZig0JmUmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIociksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pLDImZSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQpZm9yKHZhciBpIGluIHQpbi5kKHIsaSxmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0uYmluZChudWxsLGkpKTtyZXR1cm4gcn0sbi5uPWZ1bmN0aW9uKHQpe3ZhciBlPXQmJnQuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB0LmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybiBuLmQoZSxcImFcIixlKSxlfSxuLm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9LG4ucD1cIlwiLG4obi5zPTE1KX0oW2Z1bmN0aW9uKGUsbil7ZS5leHBvcnRzPXR9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9big4KSgpfSxmdW5jdGlvbih0LGUpe3ZhciBuO249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7bj1ufHxuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWNhdGNoKHQpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJihuPXdpbmRvdyl9dC5leHBvcnRzPW59LCxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKHIpe3ZhciBpLG87KGZ1bmN0aW9uKCl7fSkuY2FsbCh0aGlzKSxmdW5jdGlvbigpe251bGw9PXdpbmRvdy5TZXQmJih3aW5kb3cuU2V0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuY2xlYXIoKX1yZXR1cm4gdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZXM9W119LHQucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4tMSE9PXRoaXMudmFsdWVzLmluZGV4T2YodCl9LHQucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oYXModCl8fHRoaXMudmFsdWVzLnB1c2godCksdGhpc30sdC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybi0xIT09KGU9dGhpcy52YWx1ZXMuaW5kZXhPZih0KSkmJih0aGlzLnZhbHVlcy5zcGxpY2UoZSwxKSwhMCl9LHQucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD10aGlzLnZhbHVlcykuZm9yRWFjaC5hcHBseSh0LGFyZ3VtZW50cyl9LHR9KCkpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4oKXt9ZnVuY3Rpb24gaSh0KXtpZihcIm9iamVjdFwiIT10eXBlb2YgdGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJvbWlzZXMgbXVzdCBiZSBjb25zdHJ1Y3RlZCB2aWEgbmV3XCIpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm5vdCBhIGZ1bmN0aW9uXCIpO3RoaXMuX3N0YXRlPTAsdGhpcy5faGFuZGxlZD0hMSx0aGlzLl92YWx1ZT12b2lkIDAsdGhpcy5fZGVmZXJyZWRzPVtdLGwodCx0aGlzKX1mdW5jdGlvbiBvKHQsZSl7Zm9yKDszPT09dC5fc3RhdGU7KXQ9dC5fdmFsdWU7cmV0dXJuIDA9PT10Ll9zdGF0ZT92b2lkIHQuX2RlZmVycmVkcy5wdXNoKGUpOih0Ll9oYW5kbGVkPSEwLHZvaWQgcCgoZnVuY3Rpb24oKXt2YXIgbj0xPT09dC5fc3RhdGU/ZS5vbkZ1bGZpbGxlZDplLm9uUmVqZWN0ZWQ7aWYobnVsbCE9PW4pe3ZhciByO3RyeXtyPW4odC5fdmFsdWUpfWNhdGNoKHQpe3JldHVybiB2b2lkIHMoZS5wcm9taXNlLHQpfWEoZS5wcm9taXNlLHIpfWVsc2UoMT09PXQuX3N0YXRlP2E6cykoZS5wcm9taXNlLHQuX3ZhbHVlKX0pKSl9ZnVuY3Rpb24gYSh0LGUpe3RyeXtpZihlPT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQSBwcm9taXNlIGNhbm5vdCBiZSByZXNvbHZlZCB3aXRoIGl0c2VsZi5cIik7aWYoZSYmKFwib2JqZWN0XCI9PXR5cGVvZiBlfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSl7dmFyIG49ZS50aGVuO2lmKGUgaW5zdGFuY2VvZiBpKXJldHVybiB0Ll9zdGF0ZT0zLHQuX3ZhbHVlPWUsdm9pZCB1KHQpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4pcmV0dXJuIHZvaWQgbChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbigpe3QuYXBwbHkoZSxhcmd1bWVudHMpfX0obixlKSx0KX10Ll9zdGF0ZT0xLHQuX3ZhbHVlPWUsdSh0KX1jYXRjaChlKXtzKHQsZSl9fWZ1bmN0aW9uIHModCxlKXt0Ll9zdGF0ZT0yLHQuX3ZhbHVlPWUsdSh0KX1mdW5jdGlvbiB1KHQpezI9PT10Ll9zdGF0ZSYmMD09PXQuX2RlZmVycmVkcy5sZW5ndGgmJnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5faGFuZGxlZHx8ZCh0Ll92YWx1ZSl9KSwxKTtmb3IodmFyIGU9MCxuPXQuX2RlZmVycmVkcy5sZW5ndGg7bj5lO2UrKylvKHQsdC5fZGVmZXJyZWRzW2VdKTt0Ll9kZWZlcnJlZHM9bnVsbH1mdW5jdGlvbiBjKHQsZSxuKXt0aGlzLm9uRnVsZmlsbGVkPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dDpudWxsLHRoaXMub25SZWplY3RlZD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2U6bnVsbCx0aGlzLnByb21pc2U9bn1mdW5jdGlvbiBsKHQsZSl7dmFyIG49ITE7dHJ5e3QoKGZ1bmN0aW9uKHQpe258fChuPSEwLGEoZSx0KSl9KSwoZnVuY3Rpb24odCl7bnx8KG49ITAscyhlLHQpKX0pKX1jYXRjaCh0KXtpZihuKXJldHVybjtuPSEwLHMoZSx0KX19dmFyIGg9c2V0VGltZW91dCxwPVwiZnVuY3Rpb25cIj09dHlwZW9mIHImJnJ8fGZ1bmN0aW9uKHQpe2godCwxKX0sZD1mdW5jdGlvbih0KXtcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmY29uc29sZSYmY29uc29sZS53YXJuKFwiUG9zc2libGUgVW5oYW5kbGVkIFByb21pc2UgUmVqZWN0aW9uOlwiLHQpfTtpLnByb3RvdHlwZS5jYXRjaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aGVuKG51bGwsdCl9LGkucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24odCxlKXt2YXIgcj1uZXcgaShuKTtyZXR1cm4gbyh0aGlzLG5ldyBjKHQsZSxyKSkscn0saS5hbGw9ZnVuY3Rpb24odCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCk7cmV0dXJuIG5ldyBpKChmdW5jdGlvbih0LG4pe2Z1bmN0aW9uIHIobyxhKXt0cnl7aWYoYSYmKFwib2JqZWN0XCI9PXR5cGVvZiBhfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhKSl7dmFyIHM9YS50aGVuO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHMpcmV0dXJuIHZvaWQgcy5jYWxsKGEsKGZ1bmN0aW9uKHQpe3Iobyx0KX0pLG4pfWVbb109YSwwPT0tLWkmJnQoZSl9Y2F0Y2godCl7bih0KX19aWYoMD09PWUubGVuZ3RoKXJldHVybiB0KFtdKTtmb3IodmFyIGk9ZS5sZW5ndGgsbz0wO288ZS5sZW5ndGg7bysrKXIobyxlW29dKX0pKX0saS5yZXNvbHZlPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdC5jb25zdHJ1Y3Rvcj09PWk/dDpuZXcgaSgoZnVuY3Rpb24oZSl7ZSh0KX0pKX0saS5yZWplY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBpKChmdW5jdGlvbihlLG4pe24odCl9KSl9LGkucmFjZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGkoKGZ1bmN0aW9uKGUsbil7Zm9yKHZhciByPTAsaT10Lmxlbmd0aDtpPnI7cisrKXRbcl0udGhlbihlLG4pfSkpfSxpLl9zZXRJbW1lZGlhdGVGbj1mdW5jdGlvbih0KXtwPXR9LGkuX3NldFVuaGFuZGxlZFJlamVjdGlvbkZuPWZ1bmN0aW9uKHQpe2Q9dH0sdC5leHBvcnRzP3QuZXhwb3J0cz1pOmUuUHJvbWlzZXx8KGUuUHJvbWlzZT1pKX0odGhpcyksZnVuY3Rpb24oKXt2YXIgdD1cIm9iamVjdFwiPT10eXBlb2Ygd2luZG93LmN1c3RvbUVsZW1lbnRzLGU9XCJmdW5jdGlvblwiPT10eXBlb2YgZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50O3R8fGV8fChcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNCBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXCJ1bmRlZmluZWRcIj09dHlwZW9mIFdlYWtNYXAmJmZ1bmN0aW9uKCl7dmFyIHQ9T2JqZWN0LmRlZmluZVByb3BlcnR5LGU9RGF0ZS5ub3coKSUxZTksbj1mdW5jdGlvbigpe3RoaXMubmFtZT1cIl9fc3RcIisoMWU5Kk1hdGgucmFuZG9tKCk+Pj4wKStlKysrXCJfX1wifTtuLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKGUsbil7dmFyIHI9ZVt0aGlzLm5hbWVdO3JldHVybiByJiZyWzBdPT09ZT9yWzFdPW46dChlLHRoaXMubmFtZSx7dmFsdWU6W2Usbl0sd3JpdGFibGU6ITB9KSx0aGlzfSxnZXQ6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuKGU9dFt0aGlzLm5hbWVdKSYmZVswXT09PXQ/ZVsxXTp2b2lkIDB9LGRlbGV0ZTpmdW5jdGlvbih0KXt2YXIgZT10W3RoaXMubmFtZV07cmV0dXJuISghZXx8ZVswXSE9PXQpJiYoZVswXT1lWzFdPXZvaWQgMCwhMCl9LGhhczpmdW5jdGlvbih0KXt2YXIgZT10W3RoaXMubmFtZV07cmV0dXJuISFlJiZlWzBdPT09dH19LHdpbmRvdy5XZWFrTWFwPW59KCksZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2LnB1c2godCksbXx8KG09ITAsbChuKSl9ZnVuY3Rpb24gbigpe209ITE7dmFyIHQ9djt2PVtdLHQuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC51aWRfLWUudWlkX30pKTt2YXIgZT0hMTt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBuPXQudGFrZVJlY29yZHMoKTsoZnVuY3Rpb24odCl7dC5ub2Rlc18uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49aC5nZXQoZSk7biYmbi5mb3JFYWNoKChmdW5jdGlvbihlKXtlLm9ic2VydmVyPT09dCYmZS5yZW1vdmVUcmFuc2llbnRPYnNlcnZlcnMoKX0pKX0pKX0pKHQpLG4ubGVuZ3RoJiYodC5jYWxsYmFja18obix0KSxlPSEwKX0pKSxlJiZuKCl9ZnVuY3Rpb24gcih0LGUpe2Zvcih2YXIgbj10O247bj1uLnBhcmVudE5vZGUpe3ZhciByPWguZ2V0KG4pO2lmKHIpZm9yKHZhciBpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBvPXJbaV0sYT1vLm9wdGlvbnM7aWYobj09PXR8fGEuc3VidHJlZSl7dmFyIHM9ZShhKTtzJiZvLmVucXVldWUocyl9fX19ZnVuY3Rpb24gaSh0KXt0aGlzLmNhbGxiYWNrXz10LHRoaXMubm9kZXNfPVtdLHRoaXMucmVjb3Jkc189W10sdGhpcy51aWRfPSsreX1mdW5jdGlvbiBvKHQsZSl7dGhpcy50eXBlPXQsdGhpcy50YXJnZXQ9ZSx0aGlzLmFkZGVkTm9kZXM9W10sdGhpcy5yZW1vdmVkTm9kZXM9W10sdGhpcy5wcmV2aW91c1NpYmxpbmc9bnVsbCx0aGlzLm5leHRTaWJsaW5nPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lc3BhY2U9bnVsbCx0aGlzLm9sZFZhbHVlPW51bGx9ZnVuY3Rpb24gYSh0LGUpe3JldHVybiBmPW5ldyBvKHQsZSl9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gZ3x8KChnPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBvKHQudHlwZSx0LnRhcmdldCk7cmV0dXJuIGUuYWRkZWROb2Rlcz10LmFkZGVkTm9kZXMuc2xpY2UoKSxlLnJlbW92ZWROb2Rlcz10LnJlbW92ZWROb2Rlcy5zbGljZSgpLGUucHJldmlvdXNTaWJsaW5nPXQucHJldmlvdXNTaWJsaW5nLGUubmV4dFNpYmxpbmc9dC5uZXh0U2libGluZyxlLmF0dHJpYnV0ZU5hbWU9dC5hdHRyaWJ1dGVOYW1lLGUuYXR0cmlidXRlTmFtZXNwYWNlPXQuYXR0cmlidXRlTmFtZXNwYWNlLGUub2xkVmFsdWU9dC5vbGRWYWx1ZSxlfShmKSkub2xkVmFsdWU9dCxnKX1mdW5jdGlvbiB1KHQsZSl7cmV0dXJuIHQ9PT1lP3Q6ZyYmZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1nfHx0PT09Zn0odCk/ZzpudWxsfWZ1bmN0aW9uIGModCxlLG4pe3RoaXMub2JzZXJ2ZXI9dCx0aGlzLnRhcmdldD1lLHRoaXMub3B0aW9ucz1uLHRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXX1pZighdC5Kc011dGF0aW9uT2JzZXJ2ZXIpe3ZhciBsLGg9bmV3IFdlYWtNYXA7aWYoL1RyaWRlbnR8RWRnZS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSlsPXNldFRpbWVvdXQ7ZWxzZSBpZih3aW5kb3cuc2V0SW1tZWRpYXRlKWw9d2luZG93LnNldEltbWVkaWF0ZTtlbHNle3ZhciBwPVtdLGQ9U3RyaW5nKE1hdGgucmFuZG9tKCkpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLChmdW5jdGlvbih0KXtpZih0LmRhdGE9PT1kKXt2YXIgZT1wO3A9W10sZS5mb3JFYWNoKChmdW5jdGlvbih0KXt0KCl9KSl9fSkpLGw9ZnVuY3Rpb24odCl7cC5wdXNoKHQpLHdpbmRvdy5wb3N0TWVzc2FnZShkLFwiKlwiKX19dmFyIGYsZyxtPSExLHY9W10seT0wO2kucHJvdG90eXBlPXtvYnNlcnZlOmZ1bmN0aW9uKHQsZSl7aWYodD1mdW5jdGlvbih0KXtyZXR1cm4gd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsJiZ3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKHQpfHx0fSh0KSwhZS5jaGlsZExpc3QmJiFlLmF0dHJpYnV0ZXMmJiFlLmNoYXJhY3RlckRhdGF8fGUuYXR0cmlidXRlT2xkVmFsdWUmJiFlLmF0dHJpYnV0ZXN8fGUuYXR0cmlidXRlRmlsdGVyJiZlLmF0dHJpYnV0ZUZpbHRlci5sZW5ndGgmJiFlLmF0dHJpYnV0ZXN8fGUuY2hhcmFjdGVyRGF0YU9sZFZhbHVlJiYhZS5jaGFyYWN0ZXJEYXRhKXRocm93IG5ldyBTeW50YXhFcnJvcjt2YXIgbj1oLmdldCh0KTtufHxoLnNldCh0LG49W10pO2Zvcih2YXIgcixpPTA7aTxuLmxlbmd0aDtpKyspaWYobltpXS5vYnNlcnZlcj09PXRoaXMpeyhyPW5baV0pLnJlbW92ZUxpc3RlbmVycygpLHIub3B0aW9ucz1lO2JyZWFrfXJ8fChyPW5ldyBjKHRoaXMsdCxlKSxuLnB1c2gociksdGhpcy5ub2Rlc18ucHVzaCh0KSksci5hZGRMaXN0ZW5lcnMoKX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3RoaXMubm9kZXNfLmZvckVhY2goKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1oLmdldCh0KSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07aWYoci5vYnNlcnZlcj09PXRoaXMpe3IucmVtb3ZlTGlzdGVuZXJzKCksZS5zcGxpY2UobiwxKTticmVha319fSksdGhpcyksdGhpcy5yZWNvcmRzXz1bXX0sdGFrZVJlY29yZHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJlY29yZHNfO3JldHVybiB0aGlzLnJlY29yZHNfPVtdLHR9fSxjLnByb3RvdHlwZT17ZW5xdWV1ZTpmdW5jdGlvbih0KXt2YXIgbj10aGlzLm9ic2VydmVyLnJlY29yZHNfLHI9bi5sZW5ndGg7aWYobi5sZW5ndGg+MCl7dmFyIGk9dShuW3ItMV0sdCk7aWYoaSlyZXR1cm4gdm9pZChuW3ItMV09aSl9ZWxzZSBlKHRoaXMub2JzZXJ2ZXIpO25bcl09dH0sYWRkTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dGhpcy5hZGRMaXN0ZW5lcnNfKHRoaXMudGFyZ2V0KX0sYWRkTGlzdGVuZXJzXzpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnM7ZS5hdHRyaWJ1dGVzJiZ0LmFkZEV2ZW50TGlzdGVuZXIoXCJET01BdHRyTW9kaWZpZWRcIix0aGlzLCEwKSxlLmNoYXJhY3RlckRhdGEmJnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZFwiLHRoaXMsITApLGUuY2hpbGRMaXN0JiZ0LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Ob2RlSW5zZXJ0ZWRcIix0aGlzLCEwKSwoZS5jaGlsZExpc3R8fGUuc3VidHJlZSkmJnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTU5vZGVSZW1vdmVkXCIsdGhpcywhMCl9LHJlbW92ZUxpc3RlbmVyczpmdW5jdGlvbigpe3RoaXMucmVtb3ZlTGlzdGVuZXJzXyh0aGlzLnRhcmdldCl9LHJlbW92ZUxpc3RlbmVyc186ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zO2UuYXR0cmlidXRlcyYmdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQXR0ck1vZGlmaWVkXCIsdGhpcywhMCksZS5jaGFyYWN0ZXJEYXRhJiZ0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWRcIix0aGlzLCEwKSxlLmNoaWxkTGlzdCYmdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NTm9kZUluc2VydGVkXCIsdGhpcywhMCksKGUuY2hpbGRMaXN0fHxlLnN1YnRyZWUpJiZ0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Ob2RlUmVtb3ZlZFwiLHRoaXMsITApfSxhZGRUcmFuc2llbnRPYnNlcnZlcjpmdW5jdGlvbih0KXtpZih0IT09dGhpcy50YXJnZXQpe3RoaXMuYWRkTGlzdGVuZXJzXyh0KSx0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXMucHVzaCh0KTt2YXIgZT1oLmdldCh0KTtlfHxoLnNldCh0LGU9W10pLGUucHVzaCh0aGlzKX19LHJlbW92ZVRyYW5zaWVudE9ic2VydmVyczpmdW5jdGlvbigpe3ZhciB0PXRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlczt0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W10sdC5mb3JFYWNoKChmdW5jdGlvbih0KXt0aGlzLnJlbW92ZUxpc3RlbmVyc18odCk7Zm9yKHZhciBlPWguZ2V0KHQpLG49MDtuPGUubGVuZ3RoO24rKylpZihlW25dPT09dGhpcyl7ZS5zcGxpY2UobiwxKTticmVha319KSx0aGlzKX0saGFuZGxlRXZlbnQ6ZnVuY3Rpb24odCl7c3dpdGNoKHQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdC50eXBlKXtjYXNlXCJET01BdHRyTW9kaWZpZWRcIjp2YXIgZT10LmF0dHJOYW1lLG49dC5yZWxhdGVkTm9kZS5uYW1lc3BhY2VVUkksaT10LnRhcmdldDsodT1uZXcgYShcImF0dHJpYnV0ZXNcIixpKSkuYXR0cmlidXRlTmFtZT1lLHUuYXR0cmlidXRlTmFtZXNwYWNlPW47dmFyIG89dC5hdHRyQ2hhbmdlPT09TXV0YXRpb25FdmVudC5BRERJVElPTj9udWxsOnQucHJldlZhbHVlO3IoaSwoZnVuY3Rpb24odCl7cmV0dXJuIXQuYXR0cmlidXRlc3x8dC5hdHRyaWJ1dGVGaWx0ZXImJnQuYXR0cmlidXRlRmlsdGVyLmxlbmd0aCYmLTE9PT10LmF0dHJpYnV0ZUZpbHRlci5pbmRleE9mKGUpJiYtMT09PXQuYXR0cmlidXRlRmlsdGVyLmluZGV4T2Yobik/dm9pZCAwOnQuYXR0cmlidXRlT2xkVmFsdWU/cyhvKTp1fSkpO2JyZWFrO2Nhc2VcIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZFwiOnZhciB1PWEoXCJjaGFyYWN0ZXJEYXRhXCIsaT10LnRhcmdldCk7bz10LnByZXZWYWx1ZTtyKGksKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNoYXJhY3RlckRhdGE/dC5jaGFyYWN0ZXJEYXRhT2xkVmFsdWU/cyhvKTp1OnZvaWQgMH0pKTticmVhaztjYXNlXCJET01Ob2RlUmVtb3ZlZFwiOnRoaXMuYWRkVHJhbnNpZW50T2JzZXJ2ZXIodC50YXJnZXQpO2Nhc2VcIkRPTU5vZGVJbnNlcnRlZFwiOnZhciBjLGwsaD10LnRhcmdldDtcIkRPTU5vZGVJbnNlcnRlZFwiPT09dC50eXBlPyhjPVtoXSxsPVtdKTooYz1bXSxsPVtoXSk7dmFyIHA9aC5wcmV2aW91c1NpYmxpbmcsZD1oLm5leHRTaWJsaW5nOyh1PWEoXCJjaGlsZExpc3RcIix0LnRhcmdldC5wYXJlbnROb2RlKSkuYWRkZWROb2Rlcz1jLHUucmVtb3ZlZE5vZGVzPWwsdS5wcmV2aW91c1NpYmxpbmc9cCx1Lm5leHRTaWJsaW5nPWQscih0LnJlbGF0ZWROb2RlLChmdW5jdGlvbih0KXtyZXR1cm4gdC5jaGlsZExpc3Q/dTp2b2lkIDB9KSl9Zj1nPXZvaWQgMH19LHQuSnNNdXRhdGlvbk9ic2VydmVyPWksdC5NdXRhdGlvbk9ic2VydmVyfHwodC5NdXRhdGlvbk9ic2VydmVyPWksaS5faXNQb2x5ZmlsbGVkPSEwKX19KHNlbGYpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7aWYoIXdpbmRvdy5wZXJmb3JtYW5jZXx8IXdpbmRvdy5wZXJmb3JtYW5jZS5ub3cpe3ZhciB0PURhdGUubm93KCk7d2luZG93LnBlcmZvcm1hbmNlPXtub3c6ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKS10fX19aWYod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8KHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXt2YXIgdD13aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lO3JldHVybiB0P2Z1bmN0aW9uKGUpe3JldHVybiB0KChmdW5jdGlvbigpe2UocGVyZm9ybWFuY2Uubm93KCkpfSkpfTpmdW5jdGlvbih0KXtyZXR1cm4gd2luZG93LnNldFRpbWVvdXQodCwxZTMvNjApfX0oKSksd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHwod2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lPXdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodCl9KSwhZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFdmVudChcIkV2ZW50XCIpO3JldHVybiB0LmluaXRFdmVudChcImZvb1wiLCEwLCEwKSx0LnByZXZlbnREZWZhdWx0KCksdC5kZWZhdWx0UHJldmVudGVkfSgpKXt2YXIgZT1FdmVudC5wcm90b3R5cGUucHJldmVudERlZmF1bHQ7RXZlbnQucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5jYW5jZWxhYmxlJiYoZS5jYWxsKHRoaXMpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiZGVmYXVsdFByZXZlbnRlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sY29uZmlndXJhYmxlOiEwfSkpfX12YXIgbj0vVHJpZGVudC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtpZigoIXdpbmRvdy5DdXN0b21FdmVudHx8biYmXCJmdW5jdGlvblwiIT10eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50KSYmKHdpbmRvdy5DdXN0b21FdmVudD1mdW5jdGlvbih0LGUpe2U9ZXx8e307dmFyIG49ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKTtyZXR1cm4gbi5pbml0Q3VzdG9tRXZlbnQodCxCb29sZWFuKGUuYnViYmxlcyksQm9vbGVhbihlLmNhbmNlbGFibGUpLGUuZGV0YWlsKSxufSx3aW5kb3cuQ3VzdG9tRXZlbnQucHJvdG90eXBlPXdpbmRvdy5FdmVudC5wcm90b3R5cGUpLCF3aW5kb3cuRXZlbnR8fG4mJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHdpbmRvdy5FdmVudCl7dmFyIHI9d2luZG93LkV2ZW50O3dpbmRvdy5FdmVudD1mdW5jdGlvbih0LGUpe2U9ZXx8e307dmFyIG49ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKTtyZXR1cm4gbi5pbml0RXZlbnQodCxCb29sZWFuKGUuYnViYmxlcyksQm9vbGVhbihlLmNhbmNlbGFibGUpKSxufSx3aW5kb3cuRXZlbnQucHJvdG90eXBlPXIucHJvdG90eXBlfX0od2luZG93LldlYkNvbXBvbmVudHMpLHdpbmRvdy5DdXN0b21FbGVtZW50cz13aW5kb3cuQ3VzdG9tRWxlbWVudHN8fHtmbGFnczp7fX0sZnVuY3Rpb24odCl7dmFyIGU9dC5mbGFncyxuPVtdO3QuYWRkTW9kdWxlPWZ1bmN0aW9uKHQpe24ucHVzaCh0KX0sdC5pbml0aWFsaXplTW9kdWxlcz1mdW5jdGlvbigpe24uZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZSh0KX0pKX0sdC5oYXNOYXRpdmU9Qm9vbGVhbihkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQpLHQuaXNJRT0vVHJpZGVudC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSx0LnVzZU5hdGl2ZT0hZS5yZWdpc3RlciYmdC5oYXNOYXRpdmUmJiF3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwmJighd2luZG93LkhUTUxJbXBvcnRzfHx3aW5kb3cuSFRNTEltcG9ydHMudXNlTmF0aXZlKX0od2luZG93LkN1c3RvbUVsZW1lbnRzKSx3aW5kb3cuQ3VzdG9tRWxlbWVudHMuYWRkTW9kdWxlKChmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSl7KGZ1bmN0aW9uIHQoZSxuLHIpe3ZhciBpPWUuZmlyc3RFbGVtZW50Q2hpbGQ7aWYoIWkpZm9yKGk9ZS5maXJzdENoaWxkO2kmJmkubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERTspaT1pLm5leHRTaWJsaW5nO2Zvcig7aTspITAhPT1uKGkscikmJnQoaSxuLHIpLGk9aS5uZXh0RWxlbWVudFNpYmxpbmc7cmV0dXJuIG51bGx9KSh0LChmdW5jdGlvbih0KXtyZXR1cm4hIWUodCl8fHZvaWQgbih0LGUpfSkpLG4odCxlKX1mdW5jdGlvbiBuKHQsbil7Zm9yKHZhciByPXQuc2hhZG93Um9vdDtyOyllKHIsbikscj1yLm9sZGVyU2hhZG93Um9vdH12YXIgcj13aW5kb3cuSFRNTEltcG9ydHM/d2luZG93LkhUTUxJbXBvcnRzLklNUE9SVF9MSU5LX1RZUEU6XCJub25lXCI7dC5mb3JEb2N1bWVudFRyZWU9ZnVuY3Rpb24odCxlKXshZnVuY3Rpb24gdChlLG4saSl7aWYoZT13aW5kb3cud3JhcChlKSwhKGkuaW5kZXhPZihlKT49MCkpe2kucHVzaChlKTtmb3IodmFyIG8sYT1lLnF1ZXJ5U2VsZWN0b3JBbGwoXCJsaW5rW3JlbD1cIityK1wiXVwiKSxzPTAsdT1hLmxlbmd0aDt1PnMmJihvPWFbc10pO3MrKylvLmltcG9ydCYmdChvLmltcG9ydCxuLGkpO24oZSl9fSh0LGUsW10pfSx0LmZvclN1YnRyZWU9ZX0pKSx3aW5kb3cuQ3VzdG9tRWxlbWVudHMuYWRkTW9kdWxlKChmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSl7cmV0dXJuIG4odCxlKXx8cih0LGUpfWZ1bmN0aW9uIG4oZSxuKXtyZXR1cm4hIXQudXBncmFkZShlLG4pfHx2b2lkKG4mJmEoZSkpfWZ1bmN0aW9uIHIodCxlKXtmKHQsKGZ1bmN0aW9uKHQpe3JldHVybiEhbih0LGUpfHx2b2lkIDB9KSl9ZnVuY3Rpb24gaSh0KXt5LnB1c2godCksdnx8KHY9ITAsc2V0VGltZW91dChvKSl9ZnVuY3Rpb24gbygpe3Y9ITE7Zm9yKHZhciB0LGU9eSxuPTAscj1lLmxlbmd0aDtyPm4mJih0PWVbbl0pO24rKyl0KCk7eT1bXX1mdW5jdGlvbiBhKHQpe20/aSgoZnVuY3Rpb24oKXtzKHQpfSkpOnModCl9ZnVuY3Rpb24gcyh0KXt0Ll9fdXBncmFkZWRfXyYmIXQuX19hdHRhY2hlZCYmKHQuX19hdHRhY2hlZD0hMCx0LmF0dGFjaGVkQ2FsbGJhY2smJnQuYXR0YWNoZWRDYWxsYmFjaygpKX1mdW5jdGlvbiB1KHQpe20/aSgoZnVuY3Rpb24oKXtjKHQpfSkpOmModCl9ZnVuY3Rpb24gYyh0KXt0Ll9fdXBncmFkZWRfXyYmdC5fX2F0dGFjaGVkJiYodC5fX2F0dGFjaGVkPSExLHQuZGV0YWNoZWRDYWxsYmFjayYmdC5kZXRhY2hlZENhbGxiYWNrKCkpfWZ1bmN0aW9uIGwodCxuKXtpZihkLmRvbSl7dmFyIHI9blswXTtpZihyJiZcImNoaWxkTGlzdFwiPT09ci50eXBlJiZyLmFkZGVkTm9kZXMmJnIuYWRkZWROb2Rlcyl7Zm9yKHZhciBpPXIuYWRkZWROb2Rlc1swXTtpJiZpIT09ZG9jdW1lbnQmJiFpLmhvc3Q7KWk9aS5wYXJlbnROb2RlO3ZhciBvPWkmJihpLlVSTHx8aS5fVVJMfHxpLmhvc3QmJmkuaG9zdC5sb2NhbE5hbWUpfHxcIlwiO289by5zcGxpdChcIi8/XCIpLnNoaWZ0KCkuc3BsaXQoXCIvXCIpLnBvcCgpfWNvbnNvbGUuZ3JvdXAoXCJtdXRhdGlvbnMgKCVkKSBbJXNdXCIsbi5sZW5ndGgsb3x8XCJcIil9dmFyIGE9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQsbj13aW5kb3cud3JhcChkb2N1bWVudCk7ZTspe2lmKGU9PW4pcmV0dXJuITA7ZT1lLnBhcmVudE5vZGV8fGUubm9kZVR5cGU9PT1Ob2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUmJmUuaG9zdH19KHQpO24uZm9yRWFjaCgoZnVuY3Rpb24odCl7XCJjaGlsZExpc3RcIj09PXQudHlwZSYmKGIodC5hZGRlZE5vZGVzLChmdW5jdGlvbih0KXt0LmxvY2FsTmFtZSYmZSh0LGEpfSkpLGIodC5yZW1vdmVkTm9kZXMsKGZ1bmN0aW9uKHQpe3QubG9jYWxOYW1lJiZmdW5jdGlvbih0KXt1KHQpLGYodCwoZnVuY3Rpb24odCl7dSh0KX0pKX0odCl9KSkpfSkpLGQuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCl9ZnVuY3Rpb24gaCh0KXtpZighdC5fX29ic2VydmVyKXt2YXIgZT1uZXcgTXV0YXRpb25PYnNlcnZlcihsLmJpbmQodGhpcyx0KSk7ZS5vYnNlcnZlKHQse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSksdC5fX29ic2VydmVyPWV9fWZ1bmN0aW9uIHAodCl7dD13aW5kb3cud3JhcCh0KSxkLmRvbSYmY29uc29sZS5ncm91cChcInVwZ3JhZGVEb2N1bWVudDogXCIsdC5iYXNlVVJJLnNwbGl0KFwiL1wiKS5wb3AoKSksZSh0LHQ9PT13aW5kb3cud3JhcChkb2N1bWVudCkpLGgodCksZC5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKX12YXIgZD10LmZsYWdzLGY9dC5mb3JTdWJ0cmVlLGc9dC5mb3JEb2N1bWVudFRyZWUsbT13aW5kb3cuTXV0YXRpb25PYnNlcnZlci5faXNQb2x5ZmlsbGVkJiZkW1widGhyb3R0bGUtYXR0YWNoZWRcIl07dC5oYXNQb2x5ZmlsbE11dGF0aW9ucz1tLHQuaGFzVGhyb3R0bGVkQXR0YWNoZWQ9bTt2YXIgdj0hMSx5PVtdLGI9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKSx4PUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3Q7eCYmKEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3Q9ZnVuY3Rpb24oKXt2YXIgdD14LmNhbGwodGhpcyk7cmV0dXJuIHdpbmRvdy5DdXN0b21FbGVtZW50cy53YXRjaFNoYWRvdyh0aGlzKSx0fSksdC53YXRjaFNoYWRvdz1mdW5jdGlvbih0KXtpZih0LnNoYWRvd1Jvb3QmJiF0LnNoYWRvd1Jvb3QuX193YXRjaGVkKXtkLmRvbSYmY29uc29sZS5sb2coXCJ3YXRjaGluZyBzaGFkb3ctcm9vdCBmb3I6IFwiLHQubG9jYWxOYW1lKTtmb3IodmFyIGU9dC5zaGFkb3dSb290O2U7KWgoZSksZT1lLm9sZGVyU2hhZG93Um9vdH19LHQudXBncmFkZURvY3VtZW50VHJlZT1mdW5jdGlvbih0KXtnKHQscCl9LHQudXBncmFkZURvY3VtZW50PXAsdC51cGdyYWRlU3VidHJlZT1yLHQudXBncmFkZUFsbD1lLHQuYXR0YWNoZWQ9YSx0LnRha2VSZWNvcmRzPWZ1bmN0aW9uKHQpe2ZvcigodD13aW5kb3cud3JhcCh0KSl8fCh0PXdpbmRvdy53cmFwKGRvY3VtZW50KSk7dC5wYXJlbnROb2RlOyl0PXQucGFyZW50Tm9kZTt2YXIgZT10Ll9fb2JzZXJ2ZXI7ZSYmKGwodCxlLnRha2VSZWNvcmRzKCkpLG8oKSl9fSkpLHdpbmRvdy5DdXN0b21FbGVtZW50cy5hZGRNb2R1bGUoKGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpLG8pe3JldHVybiByLnVwZ3JhZGUmJmNvbnNvbGUuZ3JvdXAoXCJ1cGdyYWRlOlwiLGUubG9jYWxOYW1lKSxpLmlzJiZlLnNldEF0dHJpYnV0ZShcImlzXCIsaS5pcyksbihlLGkpLGUuX191cGdyYWRlZF9fPSEwLGZ1bmN0aW9uKHQpe3QuY3JlYXRlZENhbGxiYWNrJiZ0LmNyZWF0ZWRDYWxsYmFjaygpfShlKSxvJiZ0LmF0dGFjaGVkKGUpLHQudXBncmFkZVN1YnRyZWUoZSxvKSxyLnVwZ3JhZGUmJmNvbnNvbGUuZ3JvdXBFbmQoKSxlfWZ1bmN0aW9uIG4odCxlKXtPYmplY3QuX19wcm90b19ffHxmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPXt9LGk9ZTtpIT09biYmaSE9PUhUTUxFbGVtZW50LnByb3RvdHlwZTspe2Zvcih2YXIgbyxhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGkpLHM9MDtvPWFbc107cysrKXJbb118fChPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSxvKSkscltvXT0xKTtpPU9iamVjdC5nZXRQcm90b3R5cGVPZihpKX19KHQsZS5wcm90b3R5cGUsZS5uYXRpdmUpLHQuX19wcm90b19fPWUucHJvdG90eXBlfXZhciByPXQuZmxhZ3M7dC51cGdyYWRlPWZ1bmN0aW9uKG4scil7aWYoXCJ0ZW1wbGF0ZVwiPT09bi5sb2NhbE5hbWUmJndpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50JiZIVE1MVGVtcGxhdGVFbGVtZW50LmRlY29yYXRlJiZIVE1MVGVtcGxhdGVFbGVtZW50LmRlY29yYXRlKG4pLCFuLl9fdXBncmFkZWRfXyYmbi5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFKXt2YXIgaT1uLmdldEF0dHJpYnV0ZShcImlzXCIpLG89dC5nZXRSZWdpc3RlcmVkRGVmaW5pdGlvbihuLmxvY2FsTmFtZSl8fHQuZ2V0UmVnaXN0ZXJlZERlZmluaXRpb24oaSk7aWYobyYmKGkmJm8udGFnPT1uLmxvY2FsTmFtZXx8IWkmJiFvLmV4dGVuZHMpKXJldHVybiBlKG4sbyxyKX19LHQudXBncmFkZVdpdGhEZWZpbml0aW9uPWUsdC5pbXBsZW1lbnRQcm90b3R5cGU9bn0pKSx3aW5kb3cuQ3VzdG9tRWxlbWVudHMuYWRkTW9kdWxlKChmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe2lmKCF0LnNldEF0dHJpYnV0ZS5fcG9seWZpbGxlZCl7dmFyIGU9dC5zZXRBdHRyaWJ1dGU7dC5zZXRBdHRyaWJ1dGU9ZnVuY3Rpb24odCxyKXtuLmNhbGwodGhpcyx0LHIsZSl9O3ZhciByPXQucmVtb3ZlQXR0cmlidXRlO3QucmVtb3ZlQXR0cmlidXRlPWZ1bmN0aW9uKHQpe24uY2FsbCh0aGlzLHQsbnVsbCxyKX0sdC5zZXRBdHRyaWJ1dGUuX3BvbHlmaWxsZWQ9ITB9fWZ1bmN0aW9uIG4odCxlLG4pe3Q9dC50b0xvd2VyQ2FzZSgpO3ZhciByPXRoaXMuZ2V0QXR0cmlidXRlKHQpO24uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBpPXRoaXMuZ2V0QXR0cmlidXRlKHQpO3RoaXMuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrJiZpIT09ciYmdGhpcy5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sodCxyLGkpfWZ1bmN0aW9uIHIodCl7cmV0dXJuIHQ/Zlt0LnRvTG93ZXJDYXNlKCldOnZvaWQgMH1mdW5jdGlvbiBpKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gbChtKHQudGFnKSx0KX0odCl9fWZ1bmN0aW9uIG8odCxlKXt0JiYodD10LnRvTG93ZXJDYXNlKCkpLGUmJihlPWUudG9Mb3dlckNhc2UoKSk7dmFyIG4saT1yKGV8fHQpO2lmKGkpe2lmKHQ9PWkudGFnJiZlPT1pLmlzKXJldHVybiBuZXcgaS5jdG9yO2lmKCFlJiYhaS5pcylyZXR1cm4gbmV3IGkuY3Rvcn1yZXR1cm4gZT8oKG49byh0KSkuc2V0QXR0cmlidXRlKFwiaXNcIixlKSxuKToobj1tKHQpLHQuaW5kZXhPZihcIi1cIik+PTAmJmgobixIVE1MRWxlbWVudCksbil9ZnVuY3Rpb24gYSh0LGUpe3ZhciBuPXRbZV07dFtlXT1mdW5jdGlvbigpe3ZhciB0PW4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBjKHQpLHR9fXZhciBzLHU9KHQuaXNJRSx0LnVwZ3JhZGVEb2N1bWVudFRyZWUpLGM9dC51cGdyYWRlQWxsLGw9dC51cGdyYWRlV2l0aERlZmluaXRpb24saD10LmltcGxlbWVudFByb3RvdHlwZSxwPXQudXNlTmF0aXZlLGQ9W1wiYW5ub3RhdGlvbi14bWxcIixcImNvbG9yLXByb2ZpbGVcIixcImZvbnQtZmFjZVwiLFwiZm9udC1mYWNlLXNyY1wiLFwiZm9udC1mYWNlLXVyaVwiLFwiZm9udC1mYWNlLWZvcm1hdFwiLFwiZm9udC1mYWNlLW5hbWVcIixcIm1pc3NpbmctZ2x5cGhcIl0sZj17fSxnPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLG09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5iaW5kKGRvY3VtZW50KSx2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUy5iaW5kKGRvY3VtZW50KTtzPU9iamVjdC5fX3Byb3RvX198fHA/ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCBpbnN0YW5jZW9mIGV9OmZ1bmN0aW9uKHQsZSl7aWYodCBpbnN0YW5jZW9mIGUpcmV0dXJuITA7Zm9yKHZhciBuPXQ7bjspe2lmKG49PT1lLnByb3RvdHlwZSlyZXR1cm4hMDtuPW4uX19wcm90b19ffXJldHVybiExfSxhKE5vZGUucHJvdG90eXBlLFwiY2xvbmVOb2RlXCIpLGEoZG9jdW1lbnQsXCJpbXBvcnROb2RlXCIpLGRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudD1mdW5jdGlvbihuLG8pe3ZhciBhPW98fHt9O2lmKCFuKXRocm93IG5ldyBFcnJvcihcImRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudDogZmlyc3QgYXJndW1lbnQgYG5hbWVgIG11c3Qgbm90IGJlIGVtcHR5XCIpO2lmKG4uaW5kZXhPZihcIi1cIik8MCl0aHJvdyBuZXcgRXJyb3IoXCJkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ6IGZpcnN0IGFyZ3VtZW50ICgnbmFtZScpIG11c3QgY29udGFpbiBhIGRhc2ggKCctJykuIEFyZ3VtZW50IHByb3ZpZGVkIHdhcyAnXCIrU3RyaW5nKG4pK1wiJy5cIik7aWYoZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspaWYodD09PWRbZV0pcmV0dXJuITB9KG4pKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICdyZWdpc3RlckVsZW1lbnQnIG9uICdEb2N1bWVudCc6IFJlZ2lzdHJhdGlvbiBmYWlsZWQgZm9yIHR5cGUgJ1wiK1N0cmluZyhuKStcIicuIFRoZSB0eXBlIG5hbWUgaXMgaW52YWxpZC5cIik7aWYocihuKSl0aHJvdyBuZXcgRXJyb3IoXCJEdXBsaWNhdGVEZWZpbml0aW9uRXJyb3I6IGEgdHlwZSB3aXRoIG5hbWUgJ1wiK1N0cmluZyhuKStcIicgaXMgYWxyZWFkeSByZWdpc3RlcmVkXCIpO3JldHVybiBhLnByb3RvdHlwZXx8KGEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoSFRNTEVsZW1lbnQucHJvdG90eXBlKSksYS5fX25hbWU9bi50b0xvd2VyQ2FzZSgpLGEuZXh0ZW5kcyYmKGEuZXh0ZW5kcz1hLmV4dGVuZHMudG9Mb3dlckNhc2UoKSksYS5saWZlY3ljbGU9YS5saWZlY3ljbGV8fHt9LGEuYW5jZXN0cnk9ZnVuY3Rpb24gdChlKXt2YXIgbj1yKGUpO3JldHVybiBuP3Qobi5leHRlbmRzKS5jb25jYXQoW25dKTpbXX0oYS5leHRlbmRzKSxmdW5jdGlvbih0KXtmb3IodmFyIGUsbj10LmV4dGVuZHMscj0wO2U9dC5hbmNlc3RyeVtyXTtyKyspbj1lLmlzJiZlLnRhZzt0LnRhZz1ufHx0Ll9fbmFtZSxuJiYodC5pcz10Ll9fbmFtZSl9KGEpLGZ1bmN0aW9uKHQpe2lmKCFPYmplY3QuX19wcm90b19fKXt2YXIgZT1IVE1MRWxlbWVudC5wcm90b3R5cGU7aWYodC5pcyl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0LnRhZyk7ZT1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobil9Zm9yKHZhciByLGk9dC5wcm90b3R5cGUsbz0hMTtpOylpPT1lJiYobz0hMCksKHI9T2JqZWN0LmdldFByb3RvdHlwZU9mKGkpKSYmKGkuX19wcm90b19fPXIpLGk9cjtvfHxjb25zb2xlLndhcm4odC50YWcrXCIgcHJvdG90eXBlIG5vdCBmb3VuZCBpbiBwcm90b3R5cGUgY2hhaW4gZm9yIFwiK3QuaXMpLHQubmF0aXZlPWV9fShhKSxlKGEucHJvdG90eXBlKSxmdW5jdGlvbih0LGUpe2ZbdF09ZX0oYS5fX25hbWUsYSksYS5jdG9yPWkoYSksYS5jdG9yLnByb3RvdHlwZT1hLnByb3RvdHlwZSxhLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hLmN0b3IsdC5yZWFkeSYmdShkb2N1bWVudCksYS5jdG9yfSxkb2N1bWVudC5jcmVhdGVFbGVtZW50PW8sZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD09PWc/byhlLG4pOnYodCxlKX0sdC5yZWdpc3RyeT1mLHQuaW5zdGFuY2VvZj1zLHQucmVzZXJ2ZWRUYWdMaXN0PWQsdC5nZXRSZWdpc3RlcmVkRGVmaW5pdGlvbj1yLGRvY3VtZW50LnJlZ2lzdGVyPWRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudH0pKSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7byh3aW5kb3cud3JhcChkb2N1bWVudCkpLHdpbmRvdy5DdXN0b21FbGVtZW50cy5yZWFkeT0hMCwod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24odCl7c2V0VGltZW91dCh0LDE2KX0pKChmdW5jdGlvbigpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7d2luZG93LkN1c3RvbUVsZW1lbnRzLnJlYWR5VGltZT1EYXRlLm5vdygpLHdpbmRvdy5IVE1MSW1wb3J0cyYmKHdpbmRvdy5DdXN0b21FbGVtZW50cy5lbGFwc2VkPXdpbmRvdy5DdXN0b21FbGVtZW50cy5yZWFkeVRpbWUtd2luZG93LkhUTUxJbXBvcnRzLnJlYWR5VGltZSksZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJXZWJDb21wb25lbnRzUmVhZHlcIix7YnViYmxlczohMH0pKX0pKX0pKX12YXIgbj10LnVzZU5hdGl2ZSxyPXQuaW5pdGlhbGl6ZU1vZHVsZXM7aWYodC5pc0lFLG4pe3ZhciBpPWZ1bmN0aW9uKCl7fTt0LndhdGNoU2hhZG93PWksdC51cGdyYWRlPWksdC51cGdyYWRlQWxsPWksdC51cGdyYWRlRG9jdW1lbnRUcmVlPWksdC51cGdyYWRlU3VidHJlZT1pLHQudGFrZVJlY29yZHM9aSx0Lmluc3RhbmNlb2Y9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCBpbnN0YW5jZW9mIGV9fWVsc2UgcigpO3ZhciBvPXQudXBncmFkZURvY3VtZW50VHJlZSxhPXQudXBncmFkZURvY3VtZW50O2lmKHdpbmRvdy53cmFwfHwod2luZG93LlNoYWRvd0RPTVBvbHlmaWxsPyh3aW5kb3cud3JhcD13aW5kb3cuU2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkLHdpbmRvdy51bndyYXA9d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLnVud3JhcElmTmVlZGVkKTp3aW5kb3cud3JhcD13aW5kb3cudW53cmFwPWZ1bmN0aW9uKHQpe3JldHVybiB0fSksd2luZG93LkhUTUxJbXBvcnRzJiYod2luZG93LkhUTUxJbXBvcnRzLl9faW1wb3J0c1BhcnNpbmdIb29rPWZ1bmN0aW9uKHQpe3QuaW1wb3J0JiZhKHdyYXAodC5pbXBvcnQpKX0pLFwiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGV8fHQuZmxhZ3MuZWFnZXIpZSgpO2Vsc2UgaWYoXCJpbnRlcmFjdGl2ZVwiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZXx8d2luZG93LmF0dGFjaEV2ZW50fHx3aW5kb3cuSFRNTEltcG9ydHMmJiF3aW5kb3cuSFRNTEltcG9ydHMucmVhZHkpe3ZhciBzPXdpbmRvdy5IVE1MSW1wb3J0cyYmIXdpbmRvdy5IVE1MSW1wb3J0cy5yZWFkeT9cIkhUTUxJbXBvcnRzTG9hZGVkXCI6XCJET01Db250ZW50TG9hZGVkXCI7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIocyxlKX1lbHNlIGUoKX0od2luZG93LkN1c3RvbUVsZW1lbnRzKSl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt9LmNhbGwodGhpcyksZnVuY3Rpb24oKXsoZnVuY3Rpb24oKXsoZnVuY3Rpb24oKXt0aGlzLlRyaXg9e1ZFUlNJT046XCIxLjIuM1wiLFpFUk9fV0lEVEhfU1BBQ0U6XCJcXHVmZWZmXCIsTk9OX0JSRUFLSU5HX1NQQUNFOlwiwqBcIixPQkpFQ1RfUkVQTEFDRU1FTlRfQ0hBUkFDVEVSOlwi77+8XCIsYnJvd3Nlcjp7Y29tcG9zZXNFeGlzdGluZ1RleHQ6L0FuZHJvaWQuKkNocm9tZS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxmb3JjZXNPYmplY3RSZXNpemluZzovVHJpZGVudC4qcnY6MTEvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksc3VwcG9ydHNJbnB1dEV2ZW50czpmdW5jdGlvbigpe3ZhciB0LGUsbjtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgSW5wdXRFdmVudClyZXR1cm4hMTtmb3IodD0wLGU9KG49W1wiZGF0YVwiLFwiZ2V0VGFyZ2V0UmFuZ2VzXCIsXCJpbnB1dFR5cGVcIl0pLmxlbmd0aDtlPnQ7dCsrKWlmKCEoblt0XWluIElucHV0RXZlbnQucHJvdG90eXBlKSlyZXR1cm4hMTtyZXR1cm4hMH0oKX0sY29uZmlnOnt9fX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMpO3ZhciByPXRoaXMuVHJpeDsoZnVuY3Rpb24oKXsoZnVuY3Rpb24oKXtyLkJhc2ljT2JqZWN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe312YXIgZSxuLHI7cmV0dXJuIHQucHJveHlNZXRob2Q9ZnVuY3Rpb24odCl7dmFyIHIsaSxvLGEscztyZXR1cm4gbz1uKHQpLHI9by5uYW1lLGE9by50b01ldGhvZCxzPW8udG9Qcm9wZXJ0eSxpPW8ub3B0aW9uYWwsdGhpcy5wcm90b3R5cGVbcl09ZnVuY3Rpb24oKXt2YXIgdCxuO3JldHVybiB0PW51bGwhPWE/aT9cImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzW2FdP3RoaXNbYV0oKTp2b2lkIDA6dGhpc1thXSgpOm51bGwhPXM/dGhpc1tzXTp2b2lkIDAsaT9udWxsIT0obj1udWxsIT10P3Rbcl06dm9pZCAwKT9lLmNhbGwobix0LGFyZ3VtZW50cyk6dm9pZCAwOihuPXRbcl0sZS5jYWxsKG4sdCxhcmd1bWVudHMpKX19LG49ZnVuY3Rpb24odCl7dmFyIGUsbjtpZighKG49dC5tYXRjaChyKSkpdGhyb3cgbmV3IEVycm9yKFwiY2FuJ3QgcGFyc2UgQHByb3h5TWV0aG9kIGV4cHJlc3Npb246IFwiK3QpO3JldHVybiBlPXtuYW1lOm5bNF19LG51bGwhPW5bMl0/ZS50b01ldGhvZD1uWzFdOmUudG9Qcm9wZXJ0eT1uWzFdLG51bGwhPW5bM10mJihlLm9wdGlvbmFsPSEwKSxlfSxlPUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSxyPS9eKC4rPykoXFwoXFwpKT8oXFw/KT9cXC4oLis/KSQvLHR9KCl9KS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24odCxuKXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgaSBpbiBuKWUuY2FsbChuLGkpJiYodFtpXT1uW2ldKTtyZXR1cm4gci5wcm90b3R5cGU9bi5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IHIsdC5fX3N1cGVyX189bi5wcm90b3R5cGUsdH0sZT17fS5oYXNPd25Qcm9wZXJ0eTtyLk9iamVjdD1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKCl7dGhpcy5pZD0rK2l9dmFyIGk7cmV0dXJuIHQobixlKSxpPTAsbi5mcm9tSlNPTlN0cmluZz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mcm9tSlNPTihKU09OLnBhcnNlKHQpKX0sbi5wcm90b3R5cGUuaGFzU2FtZUNvbnN0cnVjdG9yQXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3I9PT0obnVsbCE9dD90LmNvbnN0cnVjdG9yOnZvaWQgMCl9LG4ucHJvdG90eXBlLmlzRXF1YWxUbz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09PXR9LG4ucHJvdG90eXBlLmluc3BlY3Q9ZnVuY3Rpb24oKXt2YXIgdCxlLG47cmV0dXJuIHQ9ZnVuY3Rpb24oKXt2YXIgdCxyLGk7Zm9yKGUgaW4gaT1bXSxyPW51bGwhPSh0PXRoaXMuY29udGVudHNGb3JJbnNwZWN0aW9uKCkpP3Q6e30pbj1yW2VdLGkucHVzaChlK1wiPVwiK24pO3JldHVybiBpfS5jYWxsKHRoaXMpLFwiIzxcIit0aGlzLmNvbnN0cnVjdG9yLm5hbWUrXCI6XCIrdGhpcy5pZCsodC5sZW5ndGg/XCIgXCIrdC5qb2luKFwiLCBcIik6XCJcIikrXCI+XCJ9LG4ucHJvdG90eXBlLmNvbnRlbnRzRm9ySW5zcGVjdGlvbj1mdW5jdGlvbigpe30sbi5wcm90b3R5cGUudG9KU09OU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMpfSxuLnByb3RvdHlwZS50b1VURjE2U3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHIuVVRGMTZTdHJpbmcuYm94KHRoaXMpfSxuLnByb3RvdHlwZS5nZXRDYWNoZUtleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlkLnRvU3RyaW5nKCl9LG59KHIuQmFzaWNPYmplY3QpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7ci5leHRlbmQ9ZnVuY3Rpb24odCl7dmFyIGUsbjtmb3IoZSBpbiB0KW49dFtlXSx0aGlzW2VdPW47cmV0dXJuIHRoaXN9fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7ci5leHRlbmQoe2RlZmVyOmZ1bmN0aW9uKHQpe3JldHVybiBzZXRUaW1lb3V0KHQsMSl9fSl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdCxlO3IuZXh0ZW5kKHtub3JtYWxpemVTcGFjZXM6ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZShSZWdFeHAoXCJcIityLlpFUk9fV0lEVEhfU1BBQ0UsXCJnXCIpLFwiXCIpLnJlcGxhY2UoUmVnRXhwKFwiXCIrci5OT05fQlJFQUtJTkdfU1BBQ0UsXCJnXCIpLFwiIFwiKX0sbm9ybWFsaXplTmV3bGluZXM6ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvXFxyXFxuL2csXCJcXG5cIil9LGJyZWFrYWJsZVdoaXRlc3BhY2VQYXR0ZXJuOlJlZ0V4cChcIlteXFxcXFNcIityLk5PTl9CUkVBS0lOR19TUEFDRStcIl1cIiksc3F1aXNoQnJlYWthYmxlV2hpdGVzcGFjZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKFJlZ0V4cChcIlwiK3IuYnJlYWthYmxlV2hpdGVzcGFjZVBhdHRlcm4uc291cmNlLFwiZ1wiKSxcIiBcIikucmVwbGFjZSgvXFwgezIsfS9nLFwiIFwiKX0sZXNjYXBlSFRNTDpmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4oZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS50ZXh0Q29udGVudD10LGUuaW5uZXJIVE1MfSxzdW1tYXJpemVTdHJpbmdDaGFuZ2U6ZnVuY3Rpb24odCxuKXt2YXIgaSxvLGEscztyZXR1cm4gdD1yLlVURjE2U3RyaW5nLmJveCh0KSwobj1yLlVURjE2U3RyaW5nLmJveChuKSkubGVuZ3RoPHQubGVuZ3RoPyhzPShvPWUodCxuKSlbMF0saT1vWzFdKTooaT0oYT1lKG4sdCkpWzBdLHM9YVsxXSkse2FkZGVkOmkscmVtb3ZlZDpzfX19KSxlPWZ1bmN0aW9uKGUsbil7dmFyIGksbyxhLHMsdTtyZXR1cm4gZS5pc0VxdWFsVG8obik/W1wiXCIsXCJcIl06KGE9KHM9KG89dChlLG4pKS51dGYxNlN0cmluZy5sZW5ndGgpPyh1PW8ub2Zmc2V0LGk9ZS5jb2RlcG9pbnRzLnNsaWNlKDAsdSkuY29uY2F0KGUuY29kZXBvaW50cy5zbGljZSh1K3MpKSx0KG4sci5VVEYxNlN0cmluZy5mcm9tQ29kZXBvaW50cyhpKSkpOnQobixlKSxbby51dGYxNlN0cmluZy50b1N0cmluZygpLGEudXRmMTZTdHJpbmcudG9TdHJpbmcoKV0pfSx0PWZ1bmN0aW9uKHQsZSl7dmFyIG4scixpO2ZvcihuPTAscj10Lmxlbmd0aCxpPWUubGVuZ3RoO3I+biYmdC5jaGFyQXQobikuaXNFcXVhbFRvKGUuY2hhckF0KG4pKTspbisrO2Zvcig7cj5uKzEmJnQuY2hhckF0KHItMSkuaXNFcXVhbFRvKGUuY2hhckF0KGktMSkpOylyLS0saS0tO3JldHVybnt1dGYxNlN0cmluZzp0LnNsaWNlKG4sciksb2Zmc2V0Om59fX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3IuZXh0ZW5kKHtjb3B5T2JqZWN0OmZ1bmN0aW9uKHQpe3ZhciBlLG4scjtmb3IoZSBpbiBudWxsPT10JiYodD17fSksbj17fSx0KXI9dFtlXSxuW2VdPXI7cmV0dXJuIG59LG9iamVjdHNBcmVFcXVhbDpmdW5jdGlvbih0LGUpe3ZhciBuO2lmKG51bGw9PXQmJih0PXt9KSxudWxsPT1lJiYoZT17fSksT2JqZWN0LmtleXModCkubGVuZ3RoIT09T2JqZWN0LmtleXMoZSkubGVuZ3RoKXJldHVybiExO2ZvcihuIGluIHQpaWYodFtuXSE9PWVbbl0pcmV0dXJuITE7cmV0dXJuITB9fSl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdD1bXS5zbGljZTtyLmV4dGVuZCh7YXJyYXlzQXJlRXF1YWw6ZnVuY3Rpb24odCxlKXt2YXIgbixyLGk7aWYobnVsbD09dCYmKHQ9W10pLG51bGw9PWUmJihlPVtdKSx0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2ZvcihyPW49MCxpPXQubGVuZ3RoO2k+bjtyPSsrbilpZih0W3JdIT09ZVtyXSlyZXR1cm4hMTtyZXR1cm4hMH0sYXJyYXlTdGFydHNXaXRoOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PXQmJih0PVtdKSxudWxsPT1lJiYoZT1bXSksci5hcnJheXNBcmVFcXVhbCh0LnNsaWNlKDAsZS5sZW5ndGgpLGUpfSxzcGxpY2VBcnJheTpmdW5jdGlvbigpe3ZhciBlLG4scjtyZXR1cm4gbj1hcmd1bWVudHNbMF0sZT0yPD1hcmd1bWVudHMubGVuZ3RoP3QuY2FsbChhcmd1bWVudHMsMSk6W10sKHI9bi5zbGljZSgwKSkuc3BsaWNlLmFwcGx5KHIsZSkscn0sc3VtbWFyaXplQXJyYXlDaGFuZ2U6ZnVuY3Rpb24odCxlKXt2YXIgbixyLGksbyxhLHMsdSxjLGwsaCxwO2ZvcihudWxsPT10JiYodD1bXSksbnVsbD09ZSYmKGU9W10pLG49W10saD1bXSxpPW5ldyBTZXQsbz0wLHU9dC5sZW5ndGg7dT5vO28rKylwPXRbb10saS5hZGQocCk7Zm9yKHI9bmV3IFNldCxhPTAsYz1lLmxlbmd0aDtjPmE7YSsrKXA9ZVthXSxyLmFkZChwKSxpLmhhcyhwKXx8bi5wdXNoKHApO2ZvcihzPTAsbD10Lmxlbmd0aDtsPnM7cysrKXA9dFtzXSxyLmhhcyhwKXx8aC5wdXNoKHApO3JldHVybnthZGRlZDpuLHJlbW92ZWQ6aH19fSl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdCxlLG4saTt0PW51bGwsZT1udWxsLGk9bnVsbCxuPW51bGwsci5leHRlbmQoe2dldEFsbEF0dHJpYnV0ZU5hbWVzOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXQ/dDp0PXIuZ2V0VGV4dEF0dHJpYnV0ZU5hbWVzKCkuY29uY2F0KHIuZ2V0QmxvY2tBdHRyaWJ1dGVOYW1lcygpKX0sZ2V0QmxvY2tDb25maWc6ZnVuY3Rpb24odCl7cmV0dXJuIHIuY29uZmlnLmJsb2NrQXR0cmlidXRlc1t0XX0sZ2V0QmxvY2tBdHRyaWJ1dGVOYW1lczpmdW5jdGlvbigpe3JldHVybiBudWxsIT1lP2U6ZT1PYmplY3Qua2V5cyhyLmNvbmZpZy5ibG9ja0F0dHJpYnV0ZXMpfSxnZXRUZXh0Q29uZmlnOmZ1bmN0aW9uKHQpe3JldHVybiByLmNvbmZpZy50ZXh0QXR0cmlidXRlc1t0XX0sZ2V0VGV4dEF0dHJpYnV0ZU5hbWVzOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPWk/aTppPU9iamVjdC5rZXlzKHIuY29uZmlnLnRleHRBdHRyaWJ1dGVzKX0sZ2V0TGlzdEF0dHJpYnV0ZU5hbWVzOmZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4gbnVsbCE9bj9uOm49ZnVuY3Rpb24oKXt2YXIgbixpO2Zvcih0IGluIGk9W10sbj1yLmNvbmZpZy5ibG9ja0F0dHJpYnV0ZXMpbnVsbCE9KGU9blt0XS5saXN0QXR0cmlidXRlKSYmaS5wdXNoKGUpO3JldHVybiBpfSgpfX0pfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQsZSxuLGksbyxhPVtdLmluZGV4T2Z8fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5sZW5ndGg7bj5lO2UrKylpZihlIGluIHRoaXMmJnRoaXNbZV09PT10KXJldHVybiBlO3JldHVybi0xfTt0PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxlPW51bGwhPShuPW51bGwhPShpPW51bGwhPShvPXQubWF0Y2hlc1NlbGVjdG9yKT9vOnQud2Via2l0TWF0Y2hlc1NlbGVjdG9yKT9pOnQubXNNYXRjaGVzU2VsZWN0b3IpP246dC5tb3pNYXRjaGVzU2VsZWN0b3Isci5leHRlbmQoe2hhbmRsZUV2ZW50OmZ1bmN0aW9uKGUsbil7dmFyIGksbyxhLHMsdSxjLGwsaCxwLGQsZjtyZXR1cm4gdT0obD1udWxsIT1uP246e30pLm9uRWxlbWVudCxzPWwubWF0Y2hpbmdTZWxlY3RvcixmPWwud2l0aENhbGxiYWNrLGE9bC5pblBoYXNlLGM9bC5wcmV2ZW50RGVmYXVsdCxwPWwudGltZXMsaT1udWxsIT11P3U6dCxoPXMsZixkPVwiY2FwdHVyaW5nXCI9PT1hLChvPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBudWxsIT1wJiYwPT0tLXAmJm8uZGVzdHJveSgpLG51bGwhPShlPXIuZmluZENsb3Nlc3RFbGVtZW50RnJvbU5vZGUodC50YXJnZXQse21hdGNoaW5nU2VsZWN0b3I6aH0pKSYmKG51bGwhPWYmJmYuY2FsbChlLHQsZSksYyk/dC5wcmV2ZW50RGVmYXVsdCgpOnZvaWQgMH0pLmRlc3Ryb3k9ZnVuY3Rpb24oKXtyZXR1cm4gaS5yZW1vdmVFdmVudExpc3RlbmVyKGUsbyxkKX0saS5hZGRFdmVudExpc3RlbmVyKGUsbyxkKSxvfSxoYW5kbGVFdmVudE9uY2U6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbD09ZSYmKGU9e30pLGUudGltZXM9MSxyLmhhbmRsZUV2ZW50KHQsZSl9LHRyaWdnZXJFdmVudDpmdW5jdGlvbihlLG4pe3ZhciBpLG8sYSxzLHUsYyxsO3JldHVybiBjPShsPW51bGwhPW4/bjp7fSkub25FbGVtZW50LG89bC5idWJibGVzLGE9bC5jYW5jZWxhYmxlLGk9bC5hdHRyaWJ1dGVzLHM9bnVsbCE9Yz9jOnQsbz0hMSE9PW8sYT0hMSE9PWEsKHU9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudHNcIikpLmluaXRFdmVudChlLG8sYSksbnVsbCE9aSYmci5leHRlbmQuY2FsbCh1LGkpLHMuZGlzcGF0Y2hFdmVudCh1KX0sZWxlbWVudE1hdGNoZXNTZWxlY3RvcjpmdW5jdGlvbih0LG4pe3JldHVybiAxPT09KG51bGwhPXQ/dC5ub2RlVHlwZTp2b2lkIDApP2UuY2FsbCh0LG4pOnZvaWQgMH0sZmluZENsb3Nlc3RFbGVtZW50RnJvbU5vZGU6ZnVuY3Rpb24odCxlKXt2YXIgbixpLG87Zm9yKG49KGk9bnVsbCE9ZT9lOnt9KS5tYXRjaGluZ1NlbGVjdG9yLG89aS51bnRpbE5vZGU7bnVsbCE9dCYmdC5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFOyl0PXQucGFyZW50Tm9kZTtpZihudWxsIT10KXtpZihudWxsPT1uKXJldHVybiB0O2lmKHQuY2xvc2VzdCYmbnVsbD09bylyZXR1cm4gdC5jbG9zZXN0KG4pO2Zvcig7dCYmdCE9PW87KXtpZihyLmVsZW1lbnRNYXRjaGVzU2VsZWN0b3IodCxuKSlyZXR1cm4gdDt0PXQucGFyZW50Tm9kZX19fSxmaW5kSW5uZXJFbGVtZW50OmZ1bmN0aW9uKHQpe2Zvcig7bnVsbCE9dD90LmZpcnN0RWxlbWVudENoaWxkOnZvaWQgMDspdD10LmZpcnN0RWxlbWVudENoaWxkO3JldHVybiB0fSxpbm5lckVsZW1lbnRJc0FjdGl2ZTpmdW5jdGlvbih0KXtyZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCE9PXQmJnIuZWxlbWVudENvbnRhaW5zTm9kZSh0LGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpfSxlbGVtZW50Q29udGFpbnNOb2RlOmZ1bmN0aW9uKHQsZSl7aWYodCYmZSlmb3IoO2U7KXtpZihlPT09dClyZXR1cm4hMDtlPWUucGFyZW50Tm9kZX19LGZpbmROb2RlRnJvbUNvbnRhaW5lckFuZE9mZnNldDpmdW5jdGlvbih0LGUpe3ZhciBuO2lmKHQpcmV0dXJuIHQubm9kZVR5cGU9PT1Ob2RlLlRFWFRfTk9ERT90OjA9PT1lP251bGwhPShuPXQuZmlyc3RDaGlsZCk/bjp0OnQuY2hpbGROb2Rlcy5pdGVtKGUtMSl9LGZpbmRFbGVtZW50RnJvbUNvbnRhaW5lckFuZE9mZnNldDpmdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBuPXIuZmluZE5vZGVGcm9tQ29udGFpbmVyQW5kT2Zmc2V0KHQsZSksci5maW5kQ2xvc2VzdEVsZW1lbnRGcm9tTm9kZShuKX0sZmluZENoaWxkSW5kZXhPZk5vZGU6ZnVuY3Rpb24odCl7dmFyIGU7aWYobnVsbCE9dD90LnBhcmVudE5vZGU6dm9pZCAwKXtmb3IoZT0wO3Q9dC5wcmV2aW91c1NpYmxpbmc7KWUrKztyZXR1cm4gZX19LHJlbW92ZU5vZGU6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIG51bGwhPXQmJm51bGwhPShlPXQucGFyZW50Tm9kZSk/ZS5yZW1vdmVDaGlsZCh0KTp2b2lkIDB9LHdhbGtUcmVlOmZ1bmN0aW9uKHQsZSl7dmFyIG4scixpLG8sYTtyZXR1cm4gcj0oaT1udWxsIT1lP2U6e30pLm9ubHlOb2Rlc09mVHlwZSxvPWkudXNpbmdGaWx0ZXIsbj1pLmV4cGFuZEVudGl0eVJlZmVyZW5jZXMsYT1mdW5jdGlvbigpe3N3aXRjaChyKXtjYXNlXCJlbGVtZW50XCI6cmV0dXJuIE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5UO2Nhc2VcInRleHRcIjpyZXR1cm4gTm9kZUZpbHRlci5TSE9XX1RFWFQ7Y2FzZVwiY29tbWVudFwiOnJldHVybiBOb2RlRmlsdGVyLlNIT1dfQ09NTUVOVDtkZWZhdWx0OnJldHVybiBOb2RlRmlsdGVyLlNIT1dfQUxMfX0oKSxkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKHQsYSxudWxsIT1vP286bnVsbCwhMD09PW4pfSx0YWdOYW1lOmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBudWxsIT10JiZudWxsIT0oZT10LnRhZ05hbWUpP2UudG9Mb3dlckNhc2UoKTp2b2lkIDB9LG1ha2VFbGVtZW50OmZ1bmN0aW9uKHQsZSl7dmFyIG4scixpLG8sYSxzLHUsYyxsLGg7aWYobnVsbD09ZSYmKGU9e30pLFwib2JqZWN0XCI9PXR5cGVvZiB0P3Q9KGU9dCkudGFnTmFtZTplPXthdHRyaWJ1dGVzOmV9LHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0KSxudWxsIT1lLmVkaXRhYmxlJiYobnVsbD09ZS5hdHRyaWJ1dGVzJiYoZS5hdHRyaWJ1dGVzPXt9KSxlLmF0dHJpYnV0ZXMuY29udGVudGVkaXRhYmxlPWUuZWRpdGFibGUpLGUuYXR0cmlidXRlcylmb3IobyBpbiBzPWUuYXR0cmlidXRlcyloPXNbb10sci5zZXRBdHRyaWJ1dGUobyxoKTtpZihlLnN0eWxlKWZvcihvIGluIHU9ZS5zdHlsZSloPXVbb10sci5zdHlsZVtvXT1oO2lmKGUuZGF0YSlmb3IobyBpbiBjPWUuZGF0YSloPWNbb10sci5kYXRhc2V0W29dPWg7aWYoZS5jbGFzc05hbWUpZm9yKGk9MCxhPShsPWUuY2xhc3NOYW1lLnNwbGl0KFwiIFwiKSkubGVuZ3RoO2E+aTtpKyspbj1sW2ldLHIuY2xhc3NMaXN0LmFkZChuKTtyZXR1cm4gZS50ZXh0Q29udGVudCYmKHIudGV4dENvbnRlbnQ9ZS50ZXh0Q29udGVudCkscn0sZ2V0QmxvY2tUYWdOYW1lczpmdW5jdGlvbigpe3ZhciB0LGU7cmV0dXJuIG51bGwhPXIuYmxvY2tUYWdOYW1lcz9yLmJsb2NrVGFnTmFtZXM6ci5ibG9ja1RhZ05hbWVzPWZ1bmN0aW9uKCl7dmFyIG4saTtmb3IodCBpbiBpPVtdLG49ci5jb25maWcuYmxvY2tBdHRyaWJ1dGVzKShlPW5bdF0udGFnTmFtZSkmJmkucHVzaChlKTtyZXR1cm4gaX0oKX0sbm9kZUlzQmxvY2tDb250YWluZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHIubm9kZUlzQmxvY2tTdGFydENvbW1lbnQobnVsbCE9dD90LmZpcnN0Q2hpbGQ6dm9pZCAwKX0sbm9kZVByb2JhYmx5SXNCbG9ja0NvbnRhaW5lcjpmdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiBlPXIudGFnTmFtZSh0KSxhLmNhbGwoci5nZXRCbG9ja1RhZ05hbWVzKCksZSk+PTAmJihuPXIudGFnTmFtZSh0LmZpcnN0Q2hpbGQpLGEuY2FsbChyLmdldEJsb2NrVGFnTmFtZXMoKSxuKTwwKX0sbm9kZUlzQmxvY2tTdGFydDpmdW5jdGlvbih0LGUpe3JldHVybihudWxsIT1lP2U6e3N0cmljdDohMH0pLnN0cmljdD9yLm5vZGVJc0Jsb2NrU3RhcnRDb21tZW50KHQpOnIubm9kZUlzQmxvY2tTdGFydENvbW1lbnQodCl8fCFyLm5vZGVJc0Jsb2NrU3RhcnRDb21tZW50KHQuZmlyc3RDaGlsZCkmJnIubm9kZVByb2JhYmx5SXNCbG9ja0NvbnRhaW5lcih0KX0sbm9kZUlzQmxvY2tTdGFydENvbW1lbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHIubm9kZUlzQ29tbWVudE5vZGUodCkmJlwiYmxvY2tcIj09PShudWxsIT10P3QuZGF0YTp2b2lkIDApfSxub2RlSXNDb21tZW50Tm9kZTpmdW5jdGlvbih0KXtyZXR1cm4obnVsbCE9dD90Lm5vZGVUeXBlOnZvaWQgMCk9PT1Ob2RlLkNPTU1FTlRfTk9ERX0sbm9kZUlzQ3Vyc29yVGFyZ2V0OmZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIG49KG51bGwhPWU/ZTp7fSkubmFtZSx0P3Iubm9kZUlzVGV4dE5vZGUodCk/dC5kYXRhPT09ci5aRVJPX1dJRFRIX1NQQUNFPyFufHx0LnBhcmVudE5vZGUuZGF0YXNldC50cml4Q3Vyc29yVGFyZ2V0PT09bjp2b2lkIDA6ci5ub2RlSXNDdXJzb3JUYXJnZXQodC5maXJzdENoaWxkKTp2b2lkIDB9LG5vZGVJc0F0dGFjaG1lbnRFbGVtZW50OmZ1bmN0aW9uKHQpe3JldHVybiByLmVsZW1lbnRNYXRjaGVzU2VsZWN0b3IodCxyLkF0dGFjaG1lbnRWaWV3LmF0dGFjaG1lbnRTZWxlY3Rvcil9LG5vZGVJc0VtcHR5VGV4dE5vZGU6ZnVuY3Rpb24odCl7cmV0dXJuIHIubm9kZUlzVGV4dE5vZGUodCkmJlwiXCI9PT0obnVsbCE9dD90LmRhdGE6dm9pZCAwKX0sbm9kZUlzVGV4dE5vZGU6ZnVuY3Rpb24odCl7cmV0dXJuKG51bGwhPXQ/dC5ub2RlVHlwZTp2b2lkIDApPT09Tm9kZS5URVhUX05PREV9fSl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxvO3Q9ci5jb3B5T2JqZWN0LGk9ci5vYmplY3RzQXJlRXF1YWwsci5leHRlbmQoe25vcm1hbGl6ZVJhbmdlOm49ZnVuY3Rpb24odCl7dmFyIG47aWYobnVsbCE9dClyZXR1cm4gQXJyYXkuaXNBcnJheSh0KXx8KHQ9W3QsdF0pLFtlKHRbMF0pLGUobnVsbCE9KG49dFsxXSk/bjp0WzBdKV19LHJhbmdlSXNDb2xsYXBzZWQ6ZnVuY3Rpb24odCl7dmFyIGUscixpO2lmKG51bGwhPXQpcmV0dXJuIGk9KHI9bih0KSlbMF0sZT1yWzFdLG8oaSxlKX0scmFuZ2VzQXJlRXF1YWw6ZnVuY3Rpb24odCxlKXt2YXIgcixpLGEscyx1LGM7aWYobnVsbCE9dCYmbnVsbCE9ZSlyZXR1cm4gaT0oYT1uKHQpKVswXSxyPWFbMV0sYz0ocz1uKGUpKVswXSx1PXNbMV0sbyhpLGMpJiZvKHIsdSl9fSksZT1mdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZT9lOnQoZSl9LG89ZnVuY3Rpb24odCxlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdD90PT09ZTppKHQsZSl9fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQsZSxuLGksbyxhLHM7ci5yZWdpc3RlckVsZW1lbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbixyO3JldHVybiBudWxsPT1lJiYoZT17fSksdD10LnRvTG93ZXJDYXNlKCksZT1zKGUpLChuPShyPWEoZSkpLmRlZmF1bHRDU1MpJiYoZGVsZXRlIHIuZGVmYXVsdENTUyxpKG4sdCkpLG8odCxyKX0saT1mdW5jdGlvbih0LGUpe3JldHVybiBuKGUpLnRleHRDb250ZW50PXQucmVwbGFjZSgvJXQvZyxlKX0sbj1mdW5jdGlvbihlKXt2YXIgbixyO3JldHVybihuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSkuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwidGV4dC9jc3NcIiksbi5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRhZy1uYW1lXCIsZS50b0xvd2VyQ2FzZSgpKSwocj10KCkpJiZuLnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsciksZG9jdW1lbnQuaGVhZC5pbnNlcnRCZWZvcmUobixkb2N1bWVudC5oZWFkLmZpcnN0Q2hpbGQpLG59LHQ9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD1lKFwidHJpeC1jc3Atbm9uY2VcIil8fGUoXCJjc3Atbm9uY2VcIikpP3QuZ2V0QXR0cmlidXRlKFwiY29udGVudFwiKTp2b2lkIDB9LGU9ZnVuY3Rpb24odCl7cmV0dXJuIGRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcihcIm1ldGFbbmFtZT1cIit0K1wiXVwiKX0sYT1mdW5jdGlvbih0KXt2YXIgZSxuLHI7Zm9yKGUgaW4gbj17fSx0KXI9dFtlXSxuW2VdPVwiZnVuY3Rpb25cIj09dHlwZW9mIHI/e3ZhbHVlOnJ9OnI7cmV0dXJuIG59LHM9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gdD1mdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvO2ZvcihlPXt9LG49MCxpPShvPVtcImluaXRpYWxpemVcIixcImNvbm5lY3RcIixcImRpc2Nvbm5lY3RcIl0pLmxlbmd0aDtpPm47bisrKWVbcj1vW25dXT10W3JdLGRlbGV0ZSB0W3JdO3JldHVybiBlfSx3aW5kb3cuY3VzdG9tRWxlbWVudHM/ZnVuY3Rpb24oZSl7dmFyIG4scixpLG8sYTtyZXR1cm4gYT10KGUpLGk9YS5pbml0aWFsaXplLG49YS5jb25uZWN0LHI9YS5kaXNjb25uZWN0LGkmJihvPW4sbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmluaXRpYWxpemVkfHwodGhpcy5pbml0aWFsaXplZD0hMCxpLmNhbGwodGhpcykpLG51bGwhPW8/by5jYWxsKHRoaXMpOnZvaWQgMH0pLG4mJihlLmNvbm5lY3RlZENhbGxiYWNrPW4pLHImJihlLmRpc2Nvbm5lY3RlZENhbGxiYWNrPXIpLGV9OmZ1bmN0aW9uKGUpe3ZhciBuLHIsaSxvO3JldHVybiBpPShvPXQoZSkpLmluaXRpYWxpemUsbj1vLmNvbm5lY3Qscj1vLmRpc2Nvbm5lY3QsaSYmKGUuY3JlYXRlZENhbGxiYWNrPWkpLG4mJihlLmF0dGFjaGVkQ2FsbGJhY2s9biksciYmKGUuZGV0YWNoZWRDYWxsYmFjaz1yKSxlfX0oKSxvPXdpbmRvdy5jdXN0b21FbGVtZW50cz9mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBuPWZ1bmN0aW9uKCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3Q/UmVmbGVjdC5jb25zdHJ1Y3QoSFRNTEVsZW1lbnQsW10sbik6SFRNTEVsZW1lbnQuYXBwbHkodGhpcyl9LE9iamVjdC5zZXRQcm90b3R5cGVPZihuLnByb3RvdHlwZSxIVE1MRWxlbWVudC5wcm90b3R5cGUpLE9iamVjdC5zZXRQcm90b3R5cGVPZihuLEhUTUxFbGVtZW50KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLnByb3RvdHlwZSxlKSx3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKHQsbiksbn06ZnVuY3Rpb24odCxlKXt2YXIgbixyO3JldHVybiByPU9iamVjdC5jcmVhdGUoSFRNTEVsZW1lbnQucHJvdG90eXBlLGUpLG49ZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50KHQse3Byb3RvdHlwZTpyfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJjb25zdHJ1Y3RvclwiLHt2YWx1ZTpufSksbn19LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdCxlO3IuZXh0ZW5kKHtnZXRET01TZWxlY3Rpb246ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD13aW5kb3cuZ2V0U2VsZWN0aW9uKCkpLnJhbmdlQ291bnQ+MD90OnZvaWQgMH0sZ2V0RE9NUmFuZ2U6ZnVuY3Rpb24oKXt2YXIgZSxuO3JldHVybihlPW51bGwhPShuPXIuZ2V0RE9NU2VsZWN0aW9uKCkpP24uZ2V0UmFuZ2VBdCgwKTp2b2lkIDApJiYhdChlKT9lOnZvaWQgMH0sc2V0RE9NUmFuZ2U6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuKGU9d2luZG93LmdldFNlbGVjdGlvbigpKS5yZW1vdmVBbGxSYW5nZXMoKSxlLmFkZFJhbmdlKHQpLHIuc2VsZWN0aW9uQ2hhbmdlT2JzZXJ2ZXIudXBkYXRlKCl9fSksdD1mdW5jdGlvbih0KXtyZXR1cm4gZSh0LnN0YXJ0Q29udGFpbmVyKXx8ZSh0LmVuZENvbnRhaW5lcil9LGU9ZnVuY3Rpb24odCl7cmV0dXJuIU9iamVjdC5nZXRQcm90b3R5cGVPZih0KX19LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdDt0PXtcImFwcGxpY2F0aW9uL3gtdHJpeC1mZWF0dXJlLWRldGVjdGlvblwiOlwidGVzdFwifSxyLmV4dGVuZCh7ZGF0YVRyYW5zZmVySXNQbGFpblRleHQ6ZnVuY3Rpb24odCl7dmFyIGUsbixyO3JldHVybiByPXQuZ2V0RGF0YShcInRleHQvcGxhaW5cIiksbj10LmdldERhdGEoXCJ0ZXh0L2h0bWxcIiksciYmbj8oZT0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKG4sXCJ0ZXh0L2h0bWxcIikuYm9keSkudGV4dENvbnRlbnQ9PT1yPyFlLnF1ZXJ5U2VsZWN0b3IoXCIqXCIpOnZvaWQgMDpudWxsIT1yP3IubGVuZ3RoOnZvaWQgMH0sZGF0YVRyYW5zZmVySXNXcml0YWJsZTpmdW5jdGlvbihlKXt2YXIgbixyO2lmKG51bGwhPShudWxsIT1lP2Uuc2V0RGF0YTp2b2lkIDApKXtmb3IobiBpbiB0KWlmKHI9dFtuXSwhZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGUuc2V0RGF0YShuLHIpLGUuZ2V0RGF0YShuKT09PXJ9Y2F0Y2godCl7fX0oKSlyZXR1cm47cmV0dXJuITB9fSxrZXlFdmVudElzS2V5Ym9hcmRDb21tYW5kOi9NYWN8XmlQLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSk/ZnVuY3Rpb24odCl7cmV0dXJuIHQubWV0YUtleX06ZnVuY3Rpb24odCl7cmV0dXJuIHQuY3RybEtleX19KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe30uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0LGU9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgaSBpbiBlKW4uY2FsbChlLGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gci5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IHIsdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH0sbj17fS5oYXNPd25Qcm9wZXJ0eTt0PXIuYXJyYXlzQXJlRXF1YWwsci5IYXNoPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGkodCl7bnVsbD09dCYmKHQ9e30pLHRoaXMudmFsdWVzPWEodCksaS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBvLGEscyx1LGM7cmV0dXJuIGUoaSxuKSxpLmZyb21Db21tb25BdHRyaWJ1dGVzT2ZPYmplY3RzPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLGEscztpZihudWxsPT10JiYodD1bXSksIXQubGVuZ3RoKXJldHVybiBuZXcgdGhpcztmb3Iocj0oZT1vKHRbMF0pKS5nZXRLZXlzKCksbj0wLGk9KHM9dC5zbGljZSgxKSkubGVuZ3RoO2k+bjtuKyspYT1zW25dLHI9ZS5nZXRLZXlzQ29tbW9uVG9IYXNoKG8oYSkpLGU9ZS5zbGljZShyKTtyZXR1cm4gZX0saS5ib3g9ZnVuY3Rpb24odCl7cmV0dXJuIG8odCl9LGkucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLm1lcmdlKHUodCxlKSl9LGkucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHIuSGFzaChhKHRoaXMudmFsdWVzLHQpKX0saS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnZhbHVlc1t0XX0saS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluIHRoaXMudmFsdWVzfSxpLnByb3RvdHlwZS5tZXJnZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHIuSGFzaChzKHRoaXMudmFsdWVzLGModCkpKX0saS5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odCl7dmFyIGUsbixpLG87Zm9yKG89e30sZT0wLGk9dC5sZW5ndGg7aT5lO2UrKyluPXRbZV0sdGhpcy5oYXMobikmJihvW25dPXRoaXMudmFsdWVzW25dKTtyZXR1cm4gbmV3IHIuSGFzaChvKX0saS5wcm90b3R5cGUuZ2V0S2V5cz1mdW5jdGlvbigpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLnZhbHVlcyl9LGkucHJvdG90eXBlLmdldEtleXNDb21tb25Ub0hhc2g9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksYTtmb3IodD1vKHQpLGE9W10sZT0wLHI9KGk9dGhpcy5nZXRLZXlzKCkpLmxlbmd0aDtyPmU7ZSsrKW49aVtlXSx0aGlzLnZhbHVlc1tuXT09PXQudmFsdWVzW25dJiZhLnB1c2gobik7cmV0dXJuIGF9LGkucHJvdG90eXBlLmlzRXF1YWxUbz1mdW5jdGlvbihlKXtyZXR1cm4gdCh0aGlzLnRvQXJyYXkoKSxvKGUpLnRvQXJyYXkoKSl9LGkucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuZ2V0S2V5cygpLmxlbmd0aH0saS5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe3ZhciB0LGUsbjtyZXR1cm4obnVsbCE9dGhpcy5hcnJheT90aGlzLmFycmF5OnRoaXMuYXJyYXk9ZnVuY3Rpb24oKXt2YXIgcjtmb3IodCBpbiBlPVtdLHI9dGhpcy52YWx1ZXMpbj1yW3RdLGUucHVzaCh0LG4pO3JldHVybiBlfS5jYWxsKHRoaXMpKS5zbGljZSgwKX0saS5wcm90b3R5cGUudG9PYmplY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzLnZhbHVlcyl9LGkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRvT2JqZWN0KCl9LGkucHJvdG90eXBlLmNvbnRlbnRzRm9ySW5zcGVjdGlvbj1mdW5jdGlvbigpe3JldHVybnt2YWx1ZXM6SlNPTi5zdHJpbmdpZnkodGhpcy52YWx1ZXMpfX0sdT1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybihuPXt9KVt0XT1lLG59LHM9ZnVuY3Rpb24odCxlKXt2YXIgbixyLGk7Zm9yKG4gaW4gcj1hKHQpLGUpaT1lW25dLHJbbl09aTtyZXR1cm4gcn0sYT1mdW5jdGlvbih0LGUpe3ZhciBuLHIsaSxvLGE7Zm9yKG89e30sbj0wLGk9KGE9T2JqZWN0LmtleXModCkuc29ydCgpKS5sZW5ndGg7aT5uO24rKykocj1hW25dKSE9PWUmJihvW3JdPXRbcl0pO3JldHVybiBvfSxvPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2Ygci5IYXNoP3Q6bmV3IHIuSGFzaCh0KX0sYz1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHIuSGFzaD90LnZhbHVlczp0fSxpfShyLk9iamVjdCl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXtyLk9iamVjdEdyb3VwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciBuLHI7dGhpcy5vYmplY3RzPW51bGwhPXQ/dDpbXSxyPWUuZGVwdGgsKG49ZS5hc1RyZWUpJiYodGhpcy5kZXB0aD1yLHRoaXMub2JqZWN0cz10aGlzLmNvbnN0cnVjdG9yLmdyb3VwT2JqZWN0cyh0aGlzLm9iamVjdHMse2FzVHJlZTpuLGRlcHRoOnRoaXMuZGVwdGgrMX0pKX1yZXR1cm4gdC5ncm91cE9iamVjdHM9ZnVuY3Rpb24odCxlKXt2YXIgbixyLGksbyxhLHMsdSxjLGw7Zm9yKG51bGw9PXQmJih0PVtdKSxpPShsPW51bGwhPWU/ZTp7fSkuZGVwdGgsKG49bC5hc1RyZWUpJiZudWxsPT1pJiYoaT0wKSxjPVtdLGE9MCxzPXQubGVuZ3RoO3M+YTthKyspe2lmKHU9dFthXSxvKXtpZigoXCJmdW5jdGlvblwiPT10eXBlb2YgdS5jYW5CZUdyb3VwZWQ/dS5jYW5CZUdyb3VwZWQoaSk6dm9pZCAwKSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mKHI9b1tvLmxlbmd0aC0xXSkuY2FuQmVHcm91cGVkV2l0aD9yLmNhbkJlR3JvdXBlZFdpdGgodSxpKTp2b2lkIDApKXtvLnB1c2godSk7Y29udGludWV9Yy5wdXNoKG5ldyB0aGlzKG8se2RlcHRoOmksYXNUcmVlOm59KSksbz1udWxsfShcImZ1bmN0aW9uXCI9PXR5cGVvZiB1LmNhbkJlR3JvdXBlZD91LmNhbkJlR3JvdXBlZChpKTp2b2lkIDApP289W3VdOmMucHVzaCh1KX1yZXR1cm4gbyYmYy5wdXNoKG5ldyB0aGlzKG8se2RlcHRoOmksYXNUcmVlOm59KSksY30sdC5wcm90b3R5cGUuZ2V0T2JqZWN0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9iamVjdHN9LHQucHJvdG90eXBlLmdldERlcHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVwdGh9LHQucHJvdG90eXBlLmdldENhY2hlS2V5PWZ1bmN0aW9uKCl7dmFyIHQsZSxuLHIsaTtmb3IoZT1bXCJvYmplY3RHcm91cFwiXSx0PTAsbj0oaT10aGlzLmdldE9iamVjdHMoKSkubGVuZ3RoO24+dDt0Kyspcj1pW3RdLGUucHVzaChyLmdldENhY2hlS2V5KCkpO3JldHVybiBlLmpvaW4oXCIvXCIpfSx0fSgpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24odCxuKXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgaSBpbiBuKWUuY2FsbChuLGkpJiYodFtpXT1uW2ldKTtyZXR1cm4gci5wcm90b3R5cGU9bi5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IHIsdC5fX3N1cGVyX189bi5wcm90b3R5cGUsdH0sZT17fS5oYXNPd25Qcm9wZXJ0eTtyLk9iamVjdE1hcD1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKHQpe3ZhciBlLG4scixpLG87Zm9yKG51bGw9PXQmJih0PVtdKSx0aGlzLm9iamVjdHM9e30scj0wLGk9dC5sZW5ndGg7aT5yO3IrKylvPXRbcl0sbj1KU09OLnN0cmluZ2lmeShvKSxudWxsPT0oZT10aGlzLm9iamVjdHMpW25dJiYoZVtuXT1vKX1yZXR1cm4gdChuLGUpLG4ucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGU9SlNPTi5zdHJpbmdpZnkodCksdGhpcy5vYmplY3RzW2VdfSxufShyLkJhc2ljT2JqZWN0KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3IuRWxlbWVudFN0b3JlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLnJlc2V0KHQpfXZhciBlO3JldHVybiB0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dmFyIG47cmV0dXJuIG49ZSh0KSx0aGlzLmVsZW1lbnRzW25dPXR9LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt2YXIgbixyO3JldHVybiBuPWUodCksKHI9dGhpcy5lbGVtZW50c1tuXSk/KGRlbGV0ZSB0aGlzLmVsZW1lbnRzW25dLHIpOnZvaWQgMH0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24odCl7dmFyIGUsbixyO2ZvcihudWxsPT10JiYodD1bXSksdGhpcy5lbGVtZW50cz17fSxuPTAscj10Lmxlbmd0aDtyPm47bisrKWU9dFtuXSx0aGlzLmFkZChlKTtyZXR1cm4gdH0sZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhc2V0LnRyaXhTdG9yZUtleX0sdH0oKX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe30uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIGkgaW4gbillLmNhbGwobixpKSYmKHRbaV09bltpXSk7cmV0dXJuIHIucHJvdG90eXBlPW4ucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyByLHQuX19zdXBlcl9fPW4ucHJvdG90eXBlLHR9LGU9e30uaGFzT3duUHJvcGVydHk7ci5PcGVyYXRpb249ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbigpe3JldHVybiBuLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIHQobixlKSxuLnByb3RvdHlwZS5pc1BlcmZvcm1pbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMD09PXRoaXMucGVyZm9ybWluZ30sbi5wcm90b3R5cGUuaGFzUGVyZm9ybWVkPWZ1bmN0aW9uKCl7cmV0dXJuITA9PT10aGlzLnBlcmZvcm1lZH0sbi5wcm90b3R5cGUuaGFzU3VjY2VlZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGVyZm9ybWVkJiZ0aGlzLnN1Y2NlZWRlZH0sbi5wcm90b3R5cGUuaGFzRmFpbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGVyZm9ybWVkJiYhdGhpcy5zdWNjZWVkZWR9LG4ucHJvdG90eXBlLmdldFByb21pc2U9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5wcm9taXNlP3RoaXMucHJvbWlzZTp0aGlzLnByb21pc2U9bmV3IFByb21pc2UoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQucGVyZm9ybWluZz0hMCx0LnBlcmZvcm0oKGZ1bmN0aW9uKHIsaSl7cmV0dXJuIHQuc3VjY2VlZGVkPXIsdC5wZXJmb3JtaW5nPSExLHQucGVyZm9ybWVkPSEwLHQuc3VjY2VlZGVkP2UoaSk6bihpKX0pKX19KHRoaXMpKX0sbi5wcm90b3R5cGUucGVyZm9ybT1mdW5jdGlvbih0KXtyZXR1cm4gdCghMSl9LG4ucHJvdG90eXBlLnJlbGVhc2U9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gbnVsbCE9KHQ9dGhpcy5wcm9taXNlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5jYW5jZWwmJnQuY2FuY2VsKCksdGhpcy5wcm9taXNlPW51bGwsdGhpcy5wZXJmb3JtaW5nPW51bGwsdGhpcy5wZXJmb3JtZWQ9bnVsbCx0aGlzLnN1Y2NlZWRlZD1udWxsfSxuLnByb3h5TWV0aG9kKFwiZ2V0UHJvbWlzZSgpLnRoZW5cIiksbi5wcm94eU1ldGhvZChcImdldFByb21pc2UoKS5jYXRjaFwiKSxufShyLkJhc2ljT2JqZWN0KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0LGUsbixpLG8sYT17fS5oYXNPd25Qcm9wZXJ0eTtyLlVURjE2U3RyaW5nPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlKXt0aGlzLnVjczJTdHJpbmc9dCx0aGlzLmNvZGVwb2ludHM9ZSx0aGlzLmxlbmd0aD10aGlzLmNvZGVwb2ludHMubGVuZ3RoLHRoaXMudWNzMkxlbmd0aD10aGlzLnVjczJTdHJpbmcubGVuZ3RofXJldHVybiBmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpYS5jYWxsKGUscikmJih0W3JdPWVbcl0pO24ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQuX19zdXBlcl9fPWUucHJvdG90eXBlfShlLHQpLGUuYm94PWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10JiYodD1cIlwiKSx0IGluc3RhbmNlb2YgdGhpcz90OnRoaXMuZnJvbVVDUzJTdHJpbmcobnVsbCE9dD90LnRvU3RyaW5nKCk6dm9pZCAwKX0sZS5mcm9tVUNTMlN0cmluZz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHRoaXModCxpKHQpKX0sZS5mcm9tQ29kZXBvaW50cz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHRoaXMobyh0KSx0KX0sZS5wcm90b3R5cGUub2Zmc2V0VG9VQ1MyT2Zmc2V0PWZ1bmN0aW9uKHQpe3JldHVybiBvKHRoaXMuY29kZXBvaW50cy5zbGljZSgwLE1hdGgubWF4KDAsdCkpKS5sZW5ndGh9LGUucHJvdG90eXBlLm9mZnNldEZyb21VQ1MyT2Zmc2V0PWZ1bmN0aW9uKHQpe3JldHVybiBpKHRoaXMudWNzMlN0cmluZy5zbGljZSgwLE1hdGgubWF4KDAsdCkpKS5sZW5ndGh9LGUucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IuZnJvbUNvZGVwb2ludHMoKHQ9dGhpcy5jb2RlcG9pbnRzKS5zbGljZS5hcHBseSh0LGFyZ3VtZW50cykpfSxlLnByb3RvdHlwZS5jaGFyQXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2xpY2UodCx0KzEpfSxlLnByb3RvdHlwZS5pc0VxdWFsVG89ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IuYm94KHQpLnVjczJTdHJpbmc9PT10aGlzLnVjczJTdHJpbmd9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVjczJTdHJpbmd9LGUucHJvdG90eXBlLmdldENhY2hlS2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudWNzMlN0cmluZ30sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51Y3MyU3RyaW5nfSxlfShyLkJhc2ljT2JqZWN0KSx0PTE9PT0oXCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXkuZnJvbT9BcnJheS5mcm9tKFwi8J+RvFwiKS5sZW5ndGg6dm9pZCAwKSxlPW51bGwhPShcImZ1bmN0aW9uXCI9PXR5cGVvZlwiIFwiLmNvZGVQb2ludEF0P1wiIFwiLmNvZGVQb2ludEF0KDApOnZvaWQgMCksbj1cIiDwn5G8XCI9PT0oXCJmdW5jdGlvblwiPT10eXBlb2YgU3RyaW5nLmZyb21Db2RlUG9pbnQ/U3RyaW5nLmZyb21Db2RlUG9pbnQoMzIsMTI4MTI0KTp2b2lkIDApLGk9dCYmZT9mdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuZnJvbSh0KS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvZGVQb2ludEF0KDApfSkpfTpmdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvO2ZvcihpPVtdLGU9MCxyPXQubGVuZ3RoO3I+ZTspKG89dC5jaGFyQ29kZUF0KGUrKykpPj01NTI5NiYmNTYzMTk+PW8mJnI+ZSYmKDU2MzIwPT0oNjQ1MTImKG49dC5jaGFyQ29kZUF0KGUrKykpKT9vPSgoMTAyMyZvKTw8MTApKygxMDIzJm4pKzY1NTM2OmUtLSksaS5wdXNoKG8pO3JldHVybiBpfSxvPW4/ZnVuY3Rpb24odCl7cmV0dXJuIFN0cmluZy5mcm9tQ29kZVBvaW50LmFwcGx5KFN0cmluZyx0KX06ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcixpLG87Zm9yKG89W10scj0wLGk9dC5sZW5ndGg7aT5yO3IrKyluPXRbcl0sZT1cIlwiLG4+NjU1MzUmJihuLT02NTUzNixlKz1TdHJpbmcuZnJvbUNoYXJDb2RlKG4+Pj4xMCYxMDIzfDU1Mjk2KSxuPTU2MzIwfDEwMjMmbiksby5wdXNoKGUrU3RyaW5nLmZyb21DaGFyQ29kZShuKSk7cmV0dXJuIG99KCkuam9pbihcIlwiKX19LmNhbGwodGhpcyksZnVuY3Rpb24oKXt9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt9LmNhbGwodGhpcyksZnVuY3Rpb24oKXtyLmNvbmZpZy5sYW5nPXthdHRhY2hGaWxlczpcIkF0dGFjaCBGaWxlc1wiLGJvbGQ6XCJCb2xkXCIsYnVsbGV0czpcIkJ1bGxldHNcIixieXRlOlwiQnl0ZVwiLGJ5dGVzOlwiQnl0ZXNcIixjYXB0aW9uUGxhY2Vob2xkZXI6XCJBZGQgYSBjYXB0aW9u4oCmXCIsY29kZTpcIkNvZGVcIixoZWFkaW5nMTpcIkhlYWRpbmdcIixpbmRlbnQ6XCJJbmNyZWFzZSBMZXZlbFwiLGl0YWxpYzpcIkl0YWxpY1wiLGxpbms6XCJMaW5rXCIsbnVtYmVyczpcIk51bWJlcnNcIixvdXRkZW50OlwiRGVjcmVhc2UgTGV2ZWxcIixxdW90ZTpcIlF1b3RlXCIscmVkbzpcIlJlZG9cIixyZW1vdmU6XCJSZW1vdmVcIixzdHJpa2U6XCJTdHJpa2V0aHJvdWdoXCIsdW5kbzpcIlVuZG9cIix1bmxpbms6XCJVbmxpbmtcIix1cmw6XCJVUkxcIix1cmxQbGFjZWhvbGRlcjpcIkVudGVyIGEgVVJM4oCmXCIsR0I6XCJHQlwiLEtCOlwiS0JcIixNQjpcIk1CXCIsUEI6XCJQQlwiLFRCOlwiVEJcIn19LmNhbGwodGhpcyksZnVuY3Rpb24oKXtyLmNvbmZpZy5jc3M9e2F0dGFjaG1lbnQ6XCJhdHRhY2htZW50XCIsYXR0YWNobWVudENhcHRpb246XCJhdHRhY2htZW50X19jYXB0aW9uXCIsYXR0YWNobWVudENhcHRpb25FZGl0b3I6XCJhdHRhY2htZW50X19jYXB0aW9uLWVkaXRvclwiLGF0dGFjaG1lbnRNZXRhZGF0YTpcImF0dGFjaG1lbnRfX21ldGFkYXRhXCIsYXR0YWNobWVudE1ldGFkYXRhQ29udGFpbmVyOlwiYXR0YWNobWVudF9fbWV0YWRhdGEtY29udGFpbmVyXCIsYXR0YWNobWVudE5hbWU6XCJhdHRhY2htZW50X19uYW1lXCIsYXR0YWNobWVudFByb2dyZXNzOlwiYXR0YWNobWVudF9fcHJvZ3Jlc3NcIixhdHRhY2htZW50U2l6ZTpcImF0dGFjaG1lbnRfX3NpemVcIixhdHRhY2htZW50VG9vbGJhcjpcImF0dGFjaG1lbnRfX3Rvb2xiYXJcIixhdHRhY2htZW50R2FsbGVyeTpcImF0dGFjaG1lbnQtZ2FsbGVyeVwifX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0O3IuY29uZmlnLmJsb2NrQXR0cmlidXRlcz10PXtkZWZhdWx0Ont0YWdOYW1lOlwiZGl2XCIscGFyc2U6ITF9LHF1b3RlOnt0YWdOYW1lOlwiYmxvY2txdW90ZVwiLG5lc3RhYmxlOiEwfSxoZWFkaW5nMTp7dGFnTmFtZTpcImgxXCIsdGVybWluYWw6ITAsYnJlYWtPblJldHVybjohMCxncm91cDohMX0sY29kZTp7dGFnTmFtZTpcInByZVwiLHRlcm1pbmFsOiEwLHRleHQ6e3BsYWludGV4dDohMH19LGJ1bGxldExpc3Q6e3RhZ05hbWU6XCJ1bFwiLHBhcnNlOiExfSxidWxsZXQ6e3RhZ05hbWU6XCJsaVwiLGxpc3RBdHRyaWJ1dGU6XCJidWxsZXRMaXN0XCIsZ3JvdXA6ITEsbmVzdGFibGU6ITAsdGVzdDpmdW5jdGlvbihlKXtyZXR1cm4gci50YWdOYW1lKGUucGFyZW50Tm9kZSk9PT10W3RoaXMubGlzdEF0dHJpYnV0ZV0udGFnTmFtZX19LG51bWJlckxpc3Q6e3RhZ05hbWU6XCJvbFwiLHBhcnNlOiExfSxudW1iZXI6e3RhZ05hbWU6XCJsaVwiLGxpc3RBdHRyaWJ1dGU6XCJudW1iZXJMaXN0XCIsZ3JvdXA6ITEsbmVzdGFibGU6ITAsdGVzdDpmdW5jdGlvbihlKXtyZXR1cm4gci50YWdOYW1lKGUucGFyZW50Tm9kZSk9PT10W3RoaXMubGlzdEF0dHJpYnV0ZV0udGFnTmFtZX19LGF0dGFjaG1lbnRHYWxsZXJ5Ont0YWdOYW1lOlwiZGl2XCIsZXhjbHVzaXZlOiEwLHRlcm1pbmFsOiEwLHBhcnNlOiExLGdyb3VwOiExfX19LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdCxlO3Q9ci5jb25maWcubGFuZyxlPVt0LmJ5dGVzLHQuS0IsdC5NQix0LkdCLHQuVEIsdC5QQl0sci5jb25maWcuZmlsZVNpemU9e3ByZWZpeDpcIklFQ1wiLHByZWNpc2lvbjoyLGZvcm1hdHRlcjpmdW5jdGlvbihuKXt2YXIgcixpO3N3aXRjaChuKXtjYXNlIDA6cmV0dXJuXCIwIFwiK3QuYnl0ZXM7Y2FzZSAxOnJldHVyblwiMSBcIit0LmJ5dGU7ZGVmYXVsdDpyZXR1cm4gcj1mdW5jdGlvbigpe3N3aXRjaCh0aGlzLnByZWZpeCl7Y2FzZVwiU0lcIjpyZXR1cm4gMWUzO2Nhc2VcIklFQ1wiOnJldHVybiAxMDI0fX0uY2FsbCh0aGlzKSxpPU1hdGguZmxvb3IoTWF0aC5sb2cobikvTWF0aC5sb2cocikpLChuL01hdGgucG93KHIsaSkpLnRvRml4ZWQodGhpcy5wcmVjaXNpb24pLnJlcGxhY2UoLzAqJC8sXCJcIikucmVwbGFjZSgvXFwuJC8sXCJcIikrXCIgXCIrZVtpXX19fX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3IuY29uZmlnLnRleHRBdHRyaWJ1dGVzPXtib2xkOnt0YWdOYW1lOlwic3Ryb25nXCIsaW5oZXJpdGFibGU6ITAscGFyc2VyOmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVyblwiYm9sZFwiPT09KGU9d2luZG93LmdldENvbXB1dGVkU3R5bGUodCkpLmZvbnRXZWlnaHR8fGUuZm9udFdlaWdodD49NjAwfX0saXRhbGljOnt0YWdOYW1lOlwiZW1cIixpbmhlcml0YWJsZTohMCxwYXJzZXI6ZnVuY3Rpb24odCl7cmV0dXJuXCJpdGFsaWNcIj09PXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHQpLmZvbnRTdHlsZX19LGhyZWY6e2dyb3VwVGFnTmFtZTpcImFcIixwYXJzZXI6ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gbj1cImE6bm90KFwiK3IuQXR0YWNobWVudFZpZXcuYXR0YWNobWVudFNlbGVjdG9yK1wiKVwiLChlPXIuZmluZENsb3Nlc3RFbGVtZW50RnJvbU5vZGUodCx7bWF0Y2hpbmdTZWxlY3RvcjpufSkpP2UuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTp2b2lkIDB9fSxzdHJpa2U6e3RhZ05hbWU6XCJkZWxcIixpbmhlcml0YWJsZTohMH0sZnJvemVuOntzdHlsZTp7YmFja2dyb3VuZENvbG9yOlwiaGlnaGxpZ2h0XCJ9fX19LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdCxlLG47bj1bXCJjb250ZW50ZWRpdGFibGVcIixcImRhdGEtdHJpeC1pZFwiLFwiZGF0YS10cml4LXN0b3JlLWtleVwiLFwiZGF0YS10cml4LW11dGFibGVcIixcImRhdGEtdHJpeC1wbGFjZWhvbGRlclwiLFwidGFiaW5kZXhcIl0sZT1cImRhdGEtdHJpeC1zZXJpYWxpemVkLWF0dHJpYnV0ZXNcIix0PW5ldyBSZWdFeHAoXCJcXHgzYyEtLWJsb2NrLS1cXHgzZVwiLFwiZ1wiKSxyLmV4dGVuZCh7c2VyaWFsaXplcnM6e1wiYXBwbGljYXRpb24vanNvblwiOmZ1bmN0aW9uKHQpe3ZhciBlO2lmKHQgaW5zdGFuY2VvZiByLkRvY3VtZW50KWU9dDtlbHNle2lmKCEodCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSl0aHJvdyBuZXcgRXJyb3IoXCJ1bnNlcmlhbGl6YWJsZSBvYmplY3RcIik7ZT1yLkRvY3VtZW50LmZyb21IVE1MKHQuaW5uZXJIVE1MKX1yZXR1cm4gZS50b1NlcmlhbGl6YWJsZURvY3VtZW50KCkudG9KU09OU3RyaW5nKCl9LFwidGV4dC9odG1sXCI6ZnVuY3Rpb24oaSl7dmFyIG8sYSxzLHUsYyxsLGgscCxkLGYsZyxtLHYseSxiLHgsQTtpZihpIGluc3RhbmNlb2Ygci5Eb2N1bWVudCl1PXIuRG9jdW1lbnRWaWV3LnJlbmRlcihpKTtlbHNle2lmKCEoaSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSl0aHJvdyBuZXcgRXJyb3IoXCJ1bnNlcmlhbGl6YWJsZSBvYmplY3RcIik7dT1pLmNsb25lTm9kZSghMCl9Zm9yKGM9MCxkPSh5PXUucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXRyaXgtc2VyaWFsaXplPWZhbHNlXVwiKSkubGVuZ3RoO2Q+YztjKyspcz15W2NdLHIucmVtb3ZlTm9kZShzKTtmb3IobD0wLGY9bi5sZW5ndGg7Zj5sO2wrKylmb3Iobz1uW2xdLGg9MCxnPShiPXUucXVlcnlTZWxlY3RvckFsbChcIltcIitvK1wiXVwiKSkubGVuZ3RoO2c+aDtoKyspKHM9YltoXSkucmVtb3ZlQXR0cmlidXRlKG8pO2ZvcihwPTAsbT0oeD11LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS10cml4LXNlcmlhbGl6ZWQtYXR0cmlidXRlc11cIikpLmxlbmd0aDttPnA7cCsrKXtzPXhbcF07dHJ5e2Zvcih2IGluIGE9SlNPTi5wYXJzZShzLmdldEF0dHJpYnV0ZShlKSkscy5yZW1vdmVBdHRyaWJ1dGUoZSksYSlBPWFbdl0scy5zZXRBdHRyaWJ1dGUodixBKX1jYXRjaCh0KXt9fXJldHVybiB1LmlubmVySFRNTC5yZXBsYWNlKHQsXCJcIil9fSxkZXNlcmlhbGl6ZXJzOntcImFwcGxpY2F0aW9uL2pzb25cIjpmdW5jdGlvbih0KXtyZXR1cm4gci5Eb2N1bWVudC5mcm9tSlNPTlN0cmluZyh0KX0sXCJ0ZXh0L2h0bWxcIjpmdW5jdGlvbih0KXtyZXR1cm4gci5Eb2N1bWVudC5mcm9tSFRNTCh0KX19LHNlcmlhbGl6ZVRvQ29udGVudFR5cGU6ZnVuY3Rpb24odCxlKXt2YXIgbjtpZihuPXIuc2VyaWFsaXplcnNbZV0pcmV0dXJuIG4odCk7dGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBjb250ZW50IHR5cGU6IFwiK2UpfSxkZXNlcmlhbGl6ZUZyb21Db250ZW50VHlwZTpmdW5jdGlvbih0LGUpe3ZhciBuO2lmKG49ci5kZXNlcmlhbGl6ZXJzW2VdKXJldHVybiBuKHQpO3Rocm93IG5ldyBFcnJvcihcInVua25vd24gY29udGVudCB0eXBlOiBcIitlKX19KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0O3Q9ci5jb25maWcubGFuZyxyLmNvbmZpZy50b29sYmFyPXtnZXREZWZhdWx0SFRNTDpmdW5jdGlvbigpe3JldHVybic8ZGl2IGNsYXNzPVwidHJpeC1idXR0b24tcm93XCI+XFxuICA8c3BhbiBjbGFzcz1cInRyaXgtYnV0dG9uLWdyb3VwIHRyaXgtYnV0dG9uLWdyb3VwLS10ZXh0LXRvb2xzXCIgZGF0YS10cml4LWJ1dHRvbi1ncm91cD1cInRleHQtdG9vbHNcIj5cXG4gICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJ0cml4LWJ1dHRvbiB0cml4LWJ1dHRvbi0taWNvbiB0cml4LWJ1dHRvbi0taWNvbi1ib2xkXCIgZGF0YS10cml4LWF0dHJpYnV0ZT1cImJvbGRcIiBkYXRhLXRyaXgta2V5PVwiYlwiIHRpdGxlPVwiJyt0LmJvbGQrJ1wiIHRhYmluZGV4PVwiLTFcIj4nK3QuYm9sZCsnPC9idXR0b24+XFxuICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwidHJpeC1idXR0b24gdHJpeC1idXR0b24tLWljb24gdHJpeC1idXR0b24tLWljb24taXRhbGljXCIgZGF0YS10cml4LWF0dHJpYnV0ZT1cIml0YWxpY1wiIGRhdGEtdHJpeC1rZXk9XCJpXCIgdGl0bGU9XCInK3QuaXRhbGljKydcIiB0YWJpbmRleD1cIi0xXCI+Jyt0Lml0YWxpYysnPC9idXR0b24+XFxuICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwidHJpeC1idXR0b24gdHJpeC1idXR0b24tLWljb24gdHJpeC1idXR0b24tLWljb24tc3RyaWtlXCIgZGF0YS10cml4LWF0dHJpYnV0ZT1cInN0cmlrZVwiIHRpdGxlPVwiJyt0LnN0cmlrZSsnXCIgdGFiaW5kZXg9XCItMVwiPicrdC5zdHJpa2UrJzwvYnV0dG9uPlxcbiAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInRyaXgtYnV0dG9uIHRyaXgtYnV0dG9uLS1pY29uIHRyaXgtYnV0dG9uLS1pY29uLWxpbmtcIiBkYXRhLXRyaXgtYXR0cmlidXRlPVwiaHJlZlwiIGRhdGEtdHJpeC1hY3Rpb249XCJsaW5rXCIgZGF0YS10cml4LWtleT1cImtcIiB0aXRsZT1cIicrdC5saW5rKydcIiB0YWJpbmRleD1cIi0xXCI+Jyt0LmxpbmsrJzwvYnV0dG9uPlxcbiAgPC9zcGFuPlxcblxcbiAgPHNwYW4gY2xhc3M9XCJ0cml4LWJ1dHRvbi1ncm91cCB0cml4LWJ1dHRvbi1ncm91cC0tYmxvY2stdG9vbHNcIiBkYXRhLXRyaXgtYnV0dG9uLWdyb3VwPVwiYmxvY2stdG9vbHNcIj5cXG4gICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJ0cml4LWJ1dHRvbiB0cml4LWJ1dHRvbi0taWNvbiB0cml4LWJ1dHRvbi0taWNvbi1oZWFkaW5nLTFcIiBkYXRhLXRyaXgtYXR0cmlidXRlPVwiaGVhZGluZzFcIiB0aXRsZT1cIicrdC5oZWFkaW5nMSsnXCIgdGFiaW5kZXg9XCItMVwiPicrdC5oZWFkaW5nMSsnPC9idXR0b24+XFxuICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwidHJpeC1idXR0b24gdHJpeC1idXR0b24tLWljb24gdHJpeC1idXR0b24tLWljb24tcXVvdGVcIiBkYXRhLXRyaXgtYXR0cmlidXRlPVwicXVvdGVcIiB0aXRsZT1cIicrdC5xdW90ZSsnXCIgdGFiaW5kZXg9XCItMVwiPicrdC5xdW90ZSsnPC9idXR0b24+XFxuICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwidHJpeC1idXR0b24gdHJpeC1idXR0b24tLWljb24gdHJpeC1idXR0b24tLWljb24tY29kZVwiIGRhdGEtdHJpeC1hdHRyaWJ1dGU9XCJjb2RlXCIgdGl0bGU9XCInK3QuY29kZSsnXCIgdGFiaW5kZXg9XCItMVwiPicrdC5jb2RlKyc8L2J1dHRvbj5cXG4gICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJ0cml4LWJ1dHRvbiB0cml4LWJ1dHRvbi0taWNvbiB0cml4LWJ1dHRvbi0taWNvbi1idWxsZXQtbGlzdFwiIGRhdGEtdHJpeC1hdHRyaWJ1dGU9XCJidWxsZXRcIiB0aXRsZT1cIicrdC5idWxsZXRzKydcIiB0YWJpbmRleD1cIi0xXCI+Jyt0LmJ1bGxldHMrJzwvYnV0dG9uPlxcbiAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInRyaXgtYnV0dG9uIHRyaXgtYnV0dG9uLS1pY29uIHRyaXgtYnV0dG9uLS1pY29uLW51bWJlci1saXN0XCIgZGF0YS10cml4LWF0dHJpYnV0ZT1cIm51bWJlclwiIHRpdGxlPVwiJyt0Lm51bWJlcnMrJ1wiIHRhYmluZGV4PVwiLTFcIj4nK3QubnVtYmVycysnPC9idXR0b24+XFxuICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwidHJpeC1idXR0b24gdHJpeC1idXR0b24tLWljb24gdHJpeC1idXR0b24tLWljb24tZGVjcmVhc2UtbmVzdGluZy1sZXZlbFwiIGRhdGEtdHJpeC1hY3Rpb249XCJkZWNyZWFzZU5lc3RpbmdMZXZlbFwiIHRpdGxlPVwiJyt0Lm91dGRlbnQrJ1wiIHRhYmluZGV4PVwiLTFcIj4nK3Qub3V0ZGVudCsnPC9idXR0b24+XFxuICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwidHJpeC1idXR0b24gdHJpeC1idXR0b24tLWljb24gdHJpeC1idXR0b24tLWljb24taW5jcmVhc2UtbmVzdGluZy1sZXZlbFwiIGRhdGEtdHJpeC1hY3Rpb249XCJpbmNyZWFzZU5lc3RpbmdMZXZlbFwiIHRpdGxlPVwiJyt0LmluZGVudCsnXCIgdGFiaW5kZXg9XCItMVwiPicrdC5pbmRlbnQrJzwvYnV0dG9uPlxcbiAgPC9zcGFuPlxcblxcbiAgPHNwYW4gY2xhc3M9XCJ0cml4LWJ1dHRvbi1ncm91cCB0cml4LWJ1dHRvbi1ncm91cC0tZmlsZS10b29sc1wiIGRhdGEtdHJpeC1idXR0b24tZ3JvdXA9XCJmaWxlLXRvb2xzXCI+XFxuICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwidHJpeC1idXR0b24gdHJpeC1idXR0b24tLWljb24gdHJpeC1idXR0b24tLWljb24tYXR0YWNoXCIgZGF0YS10cml4LWFjdGlvbj1cImF0dGFjaEZpbGVzXCIgdGl0bGU9XCInK3QuYXR0YWNoRmlsZXMrJ1wiIHRhYmluZGV4PVwiLTFcIj4nK3QuYXR0YWNoRmlsZXMrJzwvYnV0dG9uPlxcbiAgPC9zcGFuPlxcblxcbiAgPHNwYW4gY2xhc3M9XCJ0cml4LWJ1dHRvbi1ncm91cC1zcGFjZXJcIj48L3NwYW4+XFxuXFxuICA8c3BhbiBjbGFzcz1cInRyaXgtYnV0dG9uLWdyb3VwIHRyaXgtYnV0dG9uLWdyb3VwLS1oaXN0b3J5LXRvb2xzXCIgZGF0YS10cml4LWJ1dHRvbi1ncm91cD1cImhpc3RvcnktdG9vbHNcIj5cXG4gICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJ0cml4LWJ1dHRvbiB0cml4LWJ1dHRvbi0taWNvbiB0cml4LWJ1dHRvbi0taWNvbi11bmRvXCIgZGF0YS10cml4LWFjdGlvbj1cInVuZG9cIiBkYXRhLXRyaXgta2V5PVwielwiIHRpdGxlPVwiJyt0LnVuZG8rJ1wiIHRhYmluZGV4PVwiLTFcIj4nK3QudW5kbysnPC9idXR0b24+XFxuICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwidHJpeC1idXR0b24gdHJpeC1idXR0b24tLWljb24gdHJpeC1idXR0b24tLWljb24tcmVkb1wiIGRhdGEtdHJpeC1hY3Rpb249XCJyZWRvXCIgZGF0YS10cml4LWtleT1cInNoaWZ0K3pcIiB0aXRsZT1cIicrdC5yZWRvKydcIiB0YWJpbmRleD1cIi0xXCI+Jyt0LnJlZG8rJzwvYnV0dG9uPlxcbiAgPC9zcGFuPlxcbjwvZGl2PlxcblxcbjxkaXYgY2xhc3M9XCJ0cml4LWRpYWxvZ3NcIiBkYXRhLXRyaXgtZGlhbG9ncz5cXG4gIDxkaXYgY2xhc3M9XCJ0cml4LWRpYWxvZyB0cml4LWRpYWxvZy0tbGlua1wiIGRhdGEtdHJpeC1kaWFsb2c9XCJocmVmXCIgZGF0YS10cml4LWRpYWxvZy1hdHRyaWJ1dGU9XCJocmVmXCI+XFxuICAgIDxkaXYgY2xhc3M9XCJ0cml4LWRpYWxvZ19fbGluay1maWVsZHNcIj5cXG4gICAgICA8aW5wdXQgdHlwZT1cInVybFwiIG5hbWU9XCJocmVmXCIgY2xhc3M9XCJ0cml4LWlucHV0IHRyaXgtaW5wdXQtLWRpYWxvZ1wiIHBsYWNlaG9sZGVyPVwiJyt0LnVybFBsYWNlaG9sZGVyKydcIiBhcmlhLWxhYmVsPVwiJyt0LnVybCsnXCIgcmVxdWlyZWQgZGF0YS10cml4LWlucHV0PlxcbiAgICAgIDxkaXYgY2xhc3M9XCJ0cml4LWJ1dHRvbi1ncm91cFwiPlxcbiAgICAgICAgPGlucHV0IHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInRyaXgtYnV0dG9uIHRyaXgtYnV0dG9uLS1kaWFsb2dcIiB2YWx1ZT1cIicrdC5saW5rKydcIiBkYXRhLXRyaXgtbWV0aG9kPVwic2V0QXR0cmlidXRlXCI+XFxuICAgICAgICA8aW5wdXQgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwidHJpeC1idXR0b24gdHJpeC1idXR0b24tLWRpYWxvZ1wiIHZhbHVlPVwiJyt0LnVubGluaysnXCIgZGF0YS10cml4LW1ldGhvZD1cInJlbW92ZUF0dHJpYnV0ZVwiPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gIDwvZGl2PlxcbjwvZGl2Pid9fX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3IuY29uZmlnLnVuZG9JbnRlcnZhbD01ZTN9LmNhbGwodGhpcyksZnVuY3Rpb24oKXtyLmNvbmZpZy5hdHRhY2htZW50cz17cHJldmlldzp7cHJlc2VudGF0aW9uOlwiZ2FsbGVyeVwiLGNhcHRpb246e25hbWU6ITAsc2l6ZTohMH19LGZpbGU6e2NhcHRpb246e3NpemU6ITB9fX19LmNhbGwodGhpcyksZnVuY3Rpb24oKXtyLmNvbmZpZy5rZXlOYW1lcz17ODpcImJhY2tzcGFjZVwiLDk6XCJ0YWJcIiwxMzpcInJldHVyblwiLDI3OlwiZXNjYXBlXCIsMzc6XCJsZWZ0XCIsMzk6XCJyaWdodFwiLDQ2OlwiZGVsZXRlXCIsNjg6XCJkXCIsNzI6XCJoXCIsNzk6XCJvXCJ9fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7ci5jb25maWcuaW5wdXQ9e2xldmVsMkVuYWJsZWQ6ITAsZ2V0TGV2ZWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZXZlbDJFbmFibGVkJiZyLmJyb3dzZXIuc3VwcG9ydHNJbnB1dEV2ZW50cz8yOjB9LHBpY2tGaWxlczpmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4oZT1yLm1ha2VFbGVtZW50KFwiaW5wdXRcIix7dHlwZTpcImZpbGVcIixtdWx0aXBsZTohMCxoaWRkZW46ITAsaWQ6dGhpcy5maWxlSW5wdXRJZH0pKS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHQoZS5maWxlcyksci5yZW1vdmVOb2RlKGUpfSkpLHIucmVtb3ZlTm9kZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmZpbGVJbnB1dElkKSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlKSxlLmNsaWNrKCl9LGZpbGVJbnB1dElkOlwidHJpeC1maWxlLWlucHV0LVwiK0RhdGUubm93KCkudG9TdHJpbmcoMTYpfX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe30uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3IucmVnaXN0ZXJFbGVtZW50KFwidHJpeC10b29sYmFyXCIse2RlZmF1bHRDU1M6XCIldCB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuXFxuJXQge1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG59XFxuXFxuJXQgW2RhdGEtdHJpeC1kaWFsb2ddIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbiV0IFtkYXRhLXRyaXgtZGlhbG9nXVtkYXRhLXRyaXgtYWN0aXZlXSB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuXFxuJXQgW2RhdGEtdHJpeC1kaWFsb2ddIFtkYXRhLXRyaXgtdmFsaWRhdGVdOmludmFsaWQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZGRkZDtcXG59XCIsaW5pdGlhbGl6ZTpmdW5jdGlvbigpe3JldHVyblwiXCI9PT10aGlzLmlubmVySFRNTD90aGlzLmlubmVySFRNTD1yLmNvbmZpZy50b29sYmFyLmdldERlZmF1bHRIVE1MKCk6dm9pZCAwfX0pfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24odCxuKXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgaSBpbiBuKWUuY2FsbChuLGkpJiYodFtpXT1uW2ldKTtyZXR1cm4gci5wcm90b3R5cGU9bi5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IHIsdC5fX3N1cGVyX189bi5wcm90b3R5cGUsdH0sZT17fS5oYXNPd25Qcm9wZXJ0eSxuPVtdLmluZGV4T2Z8fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5sZW5ndGg7bj5lO2UrKylpZihlIGluIHRoaXMmJnRoaXNbZV09PT10KXJldHVybiBlO3JldHVybi0xfTtyLk9iamVjdFZpZXc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaSh0LGUpe3RoaXMub2JqZWN0PXQsdGhpcy5vcHRpb25zPW51bGwhPWU/ZTp7fSx0aGlzLmNoaWxkVmlld3M9W10sdGhpcy5yb290Vmlldz10aGlzfXJldHVybiB0KGksZSksaS5wcm90b3R5cGUuZ2V0Tm9kZXM9ZnVuY3Rpb24oKXt2YXIgdCxlLG4scixpO2ZvcihudWxsPT10aGlzLm5vZGVzJiYodGhpcy5ub2Rlcz10aGlzLmNyZWF0ZU5vZGVzKCkpLGk9W10sdD0wLGU9KHI9dGhpcy5ub2RlcykubGVuZ3RoO2U+dDt0Kyspbj1yW3RdLGkucHVzaChuLmNsb25lTm9kZSghMCkpO3JldHVybiBpfSxpLnByb3RvdHlwZS5pbnZhbGlkYXRlPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHRoaXMubm9kZXM9bnVsbCx0aGlzLmNoaWxkVmlld3M9W10sbnVsbCE9KHQ9dGhpcy5wYXJlbnRWaWV3KT90LmludmFsaWRhdGUoKTp2b2lkIDB9LGkucHJvdG90eXBlLmludmFsaWRhdGVWaWV3Rm9yT2JqZWN0PWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBudWxsIT0oZT10aGlzLmZpbmRWaWV3Rm9yT2JqZWN0KHQpKT9lLmludmFsaWRhdGUoKTp2b2lkIDB9LGkucHJvdG90eXBlLmZpbmRPckNyZWF0ZUNhY2hlZENoaWxkVmlldz1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybihuPXRoaXMuZ2V0Q2FjaGVkVmlld0Zvck9iamVjdChlKSk/dGhpcy5yZWNvcmRDaGlsZFZpZXcobik6KG49dGhpcy5jcmVhdGVDaGlsZFZpZXcuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuY2FjaGVWaWV3Rm9yT2JqZWN0KG4sZSkpLG59LGkucHJvdG90eXBlLmNyZWF0ZUNoaWxkVmlldz1mdW5jdGlvbih0LGUsbil7dmFyIGk7cmV0dXJuIG51bGw9PW4mJihuPXt9KSxlIGluc3RhbmNlb2Ygci5PYmplY3RHcm91cCYmKG4udmlld0NsYXNzPXQsdD1yLk9iamVjdEdyb3VwVmlldyksaT1uZXcgdChlLG4pLHRoaXMucmVjb3JkQ2hpbGRWaWV3KGkpfSxpLnByb3RvdHlwZS5yZWNvcmRDaGlsZFZpZXc9ZnVuY3Rpb24odCl7cmV0dXJuIHQucGFyZW50Vmlldz10aGlzLHQucm9vdFZpZXc9dGhpcy5yb290Vmlldyx0aGlzLmNoaWxkVmlld3MucHVzaCh0KSx0fSxpLnByb3RvdHlwZS5nZXRBbGxDaGlsZFZpZXdzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLHIsaTtmb3IoaT1bXSxlPTAsbj0ocj10aGlzLmNoaWxkVmlld3MpLmxlbmd0aDtuPmU7ZSsrKXQ9cltlXSxpLnB1c2godCksaT1pLmNvbmNhdCh0LmdldEFsbENoaWxkVmlld3MoKSk7cmV0dXJuIGl9LGkucHJvdG90eXBlLmZpbmRFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmluZEVsZW1lbnRGb3JPYmplY3QodGhpcy5vYmplY3QpfSxpLnByb3RvdHlwZS5maW5kRWxlbWVudEZvck9iamVjdD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4oZT1udWxsIT10P3QuaWQ6dm9pZCAwKT90aGlzLnJvb3RWaWV3LmVsZW1lbnQucXVlcnlTZWxlY3RvcihcIltkYXRhLXRyaXgtaWQ9J1wiK2UrXCInXVwiKTp2b2lkIDB9LGkucHJvdG90eXBlLmZpbmRWaWV3Rm9yT2JqZWN0PWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpO2ZvcihlPTAsbj0ocj10aGlzLmdldEFsbENoaWxkVmlld3MoKSkubGVuZ3RoO24+ZTtlKyspaWYoKGk9cltlXSkub2JqZWN0PT09dClyZXR1cm4gaX0saS5wcm90b3R5cGUuZ2V0Vmlld0NhY2hlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm9vdFZpZXchPT10aGlzP3RoaXMucm9vdFZpZXcuZ2V0Vmlld0NhY2hlKCk6dGhpcy5pc1ZpZXdDYWNoaW5nRW5hYmxlZCgpP251bGwhPXRoaXMudmlld0NhY2hlP3RoaXMudmlld0NhY2hlOnRoaXMudmlld0NhY2hlPXt9OnZvaWQgMH0saS5wcm90b3R5cGUuaXNWaWV3Q2FjaGluZ0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMSE9PXRoaXMuc2hvdWxkQ2FjaGVWaWV3c30saS5wcm90b3R5cGUuZW5hYmxlVmlld0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaG91bGRDYWNoZVZpZXdzPSEwfSxpLnByb3RvdHlwZS5kaXNhYmxlVmlld0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaG91bGRDYWNoZVZpZXdzPSExfSxpLnByb3RvdHlwZS5nZXRDYWNoZWRWaWV3Rm9yT2JqZWN0PWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBudWxsIT0oZT10aGlzLmdldFZpZXdDYWNoZSgpKT9lW3QuZ2V0Q2FjaGVLZXkoKV06dm9pZCAwfSxpLnByb3RvdHlwZS5jYWNoZVZpZXdGb3JPYmplY3Q9ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gbnVsbCE9KG49dGhpcy5nZXRWaWV3Q2FjaGUoKSk/bltlLmdldENhY2hlS2V5KCldPXQ6dm9pZCAwfSxpLnByb3RvdHlwZS5nYXJiYWdlQ29sbGVjdENhY2hlZFZpZXdzPWZ1bmN0aW9uKCl7dmFyIHQsZSxyLGksbyxhO2lmKHQ9dGhpcy5nZXRWaWV3Q2FjaGUoKSl7Zm9yKGUgaW4gYT10aGlzLmdldEFsbENoaWxkVmlld3MoKS5jb25jYXQodGhpcykscj1mdW5jdGlvbigpe3ZhciB0LGUsbjtmb3Iobj1bXSx0PTAsZT1hLmxlbmd0aDtlPnQ7dCsrKW89YVt0XSxuLnB1c2goby5vYmplY3QuZ2V0Q2FjaGVLZXkoKSk7cmV0dXJuIG59KCksaT1bXSx0KW4uY2FsbChyLGUpPDAmJmkucHVzaChkZWxldGUgdFtlXSk7cmV0dXJuIGl9fSxpfShyLkJhc2ljT2JqZWN0KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIGkgaW4gbillLmNhbGwobixpKSYmKHRbaV09bltpXSk7cmV0dXJuIHIucHJvdG90eXBlPW4ucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyByLHQuX19zdXBlcl9fPW4ucHJvdG90eXBlLHR9LGU9e30uaGFzT3duUHJvcGVydHk7ci5PYmplY3RHcm91cFZpZXc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbigpe24uX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLm9iamVjdEdyb3VwPXRoaXMub2JqZWN0LHRoaXMudmlld0NsYXNzPXRoaXMub3B0aW9ucy52aWV3Q2xhc3MsZGVsZXRlIHRoaXMub3B0aW9ucy52aWV3Q2xhc3N9cmV0dXJuIHQobixlKSxuLnByb3RvdHlwZS5nZXRDaGlsZFZpZXdzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLHI7aWYoIXRoaXMuY2hpbGRWaWV3cy5sZW5ndGgpZm9yKHQ9MCxlPShyPXRoaXMub2JqZWN0R3JvdXAuZ2V0T2JqZWN0cygpKS5sZW5ndGg7ZT50O3QrKyluPXJbdF0sdGhpcy5maW5kT3JDcmVhdGVDYWNoZWRDaGlsZFZpZXcodGhpcy52aWV3Q2xhc3Msbix0aGlzLm9wdGlvbnMpO3JldHVybiB0aGlzLmNoaWxkVmlld3N9LG4ucHJvdG90eXBlLmNyZWF0ZU5vZGVzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLHIsaSxvLGEscztmb3IodD10aGlzLmNyZWF0ZUNvbnRhaW5lckVsZW1lbnQoKSxlPTAscj0oYT10aGlzLmdldENoaWxkVmlld3MoKSkubGVuZ3RoO3I+ZTtlKyspZm9yKG49MCxpPShzPWFbZV0uZ2V0Tm9kZXMoKSkubGVuZ3RoO2k+bjtuKyspbz1zW25dLHQuYXBwZW5kQ2hpbGQobyk7cmV0dXJuW3RdfSxuLnByb3RvdHlwZS5jcmVhdGVDb250YWluZXJFbGVtZW50PWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10JiYodD10aGlzLm9iamVjdEdyb3VwLmdldERlcHRoKCkpLHRoaXMuZ2V0Q2hpbGRWaWV3cygpWzBdLmNyZWF0ZUNvbnRhaW5lckVsZW1lbnQodCl9LG59KHIuT2JqZWN0Vmlldyl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbih0LG4pe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciBpIGluIG4pZS5jYWxsKG4saSkmJih0W2ldPW5baV0pO3JldHVybiByLnByb3RvdHlwZT1uLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgcix0Ll9fc3VwZXJfXz1uLnByb3RvdHlwZSx0fSxlPXt9Lmhhc093blByb3BlcnR5O3IuQ29udHJvbGxlcj1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKCl7cmV0dXJuIG4uX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gdChuLGUpLG59KHIuQmFzaWNPYmplY3QpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQsZSxuLGksbyxhLHM9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKXUuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gbi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IG4sdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH0sdT17fS5oYXNPd25Qcm9wZXJ0eSxjPVtdLmluZGV4T2Z8fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5sZW5ndGg7bj5lO2UrKylpZihlIGluIHRoaXMmJnRoaXNbZV09PT10KXJldHVybiBlO3JldHVybi0xfTt0PXIuZmluZENsb3Nlc3RFbGVtZW50RnJvbU5vZGUsbj1yLm5vZGVJc0VtcHR5VGV4dE5vZGUsZT1yLm5vZGVJc0Jsb2NrU3RhcnRDb21tZW50LGk9ci5ub3JtYWxpemVTcGFjZXMsbz1yLnN1bW1hcml6ZVN0cmluZ0NoYW5nZSxhPXIudGFnTmFtZSxyLk11dGF0aW9uT2JzZXJ2ZXI9ZnVuY3Rpb24ocil7ZnVuY3Rpb24gdSh0KXt0aGlzLmVsZW1lbnQ9dCx0aGlzLmRpZE11dGF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19KHRoaXMuZGlkTXV0YXRlLHRoaXMpLHRoaXMub2JzZXJ2ZXI9bmV3IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyKHRoaXMuZGlkTXV0YXRlKSx0aGlzLnN0YXJ0KCl9dmFyIGwsaCxwO3JldHVybiBzKHUsciksXCJbXCIrKGg9XCJkYXRhLXRyaXgtbXV0YWJsZVwiKStcIl1cIixwPXthdHRyaWJ1dGVzOiEwLGNoaWxkTGlzdDohMCxjaGFyYWN0ZXJEYXRhOiEwLGNoYXJhY3RlckRhdGFPbGRWYWx1ZTohMCxzdWJ0cmVlOiEwfSx1LnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc2V0KCksdGhpcy5vYnNlcnZlci5vYnNlcnZlKHRoaXMuZWxlbWVudCxwKX0sdS5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKX0sdS5wcm90b3R5cGUuZGlkTXV0YXRlPWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuKGU9dGhpcy5tdXRhdGlvbnMpLnB1c2guYXBwbHkoZSx0aGlzLmZpbmRTaWduaWZpY2FudE11dGF0aW9ucyh0KSksdGhpcy5tdXRhdGlvbnMubGVuZ3RoPyhudWxsIT0obj10aGlzLmRlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5lbGVtZW50RGlkTXV0YXRlJiZuLmVsZW1lbnREaWRNdXRhdGUodGhpcy5nZXRNdXRhdGlvblN1bW1hcnkoKSksdGhpcy5yZXNldCgpKTp2b2lkIDB9LHUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubXV0YXRpb25zPVtdfSx1LnByb3RvdHlwZS5maW5kU2lnbmlmaWNhbnRNdXRhdGlvbnM9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGk7Zm9yKGk9W10sZT0wLG49dC5sZW5ndGg7bj5lO2UrKylyPXRbZV0sdGhpcy5tdXRhdGlvbklzU2lnbmlmaWNhbnQocikmJmkucHVzaChyKTtyZXR1cm4gaX0sdS5wcm90b3R5cGUubXV0YXRpb25Jc1NpZ25pZmljYW50PWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpO2lmKHRoaXMubm9kZUlzTXV0YWJsZSh0LnRhcmdldCkpcmV0dXJuITE7Zm9yKGU9MCxuPShpPXRoaXMubm9kZXNNb2RpZmllZEJ5TXV0YXRpb24odCkpLmxlbmd0aDtuPmU7ZSsrKWlmKHI9aVtlXSx0aGlzLm5vZGVJc1NpZ25pZmljYW50KHIpKXJldHVybiEwO3JldHVybiExfSx1LnByb3RvdHlwZS5ub2RlSXNTaWduaWZpY2FudD1mdW5jdGlvbih0KXtyZXR1cm4gdCE9PXRoaXMuZWxlbWVudCYmIXRoaXMubm9kZUlzTXV0YWJsZSh0KSYmIW4odCl9LHUucHJvdG90eXBlLm5vZGVJc011dGFibGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSx7bWF0Y2hpbmdTZWxlY3RvcjpcIltkYXRhLXRyaXgtbXV0YWJsZV1cIn0pfSx1LnByb3RvdHlwZS5ub2Rlc01vZGlmaWVkQnlNdXRhdGlvbj1mdW5jdGlvbih0KXt2YXIgZTtzd2l0Y2goZT1bXSx0LnR5cGUpe2Nhc2VcImF0dHJpYnV0ZXNcIjp0LmF0dHJpYnV0ZU5hbWUhPT1oJiZlLnB1c2godC50YXJnZXQpO2JyZWFrO2Nhc2VcImNoYXJhY3RlckRhdGFcIjplLnB1c2godC50YXJnZXQucGFyZW50Tm9kZSksZS5wdXNoKHQudGFyZ2V0KTticmVhaztjYXNlXCJjaGlsZExpc3RcIjplLnB1c2guYXBwbHkoZSx0LmFkZGVkTm9kZXMpLGUucHVzaC5hcHBseShlLHQucmVtb3ZlZE5vZGVzKX1yZXR1cm4gZX0sdS5wcm90b3R5cGUuZ2V0TXV0YXRpb25TdW1tYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VGV4dE11dGF0aW9uU3VtbWFyeSgpfSx1LnByb3RvdHlwZS5nZXRUZXh0TXV0YXRpb25TdW1tYXJ5PWZ1bmN0aW9uKCl7dmFyIHQsZSxuLHIsaSxvLGEscyx1LGwsaDtmb3Iobj0ocz10aGlzLmdldFRleHRDaGFuZ2VzRnJvbUNoYXJhY3RlckRhdGEoKSkuYWRkaXRpb25zLGk9cy5kZWxldGlvbnMsbz0wLGE9KHU9KGg9dGhpcy5nZXRUZXh0Q2hhbmdlc0Zyb21DaGlsZExpc3QoKSkuYWRkaXRpb25zKS5sZW5ndGg7YT5vO28rKyllPXVbb10sYy5jYWxsKG4sZSk8MCYmbi5wdXNoKGUpO3JldHVybiBpLnB1c2guYXBwbHkoaSxoLmRlbGV0aW9ucyksbD17fSwodD1uLmpvaW4oXCJcIikpJiYobC50ZXh0QWRkZWQ9dCksKHI9aS5qb2luKFwiXCIpKSYmKGwudGV4dERlbGV0ZWQ9ciksbH0sdS5wcm90b3R5cGUuZ2V0TXV0YXRpb25zQnlUeXBlPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLG87Zm9yKG89W10sZT0wLG49KGk9dGhpcy5tdXRhdGlvbnMpLmxlbmd0aDtuPmU7ZSsrKShyPWlbZV0pLnR5cGU9PT10JiZvLnB1c2gocik7cmV0dXJuIG99LHUucHJvdG90eXBlLmdldFRleHRDaGFuZ2VzRnJvbUNoaWxkTGlzdD1mdW5jdGlvbigpe3ZhciB0LG4scixvLGEscyx1LGMsaCxwO2Zvcih0PVtdLHU9W10sbj0wLG89KHM9dGhpcy5nZXRNdXRhdGlvbnNCeVR5cGUoXCJjaGlsZExpc3RcIikpLmxlbmd0aDtvPm47bisrKWE9c1tuXSx0LnB1c2guYXBwbHkodCxhLmFkZGVkTm9kZXMpLHUucHVzaC5hcHBseSh1LGEucmVtb3ZlZE5vZGVzKTtyZXR1cm4gMD09PXQubGVuZ3RoJiYxPT09dS5sZW5ndGgmJmUodVswXSk/KGg9W10scD1bXCJcXG5cIl0pOihoPWwodCkscD1sKHUpKSx7YWRkaXRpb25zOmZ1bmN0aW9uKCl7dmFyIHQsZSxuO2ZvcihuPVtdLHI9dD0wLGU9aC5sZW5ndGg7ZT50O3I9Kyt0KShjPWhbcl0pIT09cFtyXSYmbi5wdXNoKGkoYykpO3JldHVybiBufSgpLGRlbGV0aW9uczpmdW5jdGlvbigpe3ZhciB0LGUsbjtmb3Iobj1bXSxyPXQ9MCxlPXAubGVuZ3RoO2U+dDtyPSsrdCkoYz1wW3JdKSE9PWhbcl0mJm4ucHVzaChpKGMpKTtyZXR1cm4gbn0oKX19LHUucHJvdG90eXBlLmdldFRleHRDaGFuZ2VzRnJvbUNoYXJhY3RlckRhdGE9ZnVuY3Rpb24oKXt2YXIgdCxlLG4scixhLHMsdSxjO3JldHVybihlPXRoaXMuZ2V0TXV0YXRpb25zQnlUeXBlKFwiY2hhcmFjdGVyRGF0YVwiKSkubGVuZ3RoJiYoYz1lWzBdLG49ZVtlLmxlbmd0aC0xXSxhPWkoYy5vbGRWYWx1ZSkscj1pKG4udGFyZ2V0LmRhdGEpLHQ9KHM9byhhLHIpKS5hZGRlZCx1PXMucmVtb3ZlZCkse2FkZGl0aW9uczp0P1t0XTpbXSxkZWxldGlvbnM6dT9bdV06W119fSxsPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpO2ZvcihudWxsPT10JiYodD1bXSksaT1bXSxlPTAsbj10Lmxlbmd0aDtuPmU7ZSsrKXN3aXRjaChyPXRbZV0sci5ub2RlVHlwZSl7Y2FzZSBOb2RlLlRFWFRfTk9ERTppLnB1c2goci5kYXRhKTticmVhaztjYXNlIE5vZGUuRUxFTUVOVF9OT0RFOlwiYnJcIj09PWEocik/aS5wdXNoKFwiXFxuXCIpOmkucHVzaC5hcHBseShpLGwoci5jaGlsZE5vZGVzKSl9cmV0dXJuIGl9LHV9KHIuQmFzaWNPYmplY3QpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24odCxuKXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgaSBpbiBuKWUuY2FsbChuLGkpJiYodFtpXT1uW2ldKTtyZXR1cm4gci5wcm90b3R5cGU9bi5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IHIsdC5fX3N1cGVyX189bi5wcm90b3R5cGUsdH0sZT17fS5oYXNPd25Qcm9wZXJ0eTtyLkZpbGVWZXJpZmljYXRpb25PcGVyYXRpb249ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbih0KXt0aGlzLmZpbGU9dH1yZXR1cm4gdChuLGUpLG4ucHJvdG90eXBlLnBlcmZvcm09ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuKGU9bmV3IEZpbGVSZWFkZXIpLm9uZXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdCghMSl9LGUub25sb2FkPWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbigpe2Uub25lcnJvcj1udWxsO3RyeXtlLmFib3J0KCl9Y2F0Y2godCl7fXJldHVybiB0KCEwLG4uZmlsZSl9fSh0aGlzKSxlLnJlYWRBc0FycmF5QnVmZmVyKHRoaXMuZmlsZSl9LG59KHIuT3BlcmF0aW9uKX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0LGUsbj1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpaS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiBuLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbix0Ll9fc3VwZXJfXz1lLnByb3RvdHlwZSx0fSxpPXt9Lmhhc093blByb3BlcnR5O3Q9ci5oYW5kbGVFdmVudCxlPXIuaW5uZXJFbGVtZW50SXNBY3RpdmUsci5JbnB1dENvbnRyb2xsZXI9ZnVuY3Rpb24oaSl7ZnVuY3Rpb24gbyhlKXt2YXIgbjtmb3IobiBpbiB0aGlzLmVsZW1lbnQ9ZSx0aGlzLm11dGF0aW9uT2JzZXJ2ZXI9bmV3IHIuTXV0YXRpb25PYnNlcnZlcih0aGlzLmVsZW1lbnQpLHRoaXMubXV0YXRpb25PYnNlcnZlci5kZWxlZ2F0ZT10aGlzLHRoaXMuZXZlbnRzKXQobix7b25FbGVtZW50OnRoaXMuZWxlbWVudCx3aXRoQ2FsbGJhY2s6dGhpcy5oYW5kbGVyRm9yKG4pfSl9cmV0dXJuIG4obyxpKSxvLnByb3RvdHlwZS5ldmVudHM9e30sby5wcm90b3R5cGUuZWxlbWVudERpZE11dGF0ZT1mdW5jdGlvbigpe30sby5wcm90b3R5cGUuZWRpdG9yV2lsbFN5bmNEb2N1bWVudFZpZXc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tdXRhdGlvbk9ic2VydmVyLnN0b3AoKX0sby5wcm90b3R5cGUuZWRpdG9yRGlkU3luY0RvY3VtZW50Vmlldz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIuc3RhcnQoKX0sby5wcm90b3R5cGUucmVxdWVzdFJlbmRlcj1mdW5jdGlvbigpe3ZhciB0O3JldHVybiBudWxsIT0odD10aGlzLmRlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5pbnB1dENvbnRyb2xsZXJEaWRSZXF1ZXN0UmVuZGVyP3QuaW5wdXRDb250cm9sbGVyRGlkUmVxdWVzdFJlbmRlcigpOnZvaWQgMH0sby5wcm90b3R5cGUucmVxdWVzdFJlcGFyc2U9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gbnVsbCE9KHQ9dGhpcy5kZWxlZ2F0ZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuaW5wdXRDb250cm9sbGVyRGlkUmVxdWVzdFJlcGFyc2UmJnQuaW5wdXRDb250cm9sbGVyRGlkUmVxdWVzdFJlcGFyc2UoKSx0aGlzLnJlcXVlc3RSZW5kZXIoKX0sby5wcm90b3R5cGUuYXR0YWNoRmlsZXM9ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gbj1mdW5jdGlvbigpe3ZhciBuLGksbztmb3Iobz1bXSxuPTAsaT10Lmxlbmd0aDtpPm47bisrKWU9dFtuXSxvLnB1c2gobmV3IHIuRmlsZVZlcmlmaWNhdGlvbk9wZXJhdGlvbihlKSk7cmV0dXJuIG99KCksUHJvbWlzZS5hbGwobikudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQuaGFuZGxlSW5wdXQoKGZ1bmN0aW9uKCl7dmFyIHQsbjtyZXR1cm4gbnVsbCE9KHQ9dGhpcy5kZWxlZ2F0ZSkmJnQuaW5wdXRDb250cm9sbGVyV2lsbEF0dGFjaEZpbGVzKCksbnVsbCE9KG49dGhpcy5yZXNwb25kZXIpJiZuLmluc2VydEZpbGVzKGUpLHRoaXMucmVxdWVzdFJlbmRlcigpfSkpfX0odGhpcykpfSxvLnByb3RvdHlwZS5oYW5kbGVyRm9yPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHIuZGVmYXVsdFByZXZlbnRlZD92b2lkIDA6bi5oYW5kbGVJbnB1dCgoZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLmVsZW1lbnQpP3ZvaWQgMDoodGhpcy5ldmVudE5hbWU9dCx0aGlzLmV2ZW50c1t0XS5jYWxsKHRoaXMscikpfSkpfX0odGhpcyl9LG8ucHJvdG90eXBlLmhhbmRsZUlucHV0PWZ1bmN0aW9uKHQpe3ZhciBlLG47dHJ5e3JldHVybiBudWxsIT0oZT10aGlzLmRlbGVnYXRlKSYmZS5pbnB1dENvbnRyb2xsZXJXaWxsSGFuZGxlSW5wdXQoKSx0LmNhbGwodGhpcyl9ZmluYWxseXtudWxsIT0obj10aGlzLmRlbGVnYXRlKSYmbi5pbnB1dENvbnRyb2xsZXJEaWRIYW5kbGVJbnB1dCgpfX0sb30oci5CYXNpY09iamVjdCl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxvLGEscyx1LGMsbCxoLHAsZD1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZi5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiBuLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbix0Ll9fc3VwZXJfXz1lLnByb3RvdHlwZSx0fSxmPXt9Lmhhc093blByb3BlcnR5LGc9W10uaW5kZXhPZnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLmxlbmd0aDtuPmU7ZSsrKWlmKGUgaW4gdGhpcyYmdGhpc1tlXT09PXQpcmV0dXJuIGU7cmV0dXJuLTF9O2M9ci5tYWtlRWxlbWVudCxsPXIub2JqZWN0c0FyZUVxdWFsLHIudGFnTmFtZSxlPXIuYnJvd3NlcixzPXIua2V5RXZlbnRJc0tleWJvYXJkQ29tbWFuZCxpPXIuZGF0YVRyYW5zZmVySXNXcml0YWJsZSxuPXIuZGF0YVRyYW5zZmVySXNQbGFpblRleHQsdT1yLmNvbmZpZy5rZXlOYW1lcyxyLkxldmVsMElucHV0Q29udHJvbGxlcj1mdW5jdGlvbihlKXtmdW5jdGlvbiBhKCl7YS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMucmVzZXRJbnB1dFN1bW1hcnkoKX12YXIgZjtyZXR1cm4gZChhLGUpLGY9MCxhLnByb3RvdHlwZS5zZXRJbnB1dFN1bW1hcnk9ZnVuY3Rpb24odCl7dmFyIGUsbjtmb3IoZSBpbiBudWxsPT10JiYodD17fSksdGhpcy5pbnB1dFN1bW1hcnkuZXZlbnROYW1lPXRoaXMuZXZlbnROYW1lLHQpbj10W2VdLHRoaXMuaW5wdXRTdW1tYXJ5W2VdPW47cmV0dXJuIHRoaXMuaW5wdXRTdW1tYXJ5fSxhLnByb3RvdHlwZS5yZXNldElucHV0U3VtbWFyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlucHV0U3VtbWFyeT17fX0sYS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXNldElucHV0U3VtbWFyeSgpLHIuc2VsZWN0aW9uQ2hhbmdlT2JzZXJ2ZXIucmVzZXQoKX0sYS5wcm90b3R5cGUuZWxlbWVudERpZE11dGF0ZT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdGhpcy5pc0NvbXBvc2luZygpP251bGwhPShlPXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmlucHV0Q29udHJvbGxlckRpZEFsbG93VW5oYW5kbGVkSW5wdXQ/ZS5pbnB1dENvbnRyb2xsZXJEaWRBbGxvd1VuaGFuZGxlZElucHV0KCk6dm9pZCAwOnRoaXMuaGFuZGxlSW5wdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubXV0YXRpb25Jc1NpZ25pZmljYW50KHQpJiYodGhpcy5tdXRhdGlvbklzRXhwZWN0ZWQodCk/dGhpcy5yZXF1ZXN0UmVuZGVyKCk6dGhpcy5yZXF1ZXN0UmVwYXJzZSgpKSx0aGlzLnJlc2V0KCl9KSl9LGEucHJvdG90eXBlLm11dGF0aW9uSXNFeHBlY3RlZD1mdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscyx1LGM7cmV0dXJuIGE9dC50ZXh0QWRkZWQscz10LnRleHREZWxldGVkLCEhdGhpcy5pbnB1dFN1bW1hcnkucHJlZmVyRG9jdW1lbnR8fChlPW51bGwhPWE/YT09PXRoaXMuaW5wdXRTdW1tYXJ5LnRleHRBZGRlZDohdGhpcy5pbnB1dFN1bW1hcnkudGV4dEFkZGVkLG49bnVsbCE9cz90aGlzLmlucHV0U3VtbWFyeS5kaWREZWxldGU6IXRoaXMuaW5wdXRTdW1tYXJ5LmRpZERlbGV0ZSxjPVwiXFxuXCI9PT1zJiYhbiwhISgoKHU9KFwiXFxuXCI9PT1hfHxcIiBcXG5cIj09PWEpJiYhZSkmJiFjfHxjJiYhdSkmJihpPXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpKSYmKHI9dT9hLnJlcGxhY2UoL1xcbiQvLFwiXCIpLmxlbmd0aHx8LTE6KG51bGwhPWE/YS5sZW5ndGg6dm9pZCAwKXx8MSxudWxsIT0obz10aGlzLnJlc3BvbmRlcik/by5wb3NpdGlvbklzQmxvY2tCcmVhayhpWzFdK3IpOnZvaWQgMCkpfHxlJiZuKX0sYS5wcm90b3R5cGUubXV0YXRpb25Jc1NpZ25pZmljYW50PWZ1bmN0aW9uKHQpe3ZhciBlLG4scjtyZXR1cm4gcj1PYmplY3Qua2V5cyh0KS5sZW5ndGg+MCxlPVwiXCI9PT0obnVsbCE9KG49dGhpcy5jb21wb3NpdGlvbklucHV0KT9uLmdldEVuZERhdGEoKTp2b2lkIDApLHJ8fCFlfSxhLnByb3RvdHlwZS5ldmVudHM9e2tleWRvd246ZnVuY3Rpb24odCl7dmFyIGUsbixpLG8sYSxjLGwsaCxwO2lmKHRoaXMuaXNDb21wb3NpbmcoKXx8dGhpcy5yZXNldElucHV0U3VtbWFyeSgpLHRoaXMuaW5wdXRTdW1tYXJ5LmRpZElucHV0PSEwLG89dVt0LmtleUNvZGVdKXtmb3Iobj10aGlzLmtleXMsaT0wLGM9KGg9W1wiY3RybFwiLFwiYWx0XCIsXCJzaGlmdFwiLFwibWV0YVwiXSkubGVuZ3RoO2M+aTtpKyspdFsobD1oW2ldKStcIktleVwiXSYmKFwiY3RybFwiPT09bCYmKGw9XCJjb250cm9sXCIpLG49bnVsbCE9bj9uW2xdOnZvaWQgMCk7bnVsbCE9KG51bGwhPW4/bltvXTp2b2lkIDApJiYodGhpcy5zZXRJbnB1dFN1bW1hcnkoe2tleU5hbWU6b30pLHIuc2VsZWN0aW9uQ2hhbmdlT2JzZXJ2ZXIucmVzZXQoKSxuW29dLmNhbGwodGhpcyx0KSl9cmV0dXJuIHModCkmJihlPVN0cmluZy5mcm9tQ2hhckNvZGUodC5rZXlDb2RlKS50b0xvd2VyQ2FzZSgpKSYmKChhPWZ1bmN0aW9uKCl7dmFyIGUsbixyLGk7Zm9yKGk9W10sZT0wLG49KHI9W1wiYWx0XCIsXCJzaGlmdFwiXSkubGVuZ3RoO24+ZTtlKyspdFsobD1yW2VdKStcIktleVwiXSYmaS5wdXNoKGwpO3JldHVybiBpfSgpKS5wdXNoKGUpLG51bGwhPShwPXRoaXMuZGVsZWdhdGUpP3AuaW5wdXRDb250cm9sbGVyRGlkUmVjZWl2ZUtleWJvYXJkQ29tbWFuZChhKTp2b2lkIDApP3QucHJldmVudERlZmF1bHQoKTp2b2lkIDB9LGtleXByZXNzOmZ1bmN0aW9uKHQpe3ZhciBlLG4scjtpZihudWxsPT10aGlzLmlucHV0U3VtbWFyeS5ldmVudE5hbWUmJiF0Lm1ldGFLZXkmJighdC5jdHJsS2V5fHx0LmFsdEtleSkpcmV0dXJuKHI9cCh0KSk/KG51bGwhPShlPXRoaXMuZGVsZWdhdGUpJiZlLmlucHV0Q29udHJvbGxlcldpbGxQZXJmb3JtVHlwaW5nKCksbnVsbCE9KG49dGhpcy5yZXNwb25kZXIpJiZuLmluc2VydFN0cmluZyhyKSx0aGlzLnNldElucHV0U3VtbWFyeSh7dGV4dEFkZGVkOnIsZGlkRGVsZXRlOnRoaXMuc2VsZWN0aW9uSXNFeHBhbmRlZCgpfSkpOnZvaWQgMH0sdGV4dElucHV0OmZ1bmN0aW9uKHQpe3ZhciBlLG4scixpO3JldHVybiBlPXQuZGF0YSwoaT10aGlzLmlucHV0U3VtbWFyeS50ZXh0QWRkZWQpJiZpIT09ZSYmaS50b1VwcGVyQ2FzZSgpPT09ZT8obj10aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSx0aGlzLnNldFNlbGVjdGVkUmFuZ2UoW25bMF0sblsxXStpLmxlbmd0aF0pLG51bGwhPShyPXRoaXMucmVzcG9uZGVyKSYmci5pbnNlcnRTdHJpbmcoZSksdGhpcy5zZXRJbnB1dFN1bW1hcnkoe3RleHRBZGRlZDplfSksdGhpcy5zZXRTZWxlY3RlZFJhbmdlKG4pKTp2b2lkIDB9LGRyYWdlbnRlcjpmdW5jdGlvbih0KXtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpfSxkcmFnc3RhcnQ6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHQudGFyZ2V0LHRoaXMuc2VyaWFsaXplU2VsZWN0aW9uVG9EYXRhVHJhbnNmZXIodC5kYXRhVHJhbnNmZXIpLHRoaXMuZHJhZ2dlZFJhbmdlPXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpLG51bGwhPShlPXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmlucHV0Q29udHJvbGxlckRpZFN0YXJ0RHJhZz9lLmlucHV0Q29udHJvbGxlckRpZFN0YXJ0RHJhZygpOnZvaWQgMH0sZHJhZ292ZXI6ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4hdGhpcy5kcmFnZ2VkUmFuZ2UmJiF0aGlzLmNhbkFjY2VwdERhdGFUcmFuc2Zlcih0LmRhdGFUcmFuc2Zlcil8fCh0LnByZXZlbnREZWZhdWx0KCksZT17eDp0LmNsaWVudFgseTp0LmNsaWVudFl9LGwoZSx0aGlzLmRyYWdnaW5nUG9pbnQpKT92b2lkIDA6KHRoaXMuZHJhZ2dpbmdQb2ludD1lLG51bGwhPShuPXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLmlucHV0Q29udHJvbGxlckRpZFJlY2VpdmVEcmFnT3ZlclBvaW50P24uaW5wdXRDb250cm9sbGVyRGlkUmVjZWl2ZURyYWdPdmVyUG9pbnQodGhpcy5kcmFnZ2luZ1BvaW50KTp2b2lkIDApfSxkcmFnZW5kOmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmlucHV0Q29udHJvbGxlckRpZENhbmNlbERyYWcmJnQuaW5wdXRDb250cm9sbGVyRGlkQ2FuY2VsRHJhZygpLHRoaXMuZHJhZ2dlZFJhbmdlPW51bGwsdGhpcy5kcmFnZ2luZ1BvaW50PW51bGx9LGRyb3A6ZnVuY3Rpb24odCl7dmFyIGUsbixpLG8sYSxzLHUsYyxsO3JldHVybiB0LnByZXZlbnREZWZhdWx0KCksaT1udWxsIT0oYT10LmRhdGFUcmFuc2Zlcik/YS5maWxlczp2b2lkIDAsbz17eDp0LmNsaWVudFgseTp0LmNsaWVudFl9LG51bGwhPShzPXRoaXMucmVzcG9uZGVyKSYmcy5zZXRMb2NhdGlvblJhbmdlRnJvbVBvaW50UmFuZ2UobyksKG51bGwhPWk/aS5sZW5ndGg6dm9pZCAwKT90aGlzLmF0dGFjaEZpbGVzKGkpOnRoaXMuZHJhZ2dlZFJhbmdlPyhudWxsIT0odT10aGlzLmRlbGVnYXRlKSYmdS5pbnB1dENvbnRyb2xsZXJXaWxsTW92ZVRleHQoKSxudWxsIT0oYz10aGlzLnJlc3BvbmRlcikmJmMubW92ZVRleHRGcm9tUmFuZ2UodGhpcy5kcmFnZ2VkUmFuZ2UpLHRoaXMuZHJhZ2dlZFJhbmdlPW51bGwsdGhpcy5yZXF1ZXN0UmVuZGVyKCkpOihuPXQuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJhcHBsaWNhdGlvbi94LXRyaXgtZG9jdW1lbnRcIikpJiYoZT1yLkRvY3VtZW50LmZyb21KU09OU3RyaW5nKG4pLG51bGwhPShsPXRoaXMucmVzcG9uZGVyKSYmbC5pbnNlcnREb2N1bWVudChlKSx0aGlzLnJlcXVlc3RSZW5kZXIoKSksdGhpcy5kcmFnZ2VkUmFuZ2U9bnVsbCx0aGlzLmRyYWdnaW5nUG9pbnQ9bnVsbH0sY3V0OmZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuKG51bGwhPShlPXRoaXMucmVzcG9uZGVyKT9lLnNlbGVjdGlvbklzRXhwYW5kZWQoKTp2b2lkIDApJiYodGhpcy5zZXJpYWxpemVTZWxlY3Rpb25Ub0RhdGFUcmFuc2Zlcih0LmNsaXBib2FyZERhdGEpJiZ0LnByZXZlbnREZWZhdWx0KCksbnVsbCE9KG49dGhpcy5kZWxlZ2F0ZSkmJm4uaW5wdXRDb250cm9sbGVyV2lsbEN1dFRleHQoKSx0aGlzLmRlbGV0ZUluRGlyZWN0aW9uKFwiYmFja3dhcmRcIiksdC5kZWZhdWx0UHJldmVudGVkKT90aGlzLnJlcXVlc3RSZW5kZXIoKTp2b2lkIDB9LGNvcHk6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuKG51bGwhPShlPXRoaXMucmVzcG9uZGVyKT9lLnNlbGVjdGlvbklzRXhwYW5kZWQoKTp2b2lkIDApJiZ0aGlzLnNlcmlhbGl6ZVNlbGVjdGlvblRvRGF0YVRyYW5zZmVyKHQuY2xpcGJvYXJkRGF0YSk/dC5wcmV2ZW50RGVmYXVsdCgpOnZvaWQgMH0scGFzdGU6ZnVuY3Rpb24odCl7dmFyIGUsaSxhLHMsdSxjLGwscCxkLG0sdix5LGIseCxBLHcsQyxFLGssUyxELFI7cmV0dXJuIGU9bnVsbCE9KHA9dC5jbGlwYm9hcmREYXRhKT9wOnQudGVzdENsaXBib2FyZERhdGEsbD17Y2xpcGJvYXJkOmV9LG51bGw9PWV8fGgodCk/dm9pZCB0aGlzLmdldFBhc3RlZEhUTUxVc2luZ0hpZGRlbkVsZW1lbnQoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuLHIsaTtyZXR1cm4gbC50eXBlPVwidGV4dC9odG1sXCIsbC5odG1sPWUsbnVsbCE9KG49dC5kZWxlZ2F0ZSkmJm4uaW5wdXRDb250cm9sbGVyV2lsbFBhc3RlKGwpLG51bGwhPShyPXQucmVzcG9uZGVyKSYmci5pbnNlcnRIVE1MKGwuaHRtbCksdC5yZXF1ZXN0UmVuZGVyKCksbnVsbCE9KGk9dC5kZWxlZ2F0ZSk/aS5pbnB1dENvbnRyb2xsZXJEaWRQYXN0ZShsKTp2b2lkIDB9fSh0aGlzKSk6KChzPWUuZ2V0RGF0YShcIlVSTFwiKSk/KGwudHlwZT1cIlVSTFwiLGwuaHJlZj1zLGwuc3RyaW5nPShjPWUuZ2V0RGF0YShcInB1YmxpYy51cmwtbmFtZVwiKSk/ci5zcXVpc2hCcmVha2FibGVXaGl0ZXNwYWNlKGMpLnRyaW0oKTpzLG51bGwhPShkPXRoaXMuZGVsZWdhdGUpJiZkLmlucHV0Q29udHJvbGxlcldpbGxQYXN0ZShsKSx0aGlzLnNldElucHV0U3VtbWFyeSh7dGV4dEFkZGVkOmwuc3RyaW5nLGRpZERlbGV0ZTp0aGlzLnNlbGVjdGlvbklzRXhwYW5kZWQoKX0pLG51bGwhPShBPXRoaXMucmVzcG9uZGVyKSYmQS5pbnNlcnRUZXh0KHIuVGV4dC50ZXh0Rm9yU3RyaW5nV2l0aEF0dHJpYnV0ZXMobC5zdHJpbmcse2hyZWY6bC5ocmVmfSkpLHRoaXMucmVxdWVzdFJlbmRlcigpLG51bGwhPSh3PXRoaXMuZGVsZWdhdGUpJiZ3LmlucHV0Q29udHJvbGxlckRpZFBhc3RlKGwpKTpuKGUpPyhsLnR5cGU9XCJ0ZXh0L3BsYWluXCIsbC5zdHJpbmc9ZS5nZXREYXRhKFwidGV4dC9wbGFpblwiKSxudWxsIT0oQz10aGlzLmRlbGVnYXRlKSYmQy5pbnB1dENvbnRyb2xsZXJXaWxsUGFzdGUobCksdGhpcy5zZXRJbnB1dFN1bW1hcnkoe3RleHRBZGRlZDpsLnN0cmluZyxkaWREZWxldGU6dGhpcy5zZWxlY3Rpb25Jc0V4cGFuZGVkKCl9KSxudWxsIT0oRT10aGlzLnJlc3BvbmRlcikmJkUuaW5zZXJ0U3RyaW5nKGwuc3RyaW5nKSx0aGlzLnJlcXVlc3RSZW5kZXIoKSxudWxsIT0oaz10aGlzLmRlbGVnYXRlKSYmay5pbnB1dENvbnRyb2xsZXJEaWRQYXN0ZShsKSk6KHU9ZS5nZXREYXRhKFwidGV4dC9odG1sXCIpKT8obC50eXBlPVwidGV4dC9odG1sXCIsbC5odG1sPXUsbnVsbCE9KFM9dGhpcy5kZWxlZ2F0ZSkmJlMuaW5wdXRDb250cm9sbGVyV2lsbFBhc3RlKGwpLG51bGwhPShEPXRoaXMucmVzcG9uZGVyKSYmRC5pbnNlcnRIVE1MKGwuaHRtbCksdGhpcy5yZXF1ZXN0UmVuZGVyKCksbnVsbCE9KFI9dGhpcy5kZWxlZ2F0ZSkmJlIuaW5wdXRDb250cm9sbGVyRGlkUGFzdGUobCkpOmcuY2FsbChlLnR5cGVzLFwiRmlsZXNcIik+PTAmJihhPW51bGwhPShtPWUuaXRlbXMpJiZudWxsIT0odj1tWzBdKSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygdi5nZXRBc0ZpbGU/di5nZXRBc0ZpbGUoKTp2b2lkIDApJiYoIWEubmFtZSYmKGk9byhhKSkmJihhLm5hbWU9XCJwYXN0ZWQtZmlsZS1cIisgKytmK1wiLlwiK2kpLGwudHlwZT1cIkZpbGVcIixsLmZpbGU9YSxudWxsIT0oeT10aGlzLmRlbGVnYXRlKSYmeS5pbnB1dENvbnRyb2xsZXJXaWxsQXR0YWNoRmlsZXMoKSxudWxsIT0oYj10aGlzLnJlc3BvbmRlcikmJmIuaW5zZXJ0RmlsZShsLmZpbGUpLHRoaXMucmVxdWVzdFJlbmRlcigpLG51bGwhPSh4PXRoaXMuZGVsZWdhdGUpJiZ4LmlucHV0Q29udHJvbGxlckRpZFBhc3RlKGwpKSx0LnByZXZlbnREZWZhdWx0KCkpfSxjb21wb3NpdGlvbnN0YXJ0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldENvbXBvc2l0aW9uSW5wdXQoKS5zdGFydCh0LmRhdGEpfSxjb21wb3NpdGlvbnVwZGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRDb21wb3NpdGlvbklucHV0KCkudXBkYXRlKHQuZGF0YSl9LGNvbXBvc2l0aW9uZW5kOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldENvbXBvc2l0aW9uSW5wdXQoKS5lbmQodC5kYXRhKX0sYmVmb3JlaW5wdXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnB1dFN1bW1hcnkuZGlkSW5wdXQ9ITB9LGlucHV0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlucHV0U3VtbWFyeS5kaWRJbnB1dD0hMCx0LnN0b3BQcm9wYWdhdGlvbigpfX0sYS5wcm90b3R5cGUua2V5cz17YmFja3NwYWNlOmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBudWxsIT0oZT10aGlzLmRlbGVnYXRlKSYmZS5pbnB1dENvbnRyb2xsZXJXaWxsUGVyZm9ybVR5cGluZygpLHRoaXMuZGVsZXRlSW5EaXJlY3Rpb24oXCJiYWNrd2FyZFwiLHQpfSxkZWxldGU6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIG51bGwhPShlPXRoaXMuZGVsZWdhdGUpJiZlLmlucHV0Q29udHJvbGxlcldpbGxQZXJmb3JtVHlwaW5nKCksdGhpcy5kZWxldGVJbkRpcmVjdGlvbihcImZvcndhcmRcIix0KX0scmV0dXJuOmZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4gdGhpcy5zZXRJbnB1dFN1bW1hcnkoe3ByZWZlckRvY3VtZW50OiEwfSksbnVsbCE9KHQ9dGhpcy5kZWxlZ2F0ZSkmJnQuaW5wdXRDb250cm9sbGVyV2lsbFBlcmZvcm1UeXBpbmcoKSxudWxsIT0oZT10aGlzLnJlc3BvbmRlcik/ZS5pbnNlcnRMaW5lQnJlYWsoKTp2b2lkIDB9LHRhYjpmdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybihudWxsIT0oZT10aGlzLnJlc3BvbmRlcik/ZS5jYW5JbmNyZWFzZU5lc3RpbmdMZXZlbCgpOnZvaWQgMCk/KG51bGwhPShuPXRoaXMucmVzcG9uZGVyKSYmbi5pbmNyZWFzZU5lc3RpbmdMZXZlbCgpLHRoaXMucmVxdWVzdFJlbmRlcigpLHQucHJldmVudERlZmF1bHQoKSk6dm9pZCAwfSxsZWZ0OmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB0aGlzLnNlbGVjdGlvbklzSW5DdXJzb3JUYXJnZXQoKT8odC5wcmV2ZW50RGVmYXVsdCgpLG51bGwhPShlPXRoaXMucmVzcG9uZGVyKT9lLm1vdmVDdXJzb3JJbkRpcmVjdGlvbihcImJhY2t3YXJkXCIpOnZvaWQgMCk6dm9pZCAwfSxyaWdodDpmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdGhpcy5zZWxlY3Rpb25Jc0luQ3Vyc29yVGFyZ2V0KCk/KHQucHJldmVudERlZmF1bHQoKSxudWxsIT0oZT10aGlzLnJlc3BvbmRlcik/ZS5tb3ZlQ3Vyc29ySW5EaXJlY3Rpb24oXCJmb3J3YXJkXCIpOnZvaWQgMCk6dm9pZCAwfSxjb250cm9sOntkOmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBudWxsIT0oZT10aGlzLmRlbGVnYXRlKSYmZS5pbnB1dENvbnRyb2xsZXJXaWxsUGVyZm9ybVR5cGluZygpLHRoaXMuZGVsZXRlSW5EaXJlY3Rpb24oXCJmb3J3YXJkXCIsdCl9LGg6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIG51bGwhPShlPXRoaXMuZGVsZWdhdGUpJiZlLmlucHV0Q29udHJvbGxlcldpbGxQZXJmb3JtVHlwaW5nKCksdGhpcy5kZWxldGVJbkRpcmVjdGlvbihcImJhY2t3YXJkXCIsdCl9LG86ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLG51bGwhPShlPXRoaXMuZGVsZWdhdGUpJiZlLmlucHV0Q29udHJvbGxlcldpbGxQZXJmb3JtVHlwaW5nKCksbnVsbCE9KG49dGhpcy5yZXNwb25kZXIpJiZuLmluc2VydFN0cmluZyhcIlxcblwiLHt1cGRhdGVQb3NpdGlvbjohMX0pLHRoaXMucmVxdWVzdFJlbmRlcigpfX0sc2hpZnQ6e3JldHVybjpmdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiBudWxsIT0oZT10aGlzLmRlbGVnYXRlKSYmZS5pbnB1dENvbnRyb2xsZXJXaWxsUGVyZm9ybVR5cGluZygpLG51bGwhPShuPXRoaXMucmVzcG9uZGVyKSYmbi5pbnNlcnRTdHJpbmcoXCJcXG5cIiksdGhpcy5yZXF1ZXN0UmVuZGVyKCksdC5wcmV2ZW50RGVmYXVsdCgpfSx0YWI6ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4obnVsbCE9KGU9dGhpcy5yZXNwb25kZXIpP2UuY2FuRGVjcmVhc2VOZXN0aW5nTGV2ZWwoKTp2b2lkIDApPyhudWxsIT0obj10aGlzLnJlc3BvbmRlcikmJm4uZGVjcmVhc2VOZXN0aW5nTGV2ZWwoKSx0aGlzLnJlcXVlc3RSZW5kZXIoKSx0LnByZXZlbnREZWZhdWx0KCkpOnZvaWQgMH0sbGVmdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZWxlY3Rpb25Jc0luQ3Vyc29yVGFyZ2V0KCk/KHQucHJldmVudERlZmF1bHQoKSx0aGlzLmV4cGFuZFNlbGVjdGlvbkluRGlyZWN0aW9uKFwiYmFja3dhcmRcIikpOnZvaWQgMH0scmlnaHQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uSXNJbkN1cnNvclRhcmdldCgpPyh0LnByZXZlbnREZWZhdWx0KCksdGhpcy5leHBhbmRTZWxlY3Rpb25JbkRpcmVjdGlvbihcImZvcndhcmRcIikpOnZvaWQgMH19LGFsdDp7YmFja3NwYWNlOmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHRoaXMuc2V0SW5wdXRTdW1tYXJ5KHtwcmVmZXJEb2N1bWVudDohMX0pLG51bGwhPSh0PXRoaXMuZGVsZWdhdGUpP3QuaW5wdXRDb250cm9sbGVyV2lsbFBlcmZvcm1UeXBpbmcoKTp2b2lkIDB9fSxtZXRhOntiYWNrc3BhY2U6ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gdGhpcy5zZXRJbnB1dFN1bW1hcnkoe3ByZWZlckRvY3VtZW50OiExfSksbnVsbCE9KHQ9dGhpcy5kZWxlZ2F0ZSk/dC5pbnB1dENvbnRyb2xsZXJXaWxsUGVyZm9ybVR5cGluZygpOnZvaWQgMH19fSxhLnByb3RvdHlwZS5nZXRDb21wb3NpdGlvbklucHV0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNDb21wb3NpbmcoKT90aGlzLmNvbXBvc2l0aW9uSW5wdXQ6dGhpcy5jb21wb3NpdGlvbklucHV0PW5ldyB0KHRoaXMpfSxhLnByb3RvdHlwZS5pc0NvbXBvc2luZz1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLmNvbXBvc2l0aW9uSW5wdXQmJiF0aGlzLmNvbXBvc2l0aW9uSW5wdXQuaXNFbmRlZCgpfSxhLnByb3RvdHlwZS5kZWxldGVJbkRpcmVjdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiExIT09KG51bGwhPShuPXRoaXMucmVzcG9uZGVyKT9uLmRlbGV0ZUluRGlyZWN0aW9uKHQpOnZvaWQgMCk/dGhpcy5zZXRJbnB1dFN1bW1hcnkoe2RpZERlbGV0ZTohMH0pOmU/KGUucHJldmVudERlZmF1bHQoKSx0aGlzLnJlcXVlc3RSZW5kZXIoKSk6dm9pZCAwfSxhLnByb3RvdHlwZS5zZXJpYWxpemVTZWxlY3Rpb25Ub0RhdGFUcmFuc2Zlcj1mdW5jdGlvbih0KXt2YXIgZSxuO2lmKGkodCkpcmV0dXJuIGU9bnVsbCE9KG49dGhpcy5yZXNwb25kZXIpP24uZ2V0U2VsZWN0ZWREb2N1bWVudCgpLnRvU2VyaWFsaXphYmxlRG9jdW1lbnQoKTp2b2lkIDAsdC5zZXREYXRhKFwiYXBwbGljYXRpb24veC10cml4LWRvY3VtZW50XCIsSlNPTi5zdHJpbmdpZnkoZSkpLHQuc2V0RGF0YShcInRleHQvaHRtbFwiLHIuRG9jdW1lbnRWaWV3LnJlbmRlcihlKS5pbm5lckhUTUwpLHQuc2V0RGF0YShcInRleHQvcGxhaW5cIixlLnRvU3RyaW5nKCkucmVwbGFjZSgvXFxuJC8sXCJcIikpLCEwfSxhLnByb3RvdHlwZS5jYW5BY2NlcHREYXRhVHJhbnNmZXI9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbztmb3Iobz17fSxlPTAsbj0oaT1udWxsIT0ocj1udWxsIT10P3QudHlwZXM6dm9pZCAwKT9yOltdKS5sZW5ndGg7bj5lO2UrKylvW2lbZV1dPSEwO3JldHVybiBvLkZpbGVzfHxvW1wiYXBwbGljYXRpb24veC10cml4LWRvY3VtZW50XCJdfHxvW1widGV4dC9odG1sXCJdfHxvW1widGV4dC9wbGFpblwiXX0sYS5wcm90b3R5cGUuZ2V0UGFzdGVkSFRNTFVzaW5nSGlkZGVuRWxlbWVudD1mdW5jdGlvbih0KXt2YXIgZSxuLGk7cmV0dXJuIG49dGhpcy5nZXRTZWxlY3RlZFJhbmdlKCksaT17cG9zaXRpb246XCJhYnNvbHV0ZVwiLGxlZnQ6d2luZG93LnBhZ2VYT2Zmc2V0K1wicHhcIix0b3A6d2luZG93LnBhZ2VZT2Zmc2V0K1wicHhcIixvcGFjaXR5OjB9LGU9Yyh7c3R5bGU6aSx0YWdOYW1lOlwiZGl2XCIsZWRpdGFibGU6ITB9KSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGUpLGUuZm9jdXMoKSxyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oaSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG87cmV0dXJuIG89ZS5pbm5lckhUTUwsci5yZW1vdmVOb2RlKGUpLGkuc2V0U2VsZWN0ZWRSYW5nZShuKSx0KG8pfX0odGhpcykpfSxhLnByb3h5TWV0aG9kKFwicmVzcG9uZGVyPy5nZXRTZWxlY3RlZFJhbmdlXCIpLGEucHJveHlNZXRob2QoXCJyZXNwb25kZXI/LnNldFNlbGVjdGVkUmFuZ2VcIiksYS5wcm94eU1ldGhvZChcInJlc3BvbmRlcj8uZXhwYW5kU2VsZWN0aW9uSW5EaXJlY3Rpb25cIiksYS5wcm94eU1ldGhvZChcInJlc3BvbmRlcj8uc2VsZWN0aW9uSXNJbkN1cnNvclRhcmdldFwiKSxhLnByb3h5TWV0aG9kKFwicmVzcG9uZGVyPy5zZWxlY3Rpb25Jc0V4cGFuZGVkXCIpLGF9KHIuSW5wdXRDb250cm9sbGVyKSxvPWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIG51bGwhPShlPXQudHlwZSkmJm51bGwhPShuPWUubWF0Y2goL1xcLyhcXHcrKSQvKSk/blsxXTp2b2lkIDB9LGE9bnVsbCE9KFwiZnVuY3Rpb25cIj09dHlwZW9mXCIgXCIuY29kZVBvaW50QXQ/XCIgXCIuY29kZVBvaW50QXQoMCk6dm9pZCAwKSxwPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB0LmtleSYmYSYmdC5rZXkuY29kZVBvaW50QXQoMCk9PT10LmtleUNvZGU/dC5rZXk6KG51bGw9PT10LndoaWNoP2U9dC5rZXlDb2RlOjAhPT10LndoaWNoJiYwIT09dC5jaGFyQ29kZSYmKGU9dC5jaGFyQ29kZSksbnVsbCE9ZSYmXCJlc2NhcGVcIiE9PXVbZV0/ci5VVEYxNlN0cmluZy5mcm9tQ29kZXBvaW50cyhbZV0pLnRvU3RyaW5nKCk6dm9pZCAwKX0saD1mdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscyx1LGM7aWYocz10LmNsaXBib2FyZERhdGEpe2lmKGcuY2FsbChzLnR5cGVzLFwidGV4dC9odG1sXCIpPj0wKXtmb3Iocj0wLGE9KHU9cy50eXBlcykubGVuZ3RoO2E+cjtyKyspaWYoYz11W3JdLGU9L15Db3JlUGFzdGVib2FyZEZsYXZvclR5cGUvLnRlc3QoYyksbj0vXmR5blxcLi8udGVzdChjKSYmcy5nZXREYXRhKGMpLGV8fG4pcmV0dXJuITA7cmV0dXJuITF9cmV0dXJuIGk9Zy5jYWxsKHMudHlwZXMsXCJjb20uYXBwbGUud2ViYXJjaGl2ZVwiKT49MCxvPWcuY2FsbChzLnR5cGVzLFwiY29tLmFwcGxlLmZsYXQtcnRmZFwiKT49MCxpfHxvfX0sdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKHQpe3ZhciBlO3RoaXMuaW5wdXRDb250cm9sbGVyPXQsZT10aGlzLmlucHV0Q29udHJvbGxlcix0aGlzLnJlc3BvbmRlcj1lLnJlc3BvbmRlcix0aGlzLmRlbGVnYXRlPWUuZGVsZWdhdGUsdGhpcy5pbnB1dFN1bW1hcnk9ZS5pbnB1dFN1bW1hcnksdGhpcy5kYXRhPXt9fXJldHVybiBkKG4sdCksbi5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gdGhpcy5kYXRhLnN0YXJ0PXQsdGhpcy5pc1NpZ25pZmljYW50KCk/KFwia2V5cHJlc3NcIj09PXRoaXMuaW5wdXRTdW1tYXJ5LmV2ZW50TmFtZSYmdGhpcy5pbnB1dFN1bW1hcnkudGV4dEFkZGVkJiZudWxsIT0oZT10aGlzLnJlc3BvbmRlcikmJmUuZGVsZXRlSW5EaXJlY3Rpb24oXCJsZWZ0XCIpLHRoaXMuc2VsZWN0aW9uSXNFeHBhbmRlZCgpfHwodGhpcy5pbnNlcnRQbGFjZWhvbGRlcigpLHRoaXMucmVxdWVzdFJlbmRlcigpKSx0aGlzLnJhbmdlPW51bGwhPShuPXRoaXMucmVzcG9uZGVyKT9uLmdldFNlbGVjdGVkUmFuZ2UoKTp2b2lkIDApOnZvaWQgMH0sbi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB0aGlzLmRhdGEudXBkYXRlPXQsdGhpcy5pc1NpZ25pZmljYW50KCkmJihlPXRoaXMuc2VsZWN0UGxhY2Vob2xkZXIoKSk/KHRoaXMuZm9yZ2V0UGxhY2Vob2xkZXIoKSx0aGlzLnJhbmdlPWUpOnZvaWQgMH0sbi5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpO3JldHVybiB0aGlzLmRhdGEuZW5kPXQsdGhpcy5pc1NpZ25pZmljYW50KCk/KHRoaXMuZm9yZ2V0UGxhY2Vob2xkZXIoKSx0aGlzLmNhbkFwcGx5VG9Eb2N1bWVudCgpPyh0aGlzLnNldElucHV0U3VtbWFyeSh7cHJlZmVyRG9jdW1lbnQ6ITAsZGlkSW5wdXQ6ITF9KSxudWxsIT0oZT10aGlzLmRlbGVnYXRlKSYmZS5pbnB1dENvbnRyb2xsZXJXaWxsUGVyZm9ybVR5cGluZygpLG51bGwhPShuPXRoaXMucmVzcG9uZGVyKSYmbi5zZXRTZWxlY3RlZFJhbmdlKHRoaXMucmFuZ2UpLG51bGwhPShyPXRoaXMucmVzcG9uZGVyKSYmci5pbnNlcnRTdHJpbmcodGhpcy5kYXRhLmVuZCksbnVsbCE9KGk9dGhpcy5yZXNwb25kZXIpP2kuc2V0U2VsZWN0ZWRSYW5nZSh0aGlzLnJhbmdlWzBdK3RoaXMuZGF0YS5lbmQubGVuZ3RoKTp2b2lkIDApOm51bGwhPXRoaXMuZGF0YS5zdGFydHx8bnVsbCE9dGhpcy5kYXRhLnVwZGF0ZT8odGhpcy5yZXF1ZXN0UmVwYXJzZSgpLHRoaXMuaW5wdXRDb250cm9sbGVyLnJlc2V0KCkpOnZvaWQgMCk6dGhpcy5pbnB1dENvbnRyb2xsZXIucmVzZXQoKX0sbi5wcm90b3R5cGUuZ2V0RW5kRGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuZW5kfSxuLnByb3RvdHlwZS5pc0VuZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuZ2V0RW5kRGF0YSgpfSxuLnByb3RvdHlwZS5pc1NpZ25pZmljYW50PWZ1bmN0aW9uKCl7cmV0dXJuIWUuY29tcG9zZXNFeGlzdGluZ1RleHR8fHRoaXMuaW5wdXRTdW1tYXJ5LmRpZElucHV0fSxuLnByb3RvdHlwZS5jYW5BcHBseVRvRG9jdW1lbnQ9ZnVuY3Rpb24oKXt2YXIgdCxlO3JldHVybiAwPT09KG51bGwhPSh0PXRoaXMuZGF0YS5zdGFydCk/dC5sZW5ndGg6dm9pZCAwKSYmKG51bGwhPShlPXRoaXMuZGF0YS5lbmQpP2UubGVuZ3RoOnZvaWQgMCk+MCYmbnVsbCE9dGhpcy5yYW5nZX0sbi5wcm94eU1ldGhvZChcImlucHV0Q29udHJvbGxlci5zZXRJbnB1dFN1bW1hcnlcIiksbi5wcm94eU1ldGhvZChcImlucHV0Q29udHJvbGxlci5yZXF1ZXN0UmVuZGVyXCIpLG4ucHJveHlNZXRob2QoXCJpbnB1dENvbnRyb2xsZXIucmVxdWVzdFJlcGFyc2VcIiksbi5wcm94eU1ldGhvZChcInJlc3BvbmRlcj8uc2VsZWN0aW9uSXNFeHBhbmRlZFwiKSxuLnByb3h5TWV0aG9kKFwicmVzcG9uZGVyPy5pbnNlcnRQbGFjZWhvbGRlclwiKSxuLnByb3h5TWV0aG9kKFwicmVzcG9uZGVyPy5zZWxlY3RQbGFjZWhvbGRlclwiKSxuLnByb3h5TWV0aG9kKFwicmVzcG9uZGVyPy5mb3JnZXRQbGFjZWhvbGRlclwiKSxufShyLkJhc2ljT2JqZWN0KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0LGUsbixpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX0sbz1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpYS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiBuLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbix0Ll9fc3VwZXJfXz1lLnByb3RvdHlwZSx0fSxhPXt9Lmhhc093blByb3BlcnR5LHM9W10uaW5kZXhPZnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLmxlbmd0aDtuPmU7ZSsrKWlmKGUgaW4gdGhpcyYmdGhpc1tlXT09PXQpcmV0dXJuIGU7cmV0dXJuLTF9O3Q9ci5kYXRhVHJhbnNmZXJJc1BsYWluVGV4dCxlPXIua2V5RXZlbnRJc0tleWJvYXJkQ29tbWFuZCxuPXIub2JqZWN0c0FyZUVxdWFsLHIuTGV2ZWwySW5wdXRDb250cm9sbGVyPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIHUoKXtyZXR1cm4gdGhpcy5yZW5kZXI9aSh0aGlzLnJlbmRlcix0aGlzKSx1Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGMsbCxoLHAsZCxmO3JldHVybiBvKHUsYSksdS5wcm90b3R5cGUuZWxlbWVudERpZE11dGF0ZT1mdW5jdGlvbigpe3ZhciB0O3JldHVybiB0aGlzLnNjaGVkdWxlZFJlbmRlcj90aGlzLmNvbXBvc2luZyYmbnVsbCE9KHQ9dGhpcy5kZWxlZ2F0ZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuaW5wdXRDb250cm9sbGVyRGlkQWxsb3dVbmhhbmRsZWRJbnB1dD90LmlucHV0Q29udHJvbGxlckRpZEFsbG93VW5oYW5kbGVkSW5wdXQoKTp2b2lkIDA6dGhpcy5yZXBhcnNlKCl9LHUucHJvdG90eXBlLnNjaGVkdWxlUmVuZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuc2NoZWR1bGVkUmVuZGVyP3RoaXMuc2NoZWR1bGVkUmVuZGVyOnRoaXMuc2NoZWR1bGVkUmVuZGVyPXJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnJlbmRlcil9LHUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciB0O3JldHVybiBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnNjaGVkdWxlZFJlbmRlciksdGhpcy5zY2hlZHVsZWRSZW5kZXI9bnVsbCx0aGlzLmNvbXBvc2luZ3x8bnVsbCE9KHQ9dGhpcy5kZWxlZ2F0ZSkmJnQucmVuZGVyKCksXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5hZnRlclJlbmRlciYmdGhpcy5hZnRlclJlbmRlcigpLHRoaXMuYWZ0ZXJSZW5kZXI9bnVsbH0sdS5wcm90b3R5cGUucmVwYXJzZT1mdW5jdGlvbigpe3ZhciB0O3JldHVybiBudWxsIT0odD10aGlzLmRlbGVnYXRlKT90LnJlcGFyc2UoKTp2b2lkIDB9LHUucHJvdG90eXBlLmV2ZW50cz17a2V5ZG93bjpmdW5jdGlvbih0KXt2YXIgbixyLGksbztpZihlKHQpKXtpZihuPWwodCksbnVsbCE9KG89dGhpcy5kZWxlZ2F0ZSk/by5pbnB1dENvbnRyb2xsZXJEaWRSZWNlaXZlS2V5Ym9hcmRDb21tYW5kKG4pOnZvaWQgMClyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpfWVsc2UgaWYoaT10LmtleSx0LmFsdEtleSYmKGkrPVwiK0FsdFwiKSx0LnNoaWZ0S2V5JiYoaSs9XCIrU2hpZnRcIikscj10aGlzLmtleXNbaV0pcmV0dXJuIHRoaXMud2l0aEV2ZW50KHQscil9LHBhc3RlOmZ1bmN0aW9uKHQpe3ZhciBlLG4saSxvLGEscyx1LGMsbDtyZXR1cm4gaCh0KT8odC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuYXR0YWNoRmlsZXModC5jbGlwYm9hcmREYXRhLmZpbGVzKSk6cCh0KT8odC5wcmV2ZW50RGVmYXVsdCgpLG49e3R5cGU6XCJ0ZXh0L3BsYWluXCIsc3RyaW5nOnQuY2xpcGJvYXJkRGF0YS5nZXREYXRhKFwidGV4dC9wbGFpblwiKX0sbnVsbCE9KGk9dGhpcy5kZWxlZ2F0ZSkmJmkuaW5wdXRDb250cm9sbGVyV2lsbFBhc3RlKG4pLG51bGwhPShvPXRoaXMucmVzcG9uZGVyKSYmby5pbnNlcnRTdHJpbmcobi5zdHJpbmcpLHRoaXMucmVuZGVyKCksbnVsbCE9KGE9dGhpcy5kZWxlZ2F0ZSk/YS5pbnB1dENvbnRyb2xsZXJEaWRQYXN0ZShuKTp2b2lkIDApOihlPW51bGwhPShzPXQuY2xpcGJvYXJkRGF0YSk/cy5nZXREYXRhKFwiVVJMXCIpOnZvaWQgMCk/KHQucHJldmVudERlZmF1bHQoKSxuPXt0eXBlOlwiVVJMXCIsaHJlZjplLHN0cmluZzplfSxudWxsIT0odT10aGlzLmRlbGVnYXRlKSYmdS5pbnB1dENvbnRyb2xsZXJXaWxsUGFzdGUobiksbnVsbCE9KGM9dGhpcy5yZXNwb25kZXIpJiZjLmluc2VydFRleHQoci5UZXh0LnRleHRGb3JTdHJpbmdXaXRoQXR0cmlidXRlcyhuLnN0cmluZyx7aHJlZjpuLmhyZWZ9KSksdGhpcy5yZW5kZXIoKSxudWxsIT0obD10aGlzLmRlbGVnYXRlKT9sLmlucHV0Q29udHJvbGxlckRpZFBhc3RlKG4pOnZvaWQgMCk6dm9pZCAwfSxiZWZvcmVpbnB1dDpmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4oZT10aGlzLmlucHV0VHlwZXNbdC5pbnB1dFR5cGVdKT8odGhpcy53aXRoRXZlbnQodCxlKSx0aGlzLnNjaGVkdWxlUmVuZGVyKCkpOnZvaWQgMH0saW5wdXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5zZWxlY3Rpb25DaGFuZ2VPYnNlcnZlci5yZXNldCgpfSxkcmFnc3RhcnQ6ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4obnVsbCE9KGU9dGhpcy5yZXNwb25kZXIpP2Uuc2VsZWN0aW9uQ29udGFpbnNBdHRhY2htZW50cygpOnZvaWQgMCk/KHQuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJhcHBsaWNhdGlvbi94LXRyaXgtZHJhZ2dpbmdcIiwhMCksdGhpcy5kcmFnZ2luZz17cmFuZ2U6bnVsbCE9KG49dGhpcy5yZXNwb25kZXIpP24uZ2V0U2VsZWN0ZWRSYW5nZSgpOnZvaWQgMCxwb2ludDpkKHQpfSk6dm9pZCAwfSxkcmFnZW50ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIGModCk/dC5wcmV2ZW50RGVmYXVsdCgpOnZvaWQgMH0sZHJhZ292ZXI6ZnVuY3Rpb24odCl7dmFyIGUscjtyZXR1cm4gdGhpcy5kcmFnZ2luZyYmKHQucHJldmVudERlZmF1bHQoKSxlPWQodCksIW4oZSx0aGlzLmRyYWdnaW5nLnBvaW50KSk/KHRoaXMuZHJhZ2dpbmcucG9pbnQ9ZSxudWxsIT0ocj10aGlzLnJlc3BvbmRlcik/ci5zZXRMb2NhdGlvblJhbmdlRnJvbVBvaW50UmFuZ2UoZSk6dm9pZCAwKTp2b2lkIDB9LGRyb3A6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGk7cmV0dXJuIHRoaXMuZHJhZ2dpbmc/KHQucHJldmVudERlZmF1bHQoKSxudWxsIT0obj10aGlzLmRlbGVnYXRlKSYmbi5pbnB1dENvbnRyb2xsZXJXaWxsTW92ZVRleHQoKSxudWxsIT0ocj10aGlzLnJlc3BvbmRlcikmJnIubW92ZVRleHRGcm9tUmFuZ2UodGhpcy5kcmFnZ2luZy5yYW5nZSksdGhpcy5kcmFnZ2luZz1udWxsLHRoaXMuc2NoZWR1bGVSZW5kZXIoKSk6Yyh0KT8odC5wcmV2ZW50RGVmYXVsdCgpLGU9ZCh0KSxudWxsIT0oaT10aGlzLnJlc3BvbmRlcikmJmkuc2V0TG9jYXRpb25SYW5nZUZyb21Qb2ludFJhbmdlKGUpLHRoaXMuYXR0YWNoRmlsZXModC5kYXRhVHJhbnNmZXIuZmlsZXMpKTp2b2lkIDB9LGRyYWdlbmQ6ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gdGhpcy5kcmFnZ2luZz8obnVsbCE9KHQ9dGhpcy5yZXNwb25kZXIpJiZ0LnNldFNlbGVjdGVkUmFuZ2UodGhpcy5kcmFnZ2luZy5yYW5nZSksdGhpcy5kcmFnZ2luZz1udWxsKTp2b2lkIDB9LGNvbXBvc2l0aW9uZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcG9zaW5nPyh0aGlzLmNvbXBvc2luZz0hMSx0aGlzLnNjaGVkdWxlUmVuZGVyKCkpOnZvaWQgMH19LHUucHJvdG90eXBlLmtleXM9e0Fycm93TGVmdDpmdW5jdGlvbigpe3ZhciB0LGU7cmV0dXJuKG51bGwhPSh0PXRoaXMucmVzcG9uZGVyKT90LnNob3VsZE1hbmFnZU1vdmluZ0N1cnNvckluRGlyZWN0aW9uKFwiYmFja3dhcmRcIik6dm9pZCAwKT8odGhpcy5ldmVudC5wcmV2ZW50RGVmYXVsdCgpLG51bGwhPShlPXRoaXMucmVzcG9uZGVyKT9lLm1vdmVDdXJzb3JJbkRpcmVjdGlvbihcImJhY2t3YXJkXCIpOnZvaWQgMCk6dm9pZCAwfSxBcnJvd1JpZ2h0OmZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4obnVsbCE9KHQ9dGhpcy5yZXNwb25kZXIpP3Quc2hvdWxkTWFuYWdlTW92aW5nQ3Vyc29ySW5EaXJlY3Rpb24oXCJmb3J3YXJkXCIpOnZvaWQgMCk/KHRoaXMuZXZlbnQucHJldmVudERlZmF1bHQoKSxudWxsIT0oZT10aGlzLnJlc3BvbmRlcik/ZS5tb3ZlQ3Vyc29ySW5EaXJlY3Rpb24oXCJmb3J3YXJkXCIpOnZvaWQgMCk6dm9pZCAwfSxCYWNrc3BhY2U6ZnVuY3Rpb24oKXt2YXIgdCxlLG47cmV0dXJuKG51bGwhPSh0PXRoaXMucmVzcG9uZGVyKT90LnNob3VsZE1hbmFnZURlbGV0aW5nSW5EaXJlY3Rpb24oXCJiYWNrd2FyZFwiKTp2b2lkIDApPyh0aGlzLmV2ZW50LnByZXZlbnREZWZhdWx0KCksbnVsbCE9KGU9dGhpcy5kZWxlZ2F0ZSkmJmUuaW5wdXRDb250cm9sbGVyV2lsbFBlcmZvcm1UeXBpbmcoKSxudWxsIT0obj10aGlzLnJlc3BvbmRlcikmJm4uZGVsZXRlSW5EaXJlY3Rpb24oXCJiYWNrd2FyZFwiKSx0aGlzLnJlbmRlcigpKTp2b2lkIDB9LFRhYjpmdW5jdGlvbigpe3ZhciB0LGU7cmV0dXJuKG51bGwhPSh0PXRoaXMucmVzcG9uZGVyKT90LmNhbkluY3JlYXNlTmVzdGluZ0xldmVsKCk6dm9pZCAwKT8odGhpcy5ldmVudC5wcmV2ZW50RGVmYXVsdCgpLG51bGwhPShlPXRoaXMucmVzcG9uZGVyKSYmZS5pbmNyZWFzZU5lc3RpbmdMZXZlbCgpLHRoaXMucmVuZGVyKCkpOnZvaWQgMH0sXCJUYWIrU2hpZnRcIjpmdW5jdGlvbigpe3ZhciB0LGU7cmV0dXJuKG51bGwhPSh0PXRoaXMucmVzcG9uZGVyKT90LmNhbkRlY3JlYXNlTmVzdGluZ0xldmVsKCk6dm9pZCAwKT8odGhpcy5ldmVudC5wcmV2ZW50RGVmYXVsdCgpLG51bGwhPShlPXRoaXMucmVzcG9uZGVyKSYmZS5kZWNyZWFzZU5lc3RpbmdMZXZlbCgpLHRoaXMucmVuZGVyKCkpOnZvaWQgMH19LHUucHJvdG90eXBlLmlucHV0VHlwZXM9e2RlbGV0ZUJ5Q29tcG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWxldGVJbkRpcmVjdGlvbihcImJhY2t3YXJkXCIse3JlY29yZFVuZG9FbnRyeTohMX0pfSxkZWxldGVCeUN1dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRlbGV0ZUluRGlyZWN0aW9uKFwiYmFja3dhcmRcIil9LGRlbGV0ZUJ5RHJhZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmV2ZW50LnByZXZlbnREZWZhdWx0KCksdGhpcy53aXRoVGFyZ2V0RE9NUmFuZ2UoKGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHRoaXMuZGVsZXRlQnlEcmFnUmFuZ2U9bnVsbCE9KHQ9dGhpcy5yZXNwb25kZXIpP3QuZ2V0U2VsZWN0ZWRSYW5nZSgpOnZvaWQgMH0pKX0sZGVsZXRlQ29tcG9zaXRpb25UZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVsZXRlSW5EaXJlY3Rpb24oXCJiYWNrd2FyZFwiLHtyZWNvcmRVbmRvRW50cnk6ITF9KX0sZGVsZXRlQ29udGVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRlbGV0ZUluRGlyZWN0aW9uKFwiYmFja3dhcmRcIil9LGRlbGV0ZUNvbnRlbnRCYWNrd2FyZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRlbGV0ZUluRGlyZWN0aW9uKFwiYmFja3dhcmRcIil9LGRlbGV0ZUNvbnRlbnRGb3J3YXJkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVsZXRlSW5EaXJlY3Rpb24oXCJmb3J3YXJkXCIpfSxkZWxldGVFbnRpcmVTb2Z0TGluZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRlbGV0ZUluRGlyZWN0aW9uKFwiZm9yd2FyZFwiKX0sZGVsZXRlSGFyZExpbmVCYWNrd2FyZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRlbGV0ZUluRGlyZWN0aW9uKFwiYmFja3dhcmRcIil9LGRlbGV0ZUhhcmRMaW5lRm9yd2FyZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRlbGV0ZUluRGlyZWN0aW9uKFwiZm9yd2FyZFwiKX0sZGVsZXRlU29mdExpbmVCYWNrd2FyZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRlbGV0ZUluRGlyZWN0aW9uKFwiYmFja3dhcmRcIil9LGRlbGV0ZVNvZnRMaW5lRm9yd2FyZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRlbGV0ZUluRGlyZWN0aW9uKFwiZm9yd2FyZFwiKX0sZGVsZXRlV29yZEJhY2t3YXJkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVsZXRlSW5EaXJlY3Rpb24oXCJiYWNrd2FyZFwiKX0sZGVsZXRlV29yZEZvcndhcmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWxldGVJbkRpcmVjdGlvbihcImZvcndhcmRcIil9LGZvcm1hdEJhY2tDb2xvcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGl2YXRlQXR0cmlidXRlSWZTdXBwb3J0ZWQoXCJiYWNrZ3JvdW5kQ29sb3JcIix0aGlzLmV2ZW50LmRhdGEpfSxmb3JtYXRCb2xkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9nZ2xlQXR0cmlidXRlSWZTdXBwb3J0ZWQoXCJib2xkXCIpfSxmb3JtYXRGb250Q29sb3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmF0ZUF0dHJpYnV0ZUlmU3VwcG9ydGVkKFwiY29sb3JcIix0aGlzLmV2ZW50LmRhdGEpfSxmb3JtYXRGb250TmFtZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGl2YXRlQXR0cmlidXRlSWZTdXBwb3J0ZWQoXCJmb250XCIsdGhpcy5ldmVudC5kYXRhKX0sZm9ybWF0SW5kZW50OmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuKG51bGwhPSh0PXRoaXMucmVzcG9uZGVyKT90LmNhbkluY3JlYXNlTmVzdGluZ0xldmVsKCk6dm9pZCAwKT90aGlzLndpdGhUYXJnZXRET01SYW5nZSgoZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gbnVsbCE9KHQ9dGhpcy5yZXNwb25kZXIpP3QuaW5jcmVhc2VOZXN0aW5nTGV2ZWwoKTp2b2lkIDB9KSk6dm9pZCAwfSxmb3JtYXRJdGFsaWM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b2dnbGVBdHRyaWJ1dGVJZlN1cHBvcnRlZChcIml0YWxpY1wiKX0sZm9ybWF0SnVzdGlmeUNlbnRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRvZ2dsZUF0dHJpYnV0ZUlmU3VwcG9ydGVkKFwianVzdGlmeUNlbnRlclwiKX0sZm9ybWF0SnVzdGlmeUZ1bGw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b2dnbGVBdHRyaWJ1dGVJZlN1cHBvcnRlZChcImp1c3RpZnlGdWxsXCIpfSxmb3JtYXRKdXN0aWZ5TGVmdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRvZ2dsZUF0dHJpYnV0ZUlmU3VwcG9ydGVkKFwianVzdGlmeUxlZnRcIil9LGZvcm1hdEp1c3RpZnlSaWdodDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRvZ2dsZUF0dHJpYnV0ZUlmU3VwcG9ydGVkKFwianVzdGlmeVJpZ2h0XCIpfSxmb3JtYXRPdXRkZW50OmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuKG51bGwhPSh0PXRoaXMucmVzcG9uZGVyKT90LmNhbkRlY3JlYXNlTmVzdGluZ0xldmVsKCk6dm9pZCAwKT90aGlzLndpdGhUYXJnZXRET01SYW5nZSgoZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gbnVsbCE9KHQ9dGhpcy5yZXNwb25kZXIpP3QuZGVjcmVhc2VOZXN0aW5nTGV2ZWwoKTp2b2lkIDB9KSk6dm9pZCAwfSxmb3JtYXRSZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53aXRoVGFyZ2V0RE9NUmFuZ2UoKGZ1bmN0aW9uKCl7dmFyIHQsZSxuLHI7Zm9yKHQgaW4gcj1bXSxudWxsIT0oZT10aGlzLnJlc3BvbmRlcik/ZS5nZXRDdXJyZW50QXR0cmlidXRlcygpOnZvaWQgMClyLnB1c2gobnVsbCE9KG49dGhpcy5yZXNwb25kZXIpP24ucmVtb3ZlQ3VycmVudEF0dHJpYnV0ZSh0KTp2b2lkIDApO3JldHVybiByfSkpfSxmb3JtYXRTZXRCbG9ja1RleHREaXJlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmF0ZUF0dHJpYnV0ZUlmU3VwcG9ydGVkKFwiYmxvY2tEaXJcIix0aGlzLmV2ZW50LmRhdGEpfSxmb3JtYXRTZXRJbmxpbmVUZXh0RGlyZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZhdGVBdHRyaWJ1dGVJZlN1cHBvcnRlZChcInRleHREaXJcIix0aGlzLmV2ZW50LmRhdGEpfSxmb3JtYXRTdHJpa2VUaHJvdWdoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9nZ2xlQXR0cmlidXRlSWZTdXBwb3J0ZWQoXCJzdHJpa2VcIil9LGZvcm1hdFN1YnNjcmlwdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRvZ2dsZUF0dHJpYnV0ZUlmU3VwcG9ydGVkKFwic3ViXCIpfSxmb3JtYXRTdXBlcnNjcmlwdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRvZ2dsZUF0dHJpYnV0ZUlmU3VwcG9ydGVkKFwic3VwXCIpfSxmb3JtYXRVbmRlcmxpbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b2dnbGVBdHRyaWJ1dGVJZlN1cHBvcnRlZChcInVuZGVybGluZVwiKX0saGlzdG9yeVJlZG86ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gbnVsbCE9KHQ9dGhpcy5kZWxlZ2F0ZSk/dC5pbnB1dENvbnRyb2xsZXJXaWxsUGVyZm9ybVJlZG8oKTp2b2lkIDB9LGhpc3RvcnlVbmRvOmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PXRoaXMuZGVsZWdhdGUpP3QuaW5wdXRDb250cm9sbGVyV2lsbFBlcmZvcm1VbmRvKCk6dm9pZCAwfSxpbnNlcnRDb21wb3NpdGlvblRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb3Npbmc9ITAsdGhpcy5pbnNlcnRTdHJpbmcodGhpcy5ldmVudC5kYXRhKX0saW5zZXJ0RnJvbUNvbXBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcG9zaW5nPSExLHRoaXMuaW5zZXJ0U3RyaW5nKHRoaXMuZXZlbnQuZGF0YSl9LGluc2VydEZyb21Ecm9wOmZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4odD10aGlzLmRlbGV0ZUJ5RHJhZ1JhbmdlKT8odGhpcy5kZWxldGVCeURyYWdSYW5nZT1udWxsLG51bGwhPShlPXRoaXMuZGVsZWdhdGUpJiZlLmlucHV0Q29udHJvbGxlcldpbGxNb3ZlVGV4dCgpLHRoaXMud2l0aFRhcmdldERPTVJhbmdlKChmdW5jdGlvbigpe3ZhciBlO3JldHVybiBudWxsIT0oZT10aGlzLnJlc3BvbmRlcik/ZS5tb3ZlVGV4dEZyb21SYW5nZSh0KTp2b2lkIDB9KSkpOnZvaWQgMH0saW5zZXJ0RnJvbVBhc3RlOmZ1bmN0aW9uKCl7dmFyIGUsbixpLG8sYSxzLHUsYyxsLGg7cmV0dXJuIGU9dGhpcy5ldmVudC5kYXRhVHJhbnNmZXIsYT17ZGF0YVRyYW5zZmVyOmV9LChuPWUuZ2V0RGF0YShcIlVSTFwiKSk/KGEudHlwZT1cIlVSTFwiLGEuaHJlZj1uLGEuc3RyaW5nPShvPWUuZ2V0RGF0YShcInB1YmxpYy51cmwtbmFtZVwiKSk/ci5zcXVpc2hCcmVha2FibGVXaGl0ZXNwYWNlKG8pLnRyaW0oKTpuLG51bGwhPShzPXRoaXMuZGVsZWdhdGUpJiZzLmlucHV0Q29udHJvbGxlcldpbGxQYXN0ZShhKSx0aGlzLndpdGhUYXJnZXRET01SYW5nZSgoZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gbnVsbCE9KHQ9dGhpcy5yZXNwb25kZXIpP3QuaW5zZXJ0VGV4dChyLlRleHQudGV4dEZvclN0cmluZ1dpdGhBdHRyaWJ1dGVzKGEuc3RyaW5nLHtocmVmOmEuaHJlZn0pKTp2b2lkIDB9KSksdGhpcy5hZnRlclJlbmRlcj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gbnVsbCE9KGU9dC5kZWxlZ2F0ZSk/ZS5pbnB1dENvbnRyb2xsZXJEaWRQYXN0ZShhKTp2b2lkIDB9fSh0aGlzKSk6dChlKT8oYS50eXBlPVwidGV4dC9wbGFpblwiLGEuc3RyaW5nPWUuZ2V0RGF0YShcInRleHQvcGxhaW5cIiksbnVsbCE9KHU9dGhpcy5kZWxlZ2F0ZSkmJnUuaW5wdXRDb250cm9sbGVyV2lsbFBhc3RlKGEpLHRoaXMud2l0aFRhcmdldERPTVJhbmdlKChmdW5jdGlvbigpe3ZhciB0O3JldHVybiBudWxsIT0odD10aGlzLnJlc3BvbmRlcik/dC5pbnNlcnRTdHJpbmcoYS5zdHJpbmcpOnZvaWQgMH0pKSx0aGlzLmFmdGVyUmVuZGVyPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlO3JldHVybiBudWxsIT0oZT10LmRlbGVnYXRlKT9lLmlucHV0Q29udHJvbGxlckRpZFBhc3RlKGEpOnZvaWQgMH19KHRoaXMpKTooaT1lLmdldERhdGEoXCJ0ZXh0L2h0bWxcIikpPyhhLnR5cGU9XCJ0ZXh0L2h0bWxcIixhLmh0bWw9aSxudWxsIT0oYz10aGlzLmRlbGVnYXRlKSYmYy5pbnB1dENvbnRyb2xsZXJXaWxsUGFzdGUoYSksdGhpcy53aXRoVGFyZ2V0RE9NUmFuZ2UoKGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PXRoaXMucmVzcG9uZGVyKT90Lmluc2VydEhUTUwoYS5odG1sKTp2b2lkIDB9KSksdGhpcy5hZnRlclJlbmRlcj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gbnVsbCE9KGU9dC5kZWxlZ2F0ZSk/ZS5pbnB1dENvbnRyb2xsZXJEaWRQYXN0ZShhKTp2b2lkIDB9fSh0aGlzKSk6KG51bGwhPShsPWUuZmlsZXMpP2wubGVuZ3RoOnZvaWQgMCk/KGEudHlwZT1cIkZpbGVcIixhLmZpbGU9ZS5maWxlc1swXSxudWxsIT0oaD10aGlzLmRlbGVnYXRlKSYmaC5pbnB1dENvbnRyb2xsZXJXaWxsUGFzdGUoYSksdGhpcy53aXRoVGFyZ2V0RE9NUmFuZ2UoKGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PXRoaXMucmVzcG9uZGVyKT90Lmluc2VydEZpbGUoYS5maWxlKTp2b2lkIDB9KSksdGhpcy5hZnRlclJlbmRlcj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gbnVsbCE9KGU9dC5kZWxlZ2F0ZSk/ZS5pbnB1dENvbnRyb2xsZXJEaWRQYXN0ZShhKTp2b2lkIDB9fSh0aGlzKSk6dm9pZCAwfSxpbnNlcnRGcm9tWWFuazpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluc2VydFN0cmluZyh0aGlzLmV2ZW50LmRhdGEpfSxpbnNlcnRMaW5lQnJlYWs6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnNlcnRTdHJpbmcoXCJcXG5cIil9LGluc2VydExpbms6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmF0ZUF0dHJpYnV0ZUlmU3VwcG9ydGVkKFwiaHJlZlwiLHRoaXMuZXZlbnQuZGF0YSl9LGluc2VydE9yZGVyZWRMaXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9nZ2xlQXR0cmlidXRlSWZTdXBwb3J0ZWQoXCJudW1iZXJcIil9LGluc2VydFBhcmFncmFwaDpmdW5jdGlvbigpe3ZhciB0O3JldHVybiBudWxsIT0odD10aGlzLmRlbGVnYXRlKSYmdC5pbnB1dENvbnRyb2xsZXJXaWxsUGVyZm9ybVR5cGluZygpLHRoaXMud2l0aFRhcmdldERPTVJhbmdlKChmdW5jdGlvbigpe3ZhciB0O3JldHVybiBudWxsIT0odD10aGlzLnJlc3BvbmRlcik/dC5pbnNlcnRMaW5lQnJlYWsoKTp2b2lkIDB9KSl9LGluc2VydFJlcGxhY2VtZW50VGV4dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluc2VydFN0cmluZyh0aGlzLmV2ZW50LmRhdGFUcmFuc2Zlci5nZXREYXRhKFwidGV4dC9wbGFpblwiKSx7dXBkYXRlUG9zaXRpb246ITF9KX0saW5zZXJ0VGV4dDpmdW5jdGlvbigpe3ZhciB0LGU7cmV0dXJuIHRoaXMuaW5zZXJ0U3RyaW5nKG51bGwhPSh0PXRoaXMuZXZlbnQuZGF0YSk/dDpudWxsIT0oZT10aGlzLmV2ZW50LmRhdGFUcmFuc2Zlcik/ZS5nZXREYXRhKFwidGV4dC9wbGFpblwiKTp2b2lkIDApfSxpbnNlcnRUcmFuc3Bvc2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnNlcnRTdHJpbmcodGhpcy5ldmVudC5kYXRhKX0saW5zZXJ0VW5vcmRlcmVkTGlzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRvZ2dsZUF0dHJpYnV0ZUlmU3VwcG9ydGVkKFwiYnVsbGV0XCIpfX0sdS5wcm90b3R5cGUuaW5zZXJ0U3RyaW5nPWZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIG51bGw9PXQmJih0PVwiXCIpLG51bGwhPShuPXRoaXMuZGVsZWdhdGUpJiZuLmlucHV0Q29udHJvbGxlcldpbGxQZXJmb3JtVHlwaW5nKCksdGhpcy53aXRoVGFyZ2V0RE9NUmFuZ2UoKGZ1bmN0aW9uKCl7dmFyIG47cmV0dXJuIG51bGwhPShuPXRoaXMucmVzcG9uZGVyKT9uLmluc2VydFN0cmluZyh0LGUpOnZvaWQgMH0pKX0sdS5wcm90b3R5cGUudG9nZ2xlQXR0cmlidXRlSWZTdXBwb3J0ZWQ9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHMuY2FsbChyLmdldEFsbEF0dHJpYnV0ZU5hbWVzKCksdCk+PTA/KG51bGwhPShlPXRoaXMuZGVsZWdhdGUpJiZlLmlucHV0Q29udHJvbGxlcldpbGxQZXJmb3JtRm9ybWF0dGluZyh0KSx0aGlzLndpdGhUYXJnZXRET01SYW5nZSgoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gbnVsbCE9KGU9dGhpcy5yZXNwb25kZXIpP2UudG9nZ2xlQ3VycmVudEF0dHJpYnV0ZSh0KTp2b2lkIDB9KSkpOnZvaWQgMH0sdS5wcm90b3R5cGUuYWN0aXZhdGVBdHRyaWJ1dGVJZlN1cHBvcnRlZD1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBzLmNhbGwoci5nZXRBbGxBdHRyaWJ1dGVOYW1lcygpLHQpPj0wPyhudWxsIT0obj10aGlzLmRlbGVnYXRlKSYmbi5pbnB1dENvbnRyb2xsZXJXaWxsUGVyZm9ybUZvcm1hdHRpbmcodCksdGhpcy53aXRoVGFyZ2V0RE9NUmFuZ2UoKGZ1bmN0aW9uKCl7dmFyIG47cmV0dXJuIG51bGwhPShuPXRoaXMucmVzcG9uZGVyKT9uLnNldEN1cnJlbnRBdHRyaWJ1dGUodCxlKTp2b2lkIDB9KSkpOnZvaWQgMH0sdS5wcm90b3R5cGUuZGVsZXRlSW5EaXJlY3Rpb249ZnVuY3Rpb24odCxlKXt2YXIgbixyLGk7cmV0dXJuKG51bGwhPWU/ZTp7cmVjb3JkVW5kb0VudHJ5OiEwfSkucmVjb3JkVW5kb0VudHJ5JiZudWxsIT0oaT10aGlzLmRlbGVnYXRlKSYmaS5pbnB1dENvbnRyb2xsZXJXaWxsUGVyZm9ybVR5cGluZygpLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG47cmV0dXJuIG51bGwhPShuPWUucmVzcG9uZGVyKT9uLmRlbGV0ZUluRGlyZWN0aW9uKHQpOnZvaWQgMH19KHRoaXMpLChuPXRoaXMuZ2V0VGFyZ2V0RE9NUmFuZ2Uoe21pbkxlbmd0aDoyfSkpP3RoaXMud2l0aFRhcmdldERPTVJhbmdlKG4scik6cigpfSx1LnByb3RvdHlwZS53aXRoVGFyZ2V0RE9NUmFuZ2U9ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYoZT10LHQ9dGhpcy5nZXRUYXJnZXRET01SYW5nZSgpKSx0P251bGwhPShuPXRoaXMucmVzcG9uZGVyKT9uLndpdGhUYXJnZXRET01SYW5nZSh0LGUuYmluZCh0aGlzKSk6dm9pZCAwOihyLnNlbGVjdGlvbkNoYW5nZU9ic2VydmVyLnJlc2V0KCksZS5jYWxsKHRoaXMpKX0sdS5wcm90b3R5cGUuZ2V0VGFyZ2V0RE9NUmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGk7cmV0dXJuIHI9KG51bGwhPXQ/dDp7bWluTGVuZ3RoOjB9KS5taW5MZW5ndGgsKGk9XCJmdW5jdGlvblwiPT10eXBlb2YoZT10aGlzLmV2ZW50KS5nZXRUYXJnZXRSYW5nZXM/ZS5nZXRUYXJnZXRSYW5nZXMoKTp2b2lkIDApJiZpLmxlbmd0aCYmKG49ZihpWzBdKSwwPT09cnx8bi50b1N0cmluZygpLmxlbmd0aD49cik/bjp2b2lkIDB9LGY9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuKGU9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSkuc2V0U3RhcnQodC5zdGFydENvbnRhaW5lcix0LnN0YXJ0T2Zmc2V0KSxlLnNldEVuZCh0LmVuZENvbnRhaW5lcix0LmVuZE9mZnNldCksZX0sdS5wcm90b3R5cGUud2l0aEV2ZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG47dGhpcy5ldmVudD10O3RyeXtuPWUuY2FsbCh0aGlzKX1maW5hbGx5e3RoaXMuZXZlbnQ9bnVsbH1yZXR1cm4gbn0sYz1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiBzLmNhbGwobnVsbCE9KGU9bnVsbCE9KG49dC5kYXRhVHJhbnNmZXIpP24udHlwZXM6dm9pZCAwKT9lOltdLFwiRmlsZXNcIik+PTB9LGg9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuKGU9dC5jbGlwYm9hcmREYXRhKT9zLmNhbGwoZS50eXBlcyxcIkZpbGVzXCIpPj0wJiYxPT09ZS50eXBlcy5sZW5ndGgmJmUuZmlsZXMubGVuZ3RoPj0xOnZvaWQgMH0scD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4oZT10LmNsaXBib2FyZERhdGEpP3MuY2FsbChlLnR5cGVzLFwidGV4dC9wbGFpblwiKT49MCYmMT09PWUudHlwZXMubGVuZ3RoOnZvaWQgMH0sbD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT1bXSx0LmFsdEtleSYmZS5wdXNoKFwiYWx0XCIpLHQuc2hpZnRLZXkmJmUucHVzaChcInNoaWZ0XCIpLGUucHVzaCh0LmtleSksZX0sZD1mdW5jdGlvbih0KXtyZXR1cm57eDp0LmNsaWVudFgseTp0LmNsaWVudFl9fSx1fShyLklucHV0Q29udHJvbGxlcil9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxvLGEscyx1LGMsbD1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19LGg9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKXAuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gbi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IG4sdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH0scD17fS5oYXNPd25Qcm9wZXJ0eTtlPXIuZGVmZXIsbj1yLmVzY2FwZUhUTUwsaT1yLmhhbmRsZUV2ZW50LHM9ci5tYWtlRWxlbWVudCxjPXIudGFnTmFtZSx1PXIuY29uZmlnLGE9dS5sYW5nLHQ9dS5jc3Msbz11LmtleU5hbWVzLHIuQXR0YWNobWVudEVkaXRvckNvbnRyb2xsZXI9ZnVuY3Rpb24odSl7ZnVuY3Rpb24gcCh0LGUsbixyKXt0aGlzLmF0dGFjaG1lbnRQaWVjZT10LHRoaXMuZWxlbWVudD1lLHRoaXMuY29udGFpbmVyPW4sdGhpcy5vcHRpb25zPW51bGwhPXI/cjp7fSx0aGlzLmRpZEJsdXJDYXB0aW9uPWwodGhpcy5kaWRCbHVyQ2FwdGlvbix0aGlzKSx0aGlzLmRpZENoYW5nZUNhcHRpb249bCh0aGlzLmRpZENoYW5nZUNhcHRpb24sdGhpcyksdGhpcy5kaWRJbnB1dENhcHRpb249bCh0aGlzLmRpZElucHV0Q2FwdGlvbix0aGlzKSx0aGlzLmRpZEtleURvd25DYXB0aW9uPWwodGhpcy5kaWRLZXlEb3duQ2FwdGlvbix0aGlzKSx0aGlzLmRpZENsaWNrQWN0aW9uQnV0dG9uPWwodGhpcy5kaWRDbGlja0FjdGlvbkJ1dHRvbix0aGlzKSx0aGlzLmRpZENsaWNrVG9vbGJhcj1sKHRoaXMuZGlkQ2xpY2tUb29sYmFyLHRoaXMpLHRoaXMuYXR0YWNobWVudD10aGlzLmF0dGFjaG1lbnRQaWVjZS5hdHRhY2htZW50LFwiYVwiPT09Yyh0aGlzLmVsZW1lbnQpJiYodGhpcy5lbGVtZW50PXRoaXMuZWxlbWVudC5maXJzdENoaWxkKSx0aGlzLmluc3RhbGwoKX12YXIgZDtyZXR1cm4gaChwLHUpLGQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuKGU9dC5hcHBseSh0aGlzLGFyZ3VtZW50cykpLmRvKCksbnVsbD09dGhpcy51bmRvcyYmKHRoaXMudW5kb3M9W10pLHRoaXMudW5kb3MucHVzaChlLnVuZG8pfX0scC5wcm90b3R5cGUuaW5zdGFsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1ha2VFbGVtZW50TXV0YWJsZSgpLHRoaXMuYWRkVG9vbGJhcigpLHRoaXMuYXR0YWNobWVudC5pc1ByZXZpZXdhYmxlKCk/dGhpcy5pbnN0YWxsQ2FwdGlvbkVkaXRvcigpOnZvaWQgMH0scC5wcm90b3R5cGUudW5pbnN0YWxsPWZ1bmN0aW9uKCl7dmFyIHQsZTtmb3IodGhpcy5zYXZlUGVuZGluZ0NhcHRpb24oKTtlPXRoaXMudW5kb3MucG9wKCk7KWUoKTtyZXR1cm4gbnVsbCE9KHQ9dGhpcy5kZWxlZ2F0ZSk/dC5kaWRVbmluc3RhbGxBdHRhY2htZW50RWRpdG9yKHRoaXMpOnZvaWQgMH0scC5wcm90b3R5cGUuc2F2ZVBlbmRpbmdDYXB0aW9uPWZ1bmN0aW9uKCl7dmFyIHQsZSxuO3JldHVybiBudWxsIT10aGlzLnBlbmRpbmdDYXB0aW9uPyh0PXRoaXMucGVuZGluZ0NhcHRpb24sdGhpcy5wZW5kaW5nQ2FwdGlvbj1udWxsLHQ/bnVsbCE9KGU9dGhpcy5kZWxlZ2F0ZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuYXR0YWNobWVudEVkaXRvckRpZFJlcXVlc3RVcGRhdGluZ0F0dHJpYnV0ZXNGb3JBdHRhY2htZW50P2UuYXR0YWNobWVudEVkaXRvckRpZFJlcXVlc3RVcGRhdGluZ0F0dHJpYnV0ZXNGb3JBdHRhY2htZW50KHtjYXB0aW9uOnR9LHRoaXMuYXR0YWNobWVudCk6dm9pZCAwOm51bGwhPShuPXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLmF0dGFjaG1lbnRFZGl0b3JEaWRSZXF1ZXN0UmVtb3ZpbmdBdHRyaWJ1dGVGb3JBdHRhY2htZW50P24uYXR0YWNobWVudEVkaXRvckRpZFJlcXVlc3RSZW1vdmluZ0F0dHJpYnV0ZUZvckF0dGFjaG1lbnQoXCJjYXB0aW9uXCIsdGhpcy5hdHRhY2htZW50KTp2b2lkIDApOnZvaWQgMH0scC5wcm90b3R5cGUubWFrZUVsZW1lbnRNdXRhYmxlPWQoKGZ1bmN0aW9uKCl7cmV0dXJue2RvOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmVsZW1lbnQuZGF0YXNldC50cml4TXV0YWJsZT0hMH19KHRoaXMpLHVuZG86ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGRlbGV0ZSB0LmVsZW1lbnQuZGF0YXNldC50cml4TXV0YWJsZX19KHRoaXMpfX0pKSxwLnByb3RvdHlwZS5hZGRUb29sYmFyPWQoKGZ1bmN0aW9uKCl7dmFyIGUsbyx1O3JldHVybihlPXMoe3RhZ05hbWU6XCJkaXZcIixjbGFzc05hbWU6dC5hdHRhY2htZW50VG9vbGJhcixkYXRhOnt0cml4TXV0YWJsZTohMH19KSkuaW5uZXJIVE1MPSc8ZGl2IGNsYXNzPVwidHJpeC1idXR0b24tcm93XCI+XFxuICA8c3BhbiBjbGFzcz1cInRyaXgtYnV0dG9uLWdyb3VwIHRyaXgtYnV0dG9uLWdyb3VwLS1hY3Rpb25zXCI+XFxuICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtdHJpeC1hY3Rpb249XCJyZW1vdmVcIiBjbGFzcz1cInRyaXgtYnV0dG9uIHRyaXgtYnV0dG9uLS1yZW1vdmVcIiB0aXRsZT1cIicrYS5yZW1vdmUrJ1wiPicrYS5yZW1vdmUrXCI8L2J1dHRvbj5cXG4gIDwvc3Bhbj5cXG48L2Rpdj5cIix0aGlzLmF0dGFjaG1lbnQuaXNQcmV2aWV3YWJsZSgpJiYobz1uKHRoaXMuYXR0YWNobWVudC5nZXRGaWxlbmFtZSgpKSx1PW4odGhpcy5hdHRhY2htZW50LmdldEZvcm1hdHRlZEZpbGVzaXplKCkpLGUuaW5uZXJIVE1MKz0nPGRpdiBjbGFzcz1cIicrdC5hdHRhY2htZW50TWV0YWRhdGFDb250YWluZXIrJ1wiPlxcbiAgPHNwYW4gY2xhc3M9XCInK3QuYXR0YWNobWVudE1ldGFkYXRhKydcIj5cXG4gICAgPHNwYW4gY2xhc3M9XCInK3QuYXR0YWNobWVudE5hbWUrJ1wiIHRpdGxlPVwiJytvKydcIj4nK28rJzwvc3Bhbj5cXG4gICAgPHNwYW4gY2xhc3M9XCInK3QuYXR0YWNobWVudFNpemUrJ1wiPicrdStcIjwvc3Bhbj5cXG4gIDwvc3Bhbj5cXG48L2Rpdj5cIiksaShcImNsaWNrXCIse29uRWxlbWVudDplLHdpdGhDYWxsYmFjazp0aGlzLmRpZENsaWNrVG9vbGJhcn0pLGkoXCJjbGlja1wiLHtvbkVsZW1lbnQ6ZSxtYXRjaGluZ1NlbGVjdG9yOlwiW2RhdGEtdHJpeC1hY3Rpb25dXCIsd2l0aENhbGxiYWNrOnRoaXMuZGlkQ2xpY2tBY3Rpb25CdXR0b259KSx7ZG86ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuZWxlbWVudC5hcHBlbmRDaGlsZChlKX19KHRoaXMpLHVuZG86ZnVuY3Rpb24oKXtyZXR1cm4gci5yZW1vdmVOb2RlKGUpfX19KSkscC5wcm90b3R5cGUuaW5zdGFsbENhcHRpb25FZGl0b3I9ZCgoZnVuY3Rpb24oKXt2YXIgbixvLHUsYyxsO3JldHVybihjPXMoe3RhZ05hbWU6XCJ0ZXh0YXJlYVwiLGNsYXNzTmFtZTp0LmF0dGFjaG1lbnRDYXB0aW9uRWRpdG9yLGF0dHJpYnV0ZXM6e3BsYWNlaG9sZGVyOmEuY2FwdGlvblBsYWNlaG9sZGVyfSxkYXRhOnt0cml4TXV0YWJsZTohMH19KSkudmFsdWU9dGhpcy5hdHRhY2htZW50UGllY2UuZ2V0Q2FwdGlvbigpLChsPWMuY2xvbmVOb2RlKCkpLmNsYXNzTGlzdC5hZGQoXCJ0cml4LWF1dG9yZXNpemUtY2xvbmVcIiksbC50YWJJbmRleD0tMSxuPWZ1bmN0aW9uKCl7cmV0dXJuIGwudmFsdWU9Yy52YWx1ZSxjLnN0eWxlLmhlaWdodD1sLnNjcm9sbEhlaWdodCtcInB4XCJ9LGkoXCJpbnB1dFwiLHtvbkVsZW1lbnQ6Yyx3aXRoQ2FsbGJhY2s6bn0pLGkoXCJpbnB1dFwiLHtvbkVsZW1lbnQ6Yyx3aXRoQ2FsbGJhY2s6dGhpcy5kaWRJbnB1dENhcHRpb259KSxpKFwia2V5ZG93blwiLHtvbkVsZW1lbnQ6Yyx3aXRoQ2FsbGJhY2s6dGhpcy5kaWRLZXlEb3duQ2FwdGlvbn0pLGkoXCJjaGFuZ2VcIix7b25FbGVtZW50OmMsd2l0aENhbGxiYWNrOnRoaXMuZGlkQ2hhbmdlQ2FwdGlvbn0pLGkoXCJibHVyXCIse29uRWxlbWVudDpjLHdpdGhDYWxsYmFjazp0aGlzLmRpZEJsdXJDYXB0aW9ufSksdT10aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcImZpZ2NhcHRpb25cIiksbz11LmNsb25lTm9kZSgpLHtkbzpmdW5jdGlvbihyKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLG8uYXBwZW5kQ2hpbGQoYyksby5hcHBlbmRDaGlsZChsKSxvLmNsYXNzTGlzdC5hZGQodC5hdHRhY2htZW50Q2FwdGlvbitcIi0tZWRpdGluZ1wiKSx1LnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKG8sdSksbigpLHIub3B0aW9ucy5lZGl0Q2FwdGlvbj9lKChmdW5jdGlvbigpe3JldHVybiBjLmZvY3VzKCl9KSk6dm9pZCAwfX0odGhpcyksdW5kbzpmdW5jdGlvbigpe3JldHVybiByLnJlbW92ZU5vZGUobyksdS5zdHlsZS5kaXNwbGF5PW51bGx9fX0pKSxwLnByb3RvdHlwZS5kaWRDbGlja1Rvb2xiYXI9ZnVuY3Rpb24odCl7cmV0dXJuIHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpfSxwLnByb3RvdHlwZS5kaWRDbGlja0FjdGlvbkJ1dHRvbj1mdW5jdGlvbih0KXt2YXIgZTtzd2l0Y2godC50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS10cml4LWFjdGlvblwiKSl7Y2FzZVwicmVtb3ZlXCI6cmV0dXJuIG51bGwhPShlPXRoaXMuZGVsZWdhdGUpP2UuYXR0YWNobWVudEVkaXRvckRpZFJlcXVlc3RSZW1vdmFsT2ZBdHRhY2htZW50KHRoaXMuYXR0YWNobWVudCk6dm9pZCAwfX0scC5wcm90b3R5cGUuZGlkS2V5RG93bkNhcHRpb249ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuXCJyZXR1cm5cIj09PW9bdC5rZXlDb2RlXT8odC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuc2F2ZVBlbmRpbmdDYXB0aW9uKCksbnVsbCE9KGU9dGhpcy5kZWxlZ2F0ZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuYXR0YWNobWVudEVkaXRvckRpZFJlcXVlc3REZXNlbGVjdGluZ0F0dGFjaG1lbnQ/ZS5hdHRhY2htZW50RWRpdG9yRGlkUmVxdWVzdERlc2VsZWN0aW5nQXR0YWNobWVudCh0aGlzLmF0dGFjaG1lbnQpOnZvaWQgMCk6dm9pZCAwfSxwLnByb3RvdHlwZS5kaWRJbnB1dENhcHRpb249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucGVuZGluZ0NhcHRpb249dC50YXJnZXQudmFsdWUucmVwbGFjZSgvXFxzL2csXCIgXCIpLnRyaW0oKX0scC5wcm90b3R5cGUuZGlkQ2hhbmdlQ2FwdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNhdmVQZW5kaW5nQ2FwdGlvbigpfSxwLnByb3RvdHlwZS5kaWRCbHVyQ2FwdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNhdmVQZW5kaW5nQ2FwdGlvbigpfSxwfShyLkJhc2ljT2JqZWN0KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0LGUsbixpPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSlvLmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIG4ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQuX19zdXBlcl9fPWUucHJvdG90eXBlLHR9LG89e30uaGFzT3duUHJvcGVydHk7bj1yLm1ha2VFbGVtZW50LHQ9ci5jb25maWcuY3NzLHIuQXR0YWNobWVudFZpZXc9ZnVuY3Rpb24obyl7ZnVuY3Rpb24gYSgpe2EuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLmF0dGFjaG1lbnQ9dGhpcy5vYmplY3QsdGhpcy5hdHRhY2htZW50LnVwbG9hZFByb2dyZXNzRGVsZWdhdGU9dGhpcyx0aGlzLmF0dGFjaG1lbnRQaWVjZT10aGlzLm9wdGlvbnMucGllY2V9dmFyIHM7cmV0dXJuIGkoYSxvKSxhLmF0dGFjaG1lbnRTZWxlY3Rvcj1cIltkYXRhLXRyaXgtYXR0YWNobWVudF1cIixhLnByb3RvdHlwZS5jcmVhdGVDb250ZW50Tm9kZXM9ZnVuY3Rpb24oKXtyZXR1cm5bXX0sYS5wcm90b3R5cGUuY3JlYXRlTm9kZXM9ZnVuY3Rpb24oKXt2YXIgZSxyLGksbyxhLHUsYztpZihlPW89bih7dGFnTmFtZTpcImZpZ3VyZVwiLGNsYXNzTmFtZTp0aGlzLmdldENsYXNzTmFtZSgpLGRhdGE6dGhpcy5nZXREYXRhKCksZWRpdGFibGU6ITF9KSwocj10aGlzLmdldEhyZWYoKSkmJihvPW4oe3RhZ05hbWU6XCJhXCIsZWRpdGFibGU6ITEsYXR0cmlidXRlczp7aHJlZjpyLHRhYmluZGV4Oi0xfX0pLGUuYXBwZW5kQ2hpbGQobykpLHRoaXMuYXR0YWNobWVudC5oYXNDb250ZW50KCkpby5pbm5lckhUTUw9dGhpcy5hdHRhY2htZW50LmdldENvbnRlbnQoKTtlbHNlIGZvcihpPTAsYT0oYz10aGlzLmNyZWF0ZUNvbnRlbnROb2RlcygpKS5sZW5ndGg7YT5pO2krKyl1PWNbaV0sby5hcHBlbmRDaGlsZCh1KTtyZXR1cm4gby5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUNhcHRpb25FbGVtZW50KCkpLHRoaXMuYXR0YWNobWVudC5pc1BlbmRpbmcoKSYmKHRoaXMucHJvZ3Jlc3NFbGVtZW50PW4oe3RhZ05hbWU6XCJwcm9ncmVzc1wiLGF0dHJpYnV0ZXM6e2NsYXNzOnQuYXR0YWNobWVudFByb2dyZXNzLHZhbHVlOnRoaXMuYXR0YWNobWVudC5nZXRVcGxvYWRQcm9ncmVzcygpLG1heDoxMDB9LGRhdGE6e3RyaXhNdXRhYmxlOiEwLHRyaXhTdG9yZUtleTpbXCJwcm9ncmVzc0VsZW1lbnRcIix0aGlzLmF0dGFjaG1lbnQuaWRdLmpvaW4oXCIvXCIpfX0pLGUuYXBwZW5kQ2hpbGQodGhpcy5wcm9ncmVzc0VsZW1lbnQpKSxbcyhcImxlZnRcIiksZSxzKFwicmlnaHRcIildfSxhLnByb3RvdHlwZS5jcmVhdGVDYXB0aW9uRWxlbWVudD1mdW5jdGlvbigpe3ZhciBlLHIsaSxvLGEscyx1O3JldHVybiBpPW4oe3RhZ05hbWU6XCJmaWdjYXB0aW9uXCIsY2xhc3NOYW1lOnQuYXR0YWNobWVudENhcHRpb259KSwoZT10aGlzLmF0dGFjaG1lbnRQaWVjZS5nZXRDYXB0aW9uKCkpPyhpLmNsYXNzTGlzdC5hZGQodC5hdHRhY2htZW50Q2FwdGlvbitcIi0tZWRpdGVkXCIpLGkudGV4dENvbnRlbnQ9ZSk6KChyPXRoaXMuZ2V0Q2FwdGlvbkNvbmZpZygpKS5uYW1lJiYobz10aGlzLmF0dGFjaG1lbnQuZ2V0RmlsZW5hbWUoKSksci5zaXplJiYocz10aGlzLmF0dGFjaG1lbnQuZ2V0Rm9ybWF0dGVkRmlsZXNpemUoKSksbyYmKGE9bih7dGFnTmFtZTpcInNwYW5cIixjbGFzc05hbWU6dC5hdHRhY2htZW50TmFtZSx0ZXh0Q29udGVudDpvfSksaS5hcHBlbmRDaGlsZChhKSkscyYmKG8mJmkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCIgXCIpKSx1PW4oe3RhZ05hbWU6XCJzcGFuXCIsY2xhc3NOYW1lOnQuYXR0YWNobWVudFNpemUsdGV4dENvbnRlbnQ6c30pLGkuYXBwZW5kQ2hpbGQodSkpKSxpfSxhLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXt2YXIgZSxuO3JldHVybiBuPVt0LmF0dGFjaG1lbnQsdC5hdHRhY2htZW50K1wiLS1cIit0aGlzLmF0dGFjaG1lbnQuZ2V0VHlwZSgpXSwoZT10aGlzLmF0dGFjaG1lbnQuZ2V0RXh0ZW5zaW9uKCkpJiZuLnB1c2godC5hdHRhY2htZW50K1wiLS1cIitlKSxuLmpvaW4oXCIgXCIpfSxhLnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4gZT17dHJpeEF0dGFjaG1lbnQ6SlNPTi5zdHJpbmdpZnkodGhpcy5hdHRhY2htZW50KSx0cml4Q29udGVudFR5cGU6dGhpcy5hdHRhY2htZW50LmdldENvbnRlbnRUeXBlKCksdHJpeElkOnRoaXMuYXR0YWNobWVudC5pZH0sKHQ9dGhpcy5hdHRhY2htZW50UGllY2UuYXR0cmlidXRlcykuaXNFbXB0eSgpfHwoZS50cml4QXR0cmlidXRlcz1KU09OLnN0cmluZ2lmeSh0KSksdGhpcy5hdHRhY2htZW50LmlzUGVuZGluZygpJiYoZS50cml4U2VyaWFsaXplPSExKSxlfSxhLnByb3RvdHlwZS5nZXRIcmVmPWZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcy5hdHRhY2htZW50LmdldENvbnRlbnQoKSxcImFcIik/dm9pZCAwOnRoaXMuYXR0YWNobWVudC5nZXRIcmVmKCl9LGEucHJvdG90eXBlLmdldENhcHRpb25Db25maWc9ZnVuY3Rpb24oKXt2YXIgdCxlLG47cmV0dXJuIG49dGhpcy5hdHRhY2htZW50LmdldFR5cGUoKSx0PXIuY29weU9iamVjdChudWxsIT0oZT1yLmNvbmZpZy5hdHRhY2htZW50c1tuXSk/ZS5jYXB0aW9uOnZvaWQgMCksXCJmaWxlXCI9PT1uJiYodC5uYW1lPSEwKSx0fSxhLnByb3RvdHlwZS5maW5kUHJvZ3Jlc3NFbGVtZW50PWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PXRoaXMuZmluZEVsZW1lbnQoKSk/dC5xdWVyeVNlbGVjdG9yKFwicHJvZ3Jlc3NcIik6dm9pZCAwfSxzPWZ1bmN0aW9uKHQpe3JldHVybiBuKHt0YWdOYW1lOlwic3BhblwiLHRleHRDb250ZW50OnIuWkVST19XSURUSF9TUEFDRSxkYXRhOnt0cml4Q3Vyc29yVGFyZ2V0OnQsdHJpeFNlcmlhbGl6ZTohMX19KX0sYS5wcm90b3R5cGUuYXR0YWNobWVudERpZENoYW5nZVVwbG9hZFByb2dyZXNzPWZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4gZT10aGlzLmF0dGFjaG1lbnQuZ2V0VXBsb2FkUHJvZ3Jlc3MoKSxudWxsIT0odD10aGlzLmZpbmRQcm9ncmVzc0VsZW1lbnQoKSk/dC52YWx1ZT1lOnZvaWQgMH0sYX0oci5PYmplY3RWaWV3KSxlPWZ1bmN0aW9uKHQsZSl7dmFyIHI7cmV0dXJuKHI9bihcImRpdlwiKSkuaW5uZXJIVE1MPW51bGwhPXQ/dDpcIlwiLHIucXVlcnlTZWxlY3RvcihlKX19LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdCxlPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIGkgaW4gZSluLmNhbGwoZSxpKSYmKHRbaV09ZVtpXSk7cmV0dXJuIHIucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyByLHQuX19zdXBlcl9fPWUucHJvdG90eXBlLHR9LG49e30uaGFzT3duUHJvcGVydHk7dD1yLm1ha2VFbGVtZW50LHIuUHJldmlld2FibGVBdHRhY2htZW50Vmlldz1mdW5jdGlvbihuKXtmdW5jdGlvbiBpKCl7aS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuYXR0YWNobWVudC5wcmV2aWV3RGVsZWdhdGU9dGhpc31yZXR1cm4gZShpLG4pLGkucHJvdG90eXBlLmNyZWF0ZUNvbnRlbnROb2Rlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmltYWdlPXQoe3RhZ05hbWU6XCJpbWdcIixhdHRyaWJ1dGVzOntzcmM6XCJcIn0sZGF0YTp7dHJpeE11dGFibGU6ITB9fSksdGhpcy5yZWZyZXNoKHRoaXMuaW1hZ2UpLFt0aGlzLmltYWdlXX0saS5wcm90b3R5cGUuY3JlYXRlQ2FwdGlvbkVsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD1pLl9fc3VwZXJfXy5jcmVhdGVDYXB0aW9uRWxlbWVudC5hcHBseSh0aGlzLGFyZ3VtZW50cykpLnRleHRDb250ZW50fHx0LnNldEF0dHJpYnV0ZShcImRhdGEtdHJpeC1wbGFjZWhvbGRlclwiLHIuY29uZmlnLmxhbmcuY2FwdGlvblBsYWNlaG9sZGVyKSx0fSxpLnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBudWxsPT10JiYodD1udWxsIT0oZT10aGlzLmZpbmRFbGVtZW50KCkpP2UucXVlcnlTZWxlY3RvcihcImltZ1wiKTp2b2lkIDApLHQ/dGhpcy51cGRhdGVBdHRyaWJ1dGVzRm9ySW1hZ2UodCk6dm9pZCAwfSxpLnByb3RvdHlwZS51cGRhdGVBdHRyaWJ1dGVzRm9ySW1hZ2U9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhO3JldHVybiBvPXRoaXMuYXR0YWNobWVudC5nZXRVUkwoKSxuPXRoaXMuYXR0YWNobWVudC5nZXRQcmV2aWV3VVJMKCksdC5zcmM9bnx8byxuPT09bz90LnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtdHJpeC1zZXJpYWxpemVkLWF0dHJpYnV0ZXNcIik6KHI9SlNPTi5zdHJpbmdpZnkoe3NyYzpvfSksdC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRyaXgtc2VyaWFsaXplZC1hdHRyaWJ1dGVzXCIscikpLGE9dGhpcy5hdHRhY2htZW50LmdldFdpZHRoKCksZT10aGlzLmF0dGFjaG1lbnQuZ2V0SGVpZ2h0KCksbnVsbCE9YSYmKHQud2lkdGg9YSksbnVsbCE9ZSYmKHQuaGVpZ2h0PWUpLGk9W1wiaW1hZ2VFbGVtZW50XCIsdGhpcy5hdHRhY2htZW50LmlkLHQuc3JjLHQud2lkdGgsdC5oZWlnaHRdLmpvaW4oXCIvXCIpLHQuZGF0YXNldC50cml4U3RvcmVLZXk9aX0saS5wcm90b3R5cGUuYXR0YWNobWVudERpZENoYW5nZUF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWZyZXNoKHRoaXMuaW1hZ2UpLHRoaXMucmVmcmVzaCgpfSxpfShyLkF0dGFjaG1lbnRWaWV3KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0LGUsbixpPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSlvLmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIG4ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQuX19zdXBlcl9fPWUucHJvdG90eXBlLHR9LG89e30uaGFzT3duUHJvcGVydHk7bj1yLm1ha2VFbGVtZW50LHQ9ci5maW5kSW5uZXJFbGVtZW50LGU9ci5nZXRUZXh0Q29uZmlnLHIuUGllY2VWaWV3PWZ1bmN0aW9uKG8pe2Z1bmN0aW9uIGEoKXt2YXIgdDthLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5waWVjZT10aGlzLm9iamVjdCx0aGlzLmF0dHJpYnV0ZXM9dGhpcy5waWVjZS5nZXRBdHRyaWJ1dGVzKCksdD10aGlzLm9wdGlvbnMsdGhpcy50ZXh0Q29uZmlnPXQudGV4dENvbmZpZyx0aGlzLmNvbnRleHQ9dC5jb250ZXh0LHRoaXMucGllY2UuYXR0YWNobWVudD90aGlzLmF0dGFjaG1lbnQ9dGhpcy5waWVjZS5hdHRhY2htZW50OnRoaXMuc3RyaW5nPXRoaXMucGllY2UudG9TdHJpbmcoKX12YXIgcztyZXR1cm4gaShhLG8pLGEucHJvdG90eXBlLmNyZWF0ZU5vZGVzPWZ1bmN0aW9uKCl7dmFyIGUsbixyLGksbyxhO2lmKGE9dGhpcy5hdHRhY2htZW50P3RoaXMuY3JlYXRlQXR0YWNobWVudE5vZGVzKCk6dGhpcy5jcmVhdGVTdHJpbmdOb2RlcygpLGU9dGhpcy5jcmVhdGVFbGVtZW50KCkpe2ZvcihyPXQoZSksbj0wLGk9YS5sZW5ndGg7aT5uO24rKylvPWFbbl0sci5hcHBlbmRDaGlsZChvKTthPVtlXX1yZXR1cm4gYX0sYS5wcm90b3R5cGUuY3JlYXRlQXR0YWNobWVudE5vZGVzPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHQ9dGhpcy5hdHRhY2htZW50LmlzUHJldmlld2FibGUoKT9yLlByZXZpZXdhYmxlQXR0YWNobWVudFZpZXc6ci5BdHRhY2htZW50Vmlldyx0aGlzLmNyZWF0ZUNoaWxkVmlldyh0LHRoaXMucGllY2UuYXR0YWNobWVudCx7cGllY2U6dGhpcy5waWVjZX0pLmdldE5vZGVzKCl9LGEucHJvdG90eXBlLmNyZWF0ZVN0cmluZ05vZGVzPWZ1bmN0aW9uKCl7dmFyIHQsZSxyLGksbyxhLHMsdSxjO2lmKG51bGwhPShzPXRoaXMudGV4dENvbmZpZyk/cy5wbGFpbnRleHQ6dm9pZCAwKXJldHVybltkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLnN0cmluZyldO2ZvcihhPVtdLHI9ZT0wLGk9KHU9dGhpcy5zdHJpbmcuc3BsaXQoXCJcXG5cIikpLmxlbmd0aDtpPmU7cj0rK2UpYz11W3JdLHI+MCYmKHQ9bihcImJyXCIpLGEucHVzaCh0KSksYy5sZW5ndGgmJihvPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRoaXMucHJlc2VydmVTcGFjZXMoYykpLGEucHVzaChvKSk7cmV0dXJuIGF9LGEucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgdCxyLGksbyxhLHMsdSxjLGw7Zm9yKG8gaW4gYz17fSxzPXRoaXMuYXR0cmlidXRlcylpZihsPXNbb10sKHQ9ZShvKSkmJih0LnRhZ05hbWUmJihhPW4odC50YWdOYW1lKSxpPyhpLmFwcGVuZENoaWxkKGEpLGk9YSk6cj1pPWEpLHQuc3R5bGVQcm9wZXJ0eSYmKGNbdC5zdHlsZVByb3BlcnR5XT1sKSx0LnN0eWxlKSlmb3IobyBpbiB1PXQuc3R5bGUpbD11W29dLGNbb109bDtpZihPYmplY3Qua2V5cyhjKS5sZW5ndGgpZm9yKG8gaW4gbnVsbD09ciYmKHI9bihcInNwYW5cIikpLGMpbD1jW29dLHIuc3R5bGVbb109bDtyZXR1cm4gcn0sYS5wcm90b3R5cGUuY3JlYXRlQ29udGFpbmVyRWxlbWVudD1mdW5jdGlvbigpe3ZhciB0LHIsaSxvLGE7Zm9yKGkgaW4gbz10aGlzLmF0dHJpYnV0ZXMpaWYoYT1vW2ldLChyPWUoaSkpJiZyLmdyb3VwVGFnTmFtZSlyZXR1cm4odD17fSlbaV09YSxuKHIuZ3JvdXBUYWdOYW1lLHQpfSxzPXIuTk9OX0JSRUFLSU5HX1NQQUNFLGEucHJvdG90eXBlLnByZXNlcnZlU3BhY2VzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbnRleHQuaXNMYXN0JiYodD10LnJlcGxhY2UoL1xcICQvLHMpKSx0PXQucmVwbGFjZSgvKFxcUylcXCB7M30oXFxTKS9nLFwiJDEgXCIrcytcIiAkMlwiKS5yZXBsYWNlKC9cXCB7Mn0vZyxzK1wiIFwiKS5yZXBsYWNlKC9cXCB7Mn0vZyxcIiBcIitzKSwodGhpcy5jb250ZXh0LmlzRmlyc3R8fHRoaXMuY29udGV4dC5mb2xsb3dzV2hpdGVzcGFjZSkmJih0PXQucmVwbGFjZSgvXlxcIC8scykpLHR9LGF9KHIuT2JqZWN0Vmlldyl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbih0LG4pe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciBpIGluIG4pZS5jYWxsKG4saSkmJih0W2ldPW5baV0pO3JldHVybiByLnByb3RvdHlwZT1uLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgcix0Ll9fc3VwZXJfXz1uLnByb3RvdHlwZSx0fSxlPXt9Lmhhc093blByb3BlcnR5O3IuVGV4dFZpZXc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbigpe24uX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLnRleHQ9dGhpcy5vYmplY3QsdGhpcy50ZXh0Q29uZmlnPXRoaXMub3B0aW9ucy50ZXh0Q29uZmlnfXZhciBpO3JldHVybiB0KG4sZSksbi5wcm90b3R5cGUuY3JlYXRlTm9kZXM9ZnVuY3Rpb24oKXt2YXIgdCxlLG4sbyxhLHMsdSxjLGwsaDtmb3Iocz1bXSxvPShjPXIuT2JqZWN0R3JvdXAuZ3JvdXBPYmplY3RzKHRoaXMuZ2V0UGllY2VzKCkpKS5sZW5ndGgtMSxuPWU9MCxhPWMubGVuZ3RoO2E+ZTtuPSsrZSl1PWNbbl0sdD17fSwwPT09biYmKHQuaXNGaXJzdD0hMCksbj09PW8mJih0LmlzTGFzdD0hMCksaShsKSYmKHQuZm9sbG93c1doaXRlc3BhY2U9ITApLGg9dGhpcy5maW5kT3JDcmVhdGVDYWNoZWRDaGlsZFZpZXcoci5QaWVjZVZpZXcsdSx7dGV4dENvbmZpZzp0aGlzLnRleHRDb25maWcsY29udGV4dDp0fSkscy5wdXNoLmFwcGx5KHMsaC5nZXROb2RlcygpKSxsPXU7cmV0dXJuIHN9LG4ucHJvdG90eXBlLmdldFBpZWNlcz1mdW5jdGlvbigpe3ZhciB0LGUsbixyLGk7Zm9yKGk9W10sdD0wLGU9KHI9dGhpcy50ZXh0LmdldFBpZWNlcygpKS5sZW5ndGg7ZT50O3QrKykobj1yW3RdKS5oYXNBdHRyaWJ1dGUoXCJibG9ja0JyZWFrXCIpfHxpLnB1c2gobik7cmV0dXJuIGl9LGk9ZnVuY3Rpb24odCl7cmV0dXJuL1xccyQvLnRlc3QobnVsbCE9dD90LnRvU3RyaW5nKCk6dm9pZCAwKX0sbn0oci5PYmplY3RWaWV3KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0LGUsbixpPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSlvLmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIG4ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQuX19zdXBlcl9fPWUucHJvdG90eXBlLHR9LG89e30uaGFzT3duUHJvcGVydHk7bj1yLm1ha2VFbGVtZW50LGU9ci5nZXRCbG9ja0NvbmZpZyx0PXIuY29uZmlnLmNzcyxyLkJsb2NrVmlldz1mdW5jdGlvbihvKXtmdW5jdGlvbiBhKCl7YS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuYmxvY2s9dGhpcy5vYmplY3QsdGhpcy5hdHRyaWJ1dGVzPXRoaXMuYmxvY2suZ2V0QXR0cmlidXRlcygpfXJldHVybiBpKGEsbyksYS5wcm90b3R5cGUuY3JlYXRlTm9kZXM9ZnVuY3Rpb24oKXt2YXIgdCxpLG8sYSxzLHUsYyxsO2lmKHM9W2RvY3VtZW50LmNyZWF0ZUNvbW1lbnQoXCJibG9ja1wiKV0sdGhpcy5ibG9jay5pc0VtcHR5KCk/cy5wdXNoKG4oXCJiclwiKSk6KGM9bnVsbCE9KHU9ZSh0aGlzLmJsb2NrLmdldExhc3RBdHRyaWJ1dGUoKSkpP3UudGV4dDp2b2lkIDAsbD10aGlzLmZpbmRPckNyZWF0ZUNhY2hlZENoaWxkVmlldyhyLlRleHRWaWV3LHRoaXMuYmxvY2sudGV4dCx7dGV4dENvbmZpZzpjfSkscy5wdXNoLmFwcGx5KHMsbC5nZXROb2RlcygpKSx0aGlzLnNob3VsZEFkZEV4dHJhTmV3bGluZUVsZW1lbnQoKSYmcy5wdXNoKG4oXCJiclwiKSkpLHRoaXMuYXR0cmlidXRlcy5sZW5ndGgpcmV0dXJuIHM7Zm9yKHQ9bihyLmNvbmZpZy5ibG9ja0F0dHJpYnV0ZXMuZGVmYXVsdC50YWdOYW1lKSxpPTAsbz1zLmxlbmd0aDtvPmk7aSsrKWE9c1tpXSx0LmFwcGVuZENoaWxkKGEpO3JldHVyblt0XX0sYS5wcm90b3R5cGUuY3JlYXRlQ29udGFpbmVyRWxlbWVudD1mdW5jdGlvbihyKXt2YXIgaSxvLGE7cmV0dXJuIGk9dGhpcy5hdHRyaWJ1dGVzW3JdLG89e3RhZ05hbWU6ZShpKS50YWdOYW1lfSxcImF0dGFjaG1lbnRHYWxsZXJ5XCI9PT1pJiYoYT10aGlzLmJsb2NrLmdldEJsb2NrQnJlYWtQb3NpdGlvbigpLG8uY2xhc3NOYW1lPXQuYXR0YWNobWVudEdhbGxlcnkrXCIgXCIrdC5hdHRhY2htZW50R2FsbGVyeStcIi0tXCIrYSksbihvKX0sYS5wcm90b3R5cGUuc2hvdWxkQWRkRXh0cmFOZXdsaW5lRWxlbWVudD1mdW5jdGlvbigpe3JldHVybi9cXG5cXG4kLy50ZXN0KHRoaXMuYmxvY2sudG9TdHJpbmcoKSl9LGF9KHIuT2JqZWN0Vmlldyl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdCxlLG49ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gbi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IG4sdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH0saT17fS5oYXNPd25Qcm9wZXJ0eTt0PXIuZGVmZXIsZT1yLm1ha2VFbGVtZW50LHIuRG9jdW1lbnRWaWV3PWZ1bmN0aW9uKGkpe2Z1bmN0aW9uIG8oKXtvLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5lbGVtZW50PXRoaXMub3B0aW9ucy5lbGVtZW50LHRoaXMuZWxlbWVudFN0b3JlPW5ldyByLkVsZW1lbnRTdG9yZSx0aGlzLnNldERvY3VtZW50KHRoaXMub2JqZWN0KX12YXIgYSxzLHU7cmV0dXJuIG4obyxpKSxvLnJlbmRlcj1mdW5jdGlvbih0KXt2YXIgbixyO3JldHVybihyPW5ldyB0aGlzKHQse2VsZW1lbnQ6bj1lKFwiZGl2XCIpfSkpLnJlbmRlcigpLHIuc3luYygpLG59LG8ucHJvdG90eXBlLnNldERvY3VtZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0LmlzRXF1YWxUbyh0aGlzLmRvY3VtZW50KT92b2lkIDA6dGhpcy5kb2N1bWVudD10aGlzLm9iamVjdD10fSxvLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgdCxuLGksbyxhLHMsdTtpZih0aGlzLmNoaWxkVmlld3M9W10sdGhpcy5zaGFkb3dFbGVtZW50PWUoXCJkaXZcIiksIXRoaXMuZG9jdW1lbnQuaXNFbXB0eSgpKXtmb3Iocz1bXSx0PTAsbj0oYT1yLk9iamVjdEdyb3VwLmdyb3VwT2JqZWN0cyh0aGlzLmRvY3VtZW50LmdldEJsb2NrcygpLHthc1RyZWU6ITB9KSkubGVuZ3RoO24+dDt0Kyspbz1hW3RdLHU9dGhpcy5maW5kT3JDcmVhdGVDYWNoZWRDaGlsZFZpZXcoci5CbG9ja1ZpZXcsbykscy5wdXNoKGZ1bmN0aW9uKCl7dmFyIHQsZSxuLHI7Zm9yKHI9W10sdD0wLGU9KG49dS5nZXROb2RlcygpKS5sZW5ndGg7ZT50O3QrKylpPW5bdF0sci5wdXNoKHRoaXMuc2hhZG93RWxlbWVudC5hcHBlbmRDaGlsZChpKSk7cmV0dXJuIHJ9LmNhbGwodGhpcykpO3JldHVybiBzfX0sby5wcm90b3R5cGUuaXNTeW5jZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzLnNoYWRvd0VsZW1lbnQsdGhpcy5lbGVtZW50KX0sby5wcm90b3R5cGUuc3luYz1mdW5jdGlvbigpe3ZhciB0O2Zvcih0PXRoaXMuY3JlYXRlRG9jdW1lbnRGcmFnbWVudEZvclN5bmMoKTt0aGlzLmVsZW1lbnQubGFzdENoaWxkOyl0aGlzLmVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50Lmxhc3RDaGlsZCk7cmV0dXJuIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0KSx0aGlzLmRpZFN5bmMoKX0sby5wcm90b3R5cGUuZGlkU3luYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnRTdG9yZS5yZXNldChzKHRoaXMuZWxlbWVudCkpLHQoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuZ2FyYmFnZUNvbGxlY3RDYWNoZWRWaWV3cygpfX0odGhpcykpfSxvLnByb3RvdHlwZS5jcmVhdGVEb2N1bWVudEZyYWdtZW50Rm9yU3luYz1mdW5jdGlvbigpe3ZhciB0LGUsbixyLGksbyxhLHUsYyxsO2ZvcihlPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxuPTAsaT0odT10aGlzLnNoYWRvd0VsZW1lbnQuY2hpbGROb2RlcykubGVuZ3RoO2k+bjtuKyspYT11W25dLGUuYXBwZW5kQ2hpbGQoYS5jbG9uZU5vZGUoITApKTtmb3Iocj0wLG89KGM9cyhlKSkubGVuZ3RoO28+cjtyKyspdD1jW3JdLChsPXRoaXMuZWxlbWVudFN0b3JlLnJlbW92ZSh0KSkmJnQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobCx0KTtyZXR1cm4gZX0scz1mdW5jdGlvbih0KXtyZXR1cm4gdC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtdHJpeC1zdG9yZS1rZXldXCIpfSxhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHUodC5pbm5lckhUTUwpPT09dShlLmlubmVySFRNTCl9LHU9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvJm5ic3A7L2csXCIgXCIpfSxvfShyLk9iamVjdFZpZXcpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQsZSxuLGksbyxhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX0scz1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpdS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiBuLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbix0Ll9fc3VwZXJfXz1lLnByb3RvdHlwZSx0fSx1PXt9Lmhhc093blByb3BlcnR5O249ci5maW5kQ2xvc2VzdEVsZW1lbnRGcm9tTm9kZSxpPXIuaGFuZGxlRXZlbnQsbz1yLmlubmVyRWxlbWVudElzQWN0aXZlLGU9ci5kZWZlcix0PXIuQXR0YWNobWVudFZpZXcuYXR0YWNobWVudFNlbGVjdG9yLHIuQ29tcG9zaXRpb25Db250cm9sbGVyPWZ1bmN0aW9uKHUpe2Z1bmN0aW9uIGMoZSxuKXt0aGlzLmVsZW1lbnQ9ZSx0aGlzLmNvbXBvc2l0aW9uPW4sdGhpcy5kaWRDbGlja0F0dGFjaG1lbnQ9YSh0aGlzLmRpZENsaWNrQXR0YWNobWVudCx0aGlzKSx0aGlzLmRpZEJsdXI9YSh0aGlzLmRpZEJsdXIsdGhpcyksdGhpcy5kaWRGb2N1cz1hKHRoaXMuZGlkRm9jdXMsdGhpcyksdGhpcy5kb2N1bWVudFZpZXc9bmV3IHIuRG9jdW1lbnRWaWV3KHRoaXMuY29tcG9zaXRpb24uZG9jdW1lbnQse2VsZW1lbnQ6dGhpcy5lbGVtZW50fSksaShcImZvY3VzXCIse29uRWxlbWVudDp0aGlzLmVsZW1lbnQsd2l0aENhbGxiYWNrOnRoaXMuZGlkRm9jdXN9KSxpKFwiYmx1clwiLHtvbkVsZW1lbnQ6dGhpcy5lbGVtZW50LHdpdGhDYWxsYmFjazp0aGlzLmRpZEJsdXJ9KSxpKFwiY2xpY2tcIix7b25FbGVtZW50OnRoaXMuZWxlbWVudCxtYXRjaGluZ1NlbGVjdG9yOlwiYVtjb250ZW50ZWRpdGFibGU9ZmFsc2VdXCIscHJldmVudERlZmF1bHQ6ITB9KSxpKFwibW91c2Vkb3duXCIse29uRWxlbWVudDp0aGlzLmVsZW1lbnQsbWF0Y2hpbmdTZWxlY3Rvcjp0LHdpdGhDYWxsYmFjazp0aGlzLmRpZENsaWNrQXR0YWNobWVudH0pLGkoXCJjbGlja1wiLHtvbkVsZW1lbnQ6dGhpcy5lbGVtZW50LG1hdGNoaW5nU2VsZWN0b3I6XCJhXCIrdCxwcmV2ZW50RGVmYXVsdDohMH0pfXJldHVybiBzKGMsdSksYy5wcm90b3R5cGUuZGlkRm9jdXM9ZnVuY3Rpb24oKXt2YXIgdCxlLG47cmV0dXJuIHQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHQuZm9jdXNlZD92b2lkIDA6KHQuZm9jdXNlZD0hMCxudWxsIT0oZT10LmRlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5jb21wb3NpdGlvbkNvbnRyb2xsZXJEaWRGb2N1cz9lLmNvbXBvc2l0aW9uQ29udHJvbGxlckRpZEZvY3VzKCk6dm9pZCAwKX19KHRoaXMpLG51bGwhPShlPW51bGwhPShuPXRoaXMuYmx1clByb21pc2UpP24udGhlbih0KTp2b2lkIDApP2U6dCgpfSxjLnByb3RvdHlwZS5kaWRCbHVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmx1clByb21pc2U9bmV3IFByb21pc2UoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBlKChmdW5jdGlvbigpe3ZhciBlO3JldHVybiBvKHQuZWxlbWVudCl8fCh0LmZvY3VzZWQ9bnVsbCxudWxsIT0oZT10LmRlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5jb21wb3NpdGlvbkNvbnRyb2xsZXJEaWRCbHVyJiZlLmNvbXBvc2l0aW9uQ29udHJvbGxlckRpZEJsdXIoKSksdC5ibHVyUHJvbWlzZT1udWxsLG4oKX0pKX19KHRoaXMpKX0sYy5wcm90b3R5cGUuZGlkQ2xpY2tBdHRhY2htZW50PWZ1bmN0aW9uKHQsZSl7dmFyIHIsaSxvO3JldHVybiByPXRoaXMuZmluZEF0dGFjaG1lbnRGb3JFbGVtZW50KGUpLGk9bnVsbCE9bih0LnRhcmdldCx7bWF0Y2hpbmdTZWxlY3RvcjpcImZpZ2NhcHRpb25cIn0pLG51bGwhPShvPXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBvLmNvbXBvc2l0aW9uQ29udHJvbGxlckRpZFNlbGVjdEF0dGFjaG1lbnQ/by5jb21wb3NpdGlvbkNvbnRyb2xsZXJEaWRTZWxlY3RBdHRhY2htZW50KHIse2VkaXRDYXB0aW9uOml9KTp2b2lkIDB9LGMucHJvdG90eXBlLmdldFNlcmlhbGl6YWJsZUVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0VkaXRpbmdBdHRhY2htZW50KCk/dGhpcy5kb2N1bWVudFZpZXcuc2hhZG93RWxlbWVudDp0aGlzLmVsZW1lbnR9LGMucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciB0LGUsbjtyZXR1cm4gdGhpcy5yZXZpc2lvbiE9PXRoaXMuY29tcG9zaXRpb24ucmV2aXNpb24mJih0aGlzLmRvY3VtZW50Vmlldy5zZXREb2N1bWVudCh0aGlzLmNvbXBvc2l0aW9uLmRvY3VtZW50KSx0aGlzLmRvY3VtZW50Vmlldy5yZW5kZXIoKSx0aGlzLnJldmlzaW9uPXRoaXMuY29tcG9zaXRpb24ucmV2aXNpb24pLHRoaXMuY2FuU3luY0RvY3VtZW50VmlldygpJiYhdGhpcy5kb2N1bWVudFZpZXcuaXNTeW5jZWQoKSYmKG51bGwhPSh0PXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNvbXBvc2l0aW9uQ29udHJvbGxlcldpbGxTeW5jRG9jdW1lbnRWaWV3JiZ0LmNvbXBvc2l0aW9uQ29udHJvbGxlcldpbGxTeW5jRG9jdW1lbnRWaWV3KCksdGhpcy5kb2N1bWVudFZpZXcuc3luYygpLG51bGwhPShlPXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmNvbXBvc2l0aW9uQ29udHJvbGxlckRpZFN5bmNEb2N1bWVudFZpZXcmJmUuY29tcG9zaXRpb25Db250cm9sbGVyRGlkU3luY0RvY3VtZW50VmlldygpKSxudWxsIT0obj10aGlzLmRlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5jb21wb3NpdGlvbkNvbnRyb2xsZXJEaWRSZW5kZXI/bi5jb21wb3NpdGlvbkNvbnRyb2xsZXJEaWRSZW5kZXIoKTp2b2lkIDB9LGMucHJvdG90eXBlLnJlcmVuZGVyVmlld0Zvck9iamVjdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbnZhbGlkYXRlVmlld0Zvck9iamVjdCh0KSx0aGlzLnJlbmRlcigpfSxjLnByb3RvdHlwZS5pbnZhbGlkYXRlVmlld0Zvck9iamVjdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kb2N1bWVudFZpZXcuaW52YWxpZGF0ZVZpZXdGb3JPYmplY3QodCl9LGMucHJvdG90eXBlLmlzVmlld0NhY2hpbmdFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jdW1lbnRWaWV3LmlzVmlld0NhY2hpbmdFbmFibGVkKCl9LGMucHJvdG90eXBlLmVuYWJsZVZpZXdDYWNoaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jdW1lbnRWaWV3LmVuYWJsZVZpZXdDYWNoaW5nKCl9LGMucHJvdG90eXBlLmRpc2FibGVWaWV3Q2FjaGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRvY3VtZW50Vmlldy5kaXNhYmxlVmlld0NhY2hpbmcoKX0sYy5wcm90b3R5cGUucmVmcmVzaFZpZXdDYWNoZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRvY3VtZW50Vmlldy5nYXJiYWdlQ29sbGVjdENhY2hlZFZpZXdzKCl9LGMucHJvdG90eXBlLmlzRWRpdGluZ0F0dGFjaG1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5hdHRhY2htZW50RWRpdG9yfSxjLnByb3RvdHlwZS5pbnN0YWxsQXR0YWNobWVudEVkaXRvckZvckF0dGFjaG1lbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbixpLG87aWYoKG51bGwhPShvPXRoaXMuYXR0YWNobWVudEVkaXRvcik/by5hdHRhY2htZW50OnZvaWQgMCkhPT10JiYoaT10aGlzLmRvY3VtZW50Vmlldy5maW5kRWxlbWVudEZvck9iamVjdCh0KSkpcmV0dXJuIHRoaXMudW5pbnN0YWxsQXR0YWNobWVudEVkaXRvcigpLG49dGhpcy5jb21wb3NpdGlvbi5kb2N1bWVudC5nZXRBdHRhY2htZW50UGllY2VGb3JBdHRhY2htZW50KHQpLHRoaXMuYXR0YWNobWVudEVkaXRvcj1uZXcgci5BdHRhY2htZW50RWRpdG9yQ29udHJvbGxlcihuLGksdGhpcy5lbGVtZW50LGUpLHRoaXMuYXR0YWNobWVudEVkaXRvci5kZWxlZ2F0ZT10aGlzfSxjLnByb3RvdHlwZS51bmluc3RhbGxBdHRhY2htZW50RWRpdG9yPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PXRoaXMuYXR0YWNobWVudEVkaXRvcik/dC51bmluc3RhbGwoKTp2b2lkIDB9LGMucHJvdG90eXBlLmRpZFVuaW5zdGFsbEF0dGFjaG1lbnRFZGl0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRhY2htZW50RWRpdG9yPW51bGwsdGhpcy5yZW5kZXIoKX0sYy5wcm90b3R5cGUuYXR0YWNobWVudEVkaXRvckRpZFJlcXVlc3RVcGRhdGluZ0F0dHJpYnV0ZXNGb3JBdHRhY2htZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIG51bGwhPShuPXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLmNvbXBvc2l0aW9uQ29udHJvbGxlcldpbGxVcGRhdGVBdHRhY2htZW50JiZuLmNvbXBvc2l0aW9uQ29udHJvbGxlcldpbGxVcGRhdGVBdHRhY2htZW50KGUpLHRoaXMuY29tcG9zaXRpb24udXBkYXRlQXR0cmlidXRlc0ZvckF0dGFjaG1lbnQodCxlKX0sYy5wcm90b3R5cGUuYXR0YWNobWVudEVkaXRvckRpZFJlcXVlc3RSZW1vdmluZ0F0dHJpYnV0ZUZvckF0dGFjaG1lbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gbnVsbCE9KG49dGhpcy5kZWxlZ2F0ZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIG4uY29tcG9zaXRpb25Db250cm9sbGVyV2lsbFVwZGF0ZUF0dGFjaG1lbnQmJm4uY29tcG9zaXRpb25Db250cm9sbGVyV2lsbFVwZGF0ZUF0dGFjaG1lbnQoZSksdGhpcy5jb21wb3NpdGlvbi5yZW1vdmVBdHRyaWJ1dGVGb3JBdHRhY2htZW50KHQsZSl9LGMucHJvdG90eXBlLmF0dGFjaG1lbnRFZGl0b3JEaWRSZXF1ZXN0UmVtb3ZhbE9mQXR0YWNobWVudD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gbnVsbCE9KGU9dGhpcy5kZWxlZ2F0ZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY29tcG9zaXRpb25Db250cm9sbGVyRGlkUmVxdWVzdFJlbW92YWxPZkF0dGFjaG1lbnQ/ZS5jb21wb3NpdGlvbkNvbnRyb2xsZXJEaWRSZXF1ZXN0UmVtb3ZhbE9mQXR0YWNobWVudCh0KTp2b2lkIDB9LGMucHJvdG90eXBlLmF0dGFjaG1lbnRFZGl0b3JEaWRSZXF1ZXN0RGVzZWxlY3RpbmdBdHRhY2htZW50PWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBudWxsIT0oZT10aGlzLmRlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5jb21wb3NpdGlvbkNvbnRyb2xsZXJEaWRSZXF1ZXN0RGVzZWxlY3RpbmdBdHRhY2htZW50P2UuY29tcG9zaXRpb25Db250cm9sbGVyRGlkUmVxdWVzdERlc2VsZWN0aW5nQXR0YWNobWVudCh0KTp2b2lkIDB9LGMucHJvdG90eXBlLmNhblN5bmNEb2N1bWVudFZpZXc9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0VkaXRpbmdBdHRhY2htZW50KCl9LGMucHJvdG90eXBlLmZpbmRBdHRhY2htZW50Rm9yRWxlbWVudD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5kb2N1bWVudC5nZXRBdHRhY2htZW50QnlJZChwYXJzZUludCh0LmRhdGFzZXQudHJpeElkLDEwKSl9LGN9KHIuQmFzaWNPYmplY3QpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQsZSxuLGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLGFyZ3VtZW50cyl9fSxvPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSlhLmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIG4ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQuX19zdXBlcl9fPWUucHJvdG90eXBlLHR9LGE9e30uaGFzT3duUHJvcGVydHk7ZT1yLmhhbmRsZUV2ZW50LG49ci50cmlnZ2VyRXZlbnQsdD1yLmZpbmRDbG9zZXN0RWxlbWVudEZyb21Ob2RlLHIuVG9vbGJhckNvbnRyb2xsZXI9ZnVuY3Rpb24ocil7ZnVuY3Rpb24gYSh0KXt0aGlzLmVsZW1lbnQ9dCx0aGlzLmRpZEtleURvd25EaWFsb2dJbnB1dD1pKHRoaXMuZGlkS2V5RG93bkRpYWxvZ0lucHV0LHRoaXMpLHRoaXMuZGlkQ2xpY2tEaWFsb2dCdXR0b249aSh0aGlzLmRpZENsaWNrRGlhbG9nQnV0dG9uLHRoaXMpLHRoaXMuZGlkQ2xpY2tBdHRyaWJ1dGVCdXR0b249aSh0aGlzLmRpZENsaWNrQXR0cmlidXRlQnV0dG9uLHRoaXMpLHRoaXMuZGlkQ2xpY2tBY3Rpb25CdXR0b249aSh0aGlzLmRpZENsaWNrQWN0aW9uQnV0dG9uLHRoaXMpLHRoaXMuYXR0cmlidXRlcz17fSx0aGlzLmFjdGlvbnM9e30sdGhpcy5yZXNldERpYWxvZ0lucHV0cygpLGUoXCJtb3VzZWRvd25cIix7b25FbGVtZW50OnRoaXMuZWxlbWVudCxtYXRjaGluZ1NlbGVjdG9yOnMsd2l0aENhbGxiYWNrOnRoaXMuZGlkQ2xpY2tBY3Rpb25CdXR0b259KSxlKFwibW91c2Vkb3duXCIse29uRWxlbWVudDp0aGlzLmVsZW1lbnQsbWF0Y2hpbmdTZWxlY3Rvcjp1LHdpdGhDYWxsYmFjazp0aGlzLmRpZENsaWNrQXR0cmlidXRlQnV0dG9ufSksZShcImNsaWNrXCIse29uRWxlbWVudDp0aGlzLmVsZW1lbnQsbWF0Y2hpbmdTZWxlY3RvcjptLHByZXZlbnREZWZhdWx0OiEwfSksZShcImNsaWNrXCIse29uRWxlbWVudDp0aGlzLmVsZW1lbnQsbWF0Y2hpbmdTZWxlY3RvcjpjLHdpdGhDYWxsYmFjazp0aGlzLmRpZENsaWNrRGlhbG9nQnV0dG9ufSksZShcImtleWRvd25cIix7b25FbGVtZW50OnRoaXMuZWxlbWVudCxtYXRjaGluZ1NlbGVjdG9yOmwsd2l0aENhbGxiYWNrOnRoaXMuZGlkS2V5RG93bkRpYWxvZ0lucHV0fSl9dmFyIHMsdSxjLGwsaCxwLGQsZixnLG07cmV0dXJuIG8oYSxyKSxtPSh1PVwiW2RhdGEtdHJpeC1hdHRyaWJ1dGVdXCIpK1wiLCBcIisocz1cIltkYXRhLXRyaXgtYWN0aW9uXVwiKSwoaD1cIltkYXRhLXRyaXgtZGlhbG9nXVwiKStcIltkYXRhLXRyaXgtYWN0aXZlXVwiLGM9aCtcIiBbZGF0YS10cml4LW1ldGhvZF1cIixsPWgrXCIgW2RhdGEtdHJpeC1pbnB1dF1cIixhLnByb3RvdHlwZS5kaWRDbGlja0FjdGlvbkJ1dHRvbj1mdW5jdGlvbih0LGUpe3ZhciBuLHIsaTtyZXR1cm4gbnVsbCE9KHI9dGhpcy5kZWxlZ2F0ZSkmJnIudG9vbGJhckRpZENsaWNrQnV0dG9uKCksdC5wcmV2ZW50RGVmYXVsdCgpLG49cChlKSx0aGlzLmdldERpYWxvZyhuKT90aGlzLnRvZ2dsZURpYWxvZyhuKTpudWxsIT0oaT10aGlzLmRlbGVnYXRlKT9pLnRvb2xiYXJEaWRJbnZva2VBY3Rpb24obik6dm9pZCAwfSxhLnByb3RvdHlwZS5kaWRDbGlja0F0dHJpYnV0ZUJ1dHRvbj1mdW5jdGlvbih0LGUpe3ZhciBuLHIsaTtyZXR1cm4gbnVsbCE9KHI9dGhpcy5kZWxlZ2F0ZSkmJnIudG9vbGJhckRpZENsaWNrQnV0dG9uKCksdC5wcmV2ZW50RGVmYXVsdCgpLG49ZChlKSx0aGlzLmdldERpYWxvZyhuKT90aGlzLnRvZ2dsZURpYWxvZyhuKTpudWxsIT0oaT10aGlzLmRlbGVnYXRlKSYmaS50b29sYmFyRGlkVG9nZ2xlQXR0cmlidXRlKG4pLHRoaXMucmVmcmVzaEF0dHJpYnV0ZUJ1dHRvbnMoKX0sYS5wcm90b3R5cGUuZGlkQ2xpY2tEaWFsb2dCdXR0b249ZnVuY3Rpb24oZSxuKXt2YXIgcjtyZXR1cm4gcj10KG4se21hdGNoaW5nU2VsZWN0b3I6aH0pLHRoaXNbbi5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRyaXgtbWV0aG9kXCIpXS5jYWxsKHRoaXMscil9LGEucHJvdG90eXBlLmRpZEtleURvd25EaWFsb2dJbnB1dD1mdW5jdGlvbih0LGUpe3ZhciBuLHI7cmV0dXJuIDEzPT09dC5rZXlDb2RlJiYodC5wcmV2ZW50RGVmYXVsdCgpLG49ZS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpLHI9dGhpcy5nZXREaWFsb2cobiksdGhpcy5zZXRBdHRyaWJ1dGUocikpLDI3PT09dC5rZXlDb2RlPyh0LnByZXZlbnREZWZhdWx0KCksdGhpcy5oaWRlRGlhbG9nKCkpOnZvaWQgMH0sYS5wcm90b3R5cGUudXBkYXRlQWN0aW9ucz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hY3Rpb25zPXQsdGhpcy5yZWZyZXNoQWN0aW9uQnV0dG9ucygpfSxhLnByb3RvdHlwZS5yZWZyZXNoQWN0aW9uQnV0dG9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2hBY3Rpb25CdXR0b24oZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7cmV0dXJuIGUuZGlzYWJsZWQ9ITE9PT10LmFjdGlvbnNbbl19fSh0aGlzKSl9LGEucHJvdG90eXBlLmVhY2hBY3Rpb25CdXR0b249ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbztmb3Iobz1bXSxuPTAscj0oaT10aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzKSkubGVuZ3RoO3I+bjtuKyspZT1pW25dLG8ucHVzaCh0KGUscChlKSkpO3JldHVybiBvfSxhLnByb3RvdHlwZS51cGRhdGVBdHRyaWJ1dGVzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXM9dCx0aGlzLnJlZnJlc2hBdHRyaWJ1dGVCdXR0b25zKCl9LGEucHJvdG90eXBlLnJlZnJlc2hBdHRyaWJ1dGVCdXR0b25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaEF0dHJpYnV0ZUJ1dHRvbihmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtyZXR1cm4gZS5kaXNhYmxlZD0hMT09PXQuYXR0cmlidXRlc1tuXSx0LmF0dHJpYnV0ZXNbbl18fHQuZGlhbG9nSXNWaXNpYmxlKG4pPyhlLnNldEF0dHJpYnV0ZShcImRhdGEtdHJpeC1hY3RpdmVcIixcIlwiKSxlLmNsYXNzTGlzdC5hZGQoXCJ0cml4LWFjdGl2ZVwiKSk6KGUucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS10cml4LWFjdGl2ZVwiKSxlLmNsYXNzTGlzdC5yZW1vdmUoXCJ0cml4LWFjdGl2ZVwiKSl9fSh0aGlzKSl9LGEucHJvdG90eXBlLmVhY2hBdHRyaWJ1dGVCdXR0b249ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbztmb3Iobz1bXSxuPTAscj0oaT10aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh1KSkubGVuZ3RoO3I+bjtuKyspZT1pW25dLG8ucHVzaCh0KGUsZChlKSkpO3JldHVybiBvfSxhLnByb3RvdHlwZS5hcHBseUtleWJvYXJkQ29tbWFuZD1mdW5jdGlvbih0KXt2YXIgZSxyLGksbyxhLHM7Zm9yKG89SlNPTi5zdHJpbmdpZnkodC5zb3J0KCkpLGk9MCxhPShzPXRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtdHJpeC1rZXldXCIpKS5sZW5ndGg7YT5pO2krKylpZihyPShlPXNbaV0pLmdldEF0dHJpYnV0ZShcImRhdGEtdHJpeC1rZXlcIikuc3BsaXQoXCIrXCIpLEpTT04uc3RyaW5naWZ5KHIuc29ydCgpKT09PW8pcmV0dXJuIG4oXCJtb3VzZWRvd25cIix7b25FbGVtZW50OmV9KSwhMDtyZXR1cm4hMX0sYS5wcm90b3R5cGUuZGlhbG9nSXNWaXNpYmxlPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybihlPXRoaXMuZ2V0RGlhbG9nKHQpKT9lLmhhc0F0dHJpYnV0ZShcImRhdGEtdHJpeC1hY3RpdmVcIik6dm9pZCAwfSxhLnByb3RvdHlwZS50b2dnbGVEaWFsb2c9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGlhbG9nSXNWaXNpYmxlKHQpP3RoaXMuaGlkZURpYWxvZygpOnRoaXMuc2hvd0RpYWxvZyh0KX0sYS5wcm90b3R5cGUuc2hvd0RpYWxvZz1mdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscyx1LGM7Zm9yKHRoaXMuaGlkZURpYWxvZygpLG51bGwhPShhPXRoaXMuZGVsZWdhdGUpJiZhLnRvb2xiYXJXaWxsU2hvd0RpYWxvZygpLChuPXRoaXMuZ2V0RGlhbG9nKHQpKS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRyaXgtYWN0aXZlXCIsXCJcIiksbi5jbGFzc0xpc3QuYWRkKFwidHJpeC1hY3RpdmVcIikscj0wLG89KHM9bi5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRbZGlzYWJsZWRdXCIpKS5sZW5ndGg7bz5yO3IrKylzW3JdLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO3JldHVybihlPWQobikpJiYoaT1nKG4sdCkpJiYoaS52YWx1ZT1udWxsIT0odT10aGlzLmF0dHJpYnV0ZXNbZV0pP3U6XCJcIixpLnNlbGVjdCgpKSxudWxsIT0oYz10aGlzLmRlbGVnYXRlKT9jLnRvb2xiYXJEaWRTaG93RGlhbG9nKHQpOnZvaWQgMH0sYS5wcm90b3R5cGUuc2V0QXR0cmlidXRlPWZ1bmN0aW9uKHQpe3ZhciBlLG4scjtyZXR1cm4gZT1kKHQpLChuPWcodCxlKSkud2lsbFZhbGlkYXRlJiYhbi5jaGVja1ZhbGlkaXR5KCk/KG4uc2V0QXR0cmlidXRlKFwiZGF0YS10cml4LXZhbGlkYXRlXCIsXCJcIiksbi5jbGFzc0xpc3QuYWRkKFwidHJpeC12YWxpZGF0ZVwiKSxuLmZvY3VzKCkpOihudWxsIT0ocj10aGlzLmRlbGVnYXRlKSYmci50b29sYmFyRGlkVXBkYXRlQXR0cmlidXRlKGUsbi52YWx1ZSksdGhpcy5oaWRlRGlhbG9nKCkpfSxhLnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGU9ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gZT1kKHQpLG51bGwhPShuPXRoaXMuZGVsZWdhdGUpJiZuLnRvb2xiYXJEaWRSZW1vdmVBdHRyaWJ1dGUoZSksdGhpcy5oaWRlRGlhbG9nKCl9LGEucHJvdG90eXBlLmhpZGVEaWFsb2c9ZnVuY3Rpb24oKXt2YXIgdCxlO3JldHVybih0PXRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtdHJpeC1kaWFsb2ddW2RhdGEtdHJpeC1hY3RpdmVdXCIpKT8odC5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLXRyaXgtYWN0aXZlXCIpLHQuY2xhc3NMaXN0LnJlbW92ZShcInRyaXgtYWN0aXZlXCIpLHRoaXMucmVzZXREaWFsb2dJbnB1dHMoKSxudWxsIT0oZT10aGlzLmRlbGVnYXRlKT9lLnRvb2xiYXJEaWRIaWRlRGlhbG9nKGYodCkpOnZvaWQgMCk6dm9pZCAwfSxhLnByb3RvdHlwZS5yZXNldERpYWxvZ0lucHV0cz1mdW5jdGlvbigpe3ZhciB0LGUsbixyLGk7Zm9yKGk9W10sdD0wLG49KHI9dGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwobCkpLmxlbmd0aDtuPnQ7dCsrKShlPXJbdF0pLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsXCJkaXNhYmxlZFwiKSxlLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtdHJpeC12YWxpZGF0ZVwiKSxpLnB1c2goZS5jbGFzc0xpc3QucmVtb3ZlKFwidHJpeC12YWxpZGF0ZVwiKSk7cmV0dXJuIGl9LGEucHJvdG90eXBlLmdldERpYWxvZz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS10cml4LWRpYWxvZz1cIit0K1wiXVwiKX0sZz1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT1lJiYoZT1kKHQpKSx0LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS10cml4LWlucHV0XVtuYW1lPSdcIitlK1wiJ11cIil9LHA9ZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0QXR0cmlidXRlKFwiZGF0YS10cml4LWFjdGlvblwiKX0sZD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gbnVsbCE9KGU9dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRyaXgtYXR0cmlidXRlXCIpKT9lOnQuZ2V0QXR0cmlidXRlKFwiZGF0YS10cml4LWRpYWxvZy1hdHRyaWJ1dGVcIil9LGY9ZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0QXR0cmlidXRlKFwiZGF0YS10cml4LWRpYWxvZ1wiKX0sYX0oci5CYXNpY09iamVjdCl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbih0LG4pe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciBpIGluIG4pZS5jYWxsKG4saSkmJih0W2ldPW5baV0pO3JldHVybiByLnByb3RvdHlwZT1uLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgcix0Ll9fc3VwZXJfXz1uLnByb3RvdHlwZSx0fSxlPXt9Lmhhc093blByb3BlcnR5O3IuSW1hZ2VQcmVsb2FkT3BlcmF0aW9uPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4odCl7dGhpcy51cmw9dH1yZXR1cm4gdChuLGUpLG4ucHJvdG90eXBlLnBlcmZvcm09ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuKGU9bmV3IEltYWdlKS5vbmxvYWQ9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUud2lkdGg9bi53aWR0aD1lLm5hdHVyYWxXaWR0aCxlLmhlaWdodD1uLmhlaWdodD1lLm5hdHVyYWxIZWlnaHQsdCghMCxlKX19KHRoaXMpLGUub25lcnJvcj1mdW5jdGlvbigpe3JldHVybiB0KCExKX0sZS5zcmM9dGhpcy51cmx9LG59KHIuT3BlcmF0aW9uKX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX0sZT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciBpIGluIGUpbi5jYWxsKGUsaSkmJih0W2ldPWVbaV0pO3JldHVybiByLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgcix0Ll9fc3VwZXJfXz1lLnByb3RvdHlwZSx0fSxuPXt9Lmhhc093blByb3BlcnR5O3IuQXR0YWNobWVudD1mdW5jdGlvbihuKXtmdW5jdGlvbiBpKGUpe251bGw9PWUmJihlPXt9KSx0aGlzLnJlbGVhc2VGaWxlPXQodGhpcy5yZWxlYXNlRmlsZSx0aGlzKSxpLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5hdHRyaWJ1dGVzPXIuSGFzaC5ib3goZSksdGhpcy5kaWRDaGFuZ2VBdHRyaWJ1dGVzKCl9cmV0dXJuIGUoaSxuKSxpLnByZXZpZXdhYmxlUGF0dGVybj0vXmltYWdlKFxcLyhnaWZ8cG5nfGpwZT9nKXwkKS8saS5hdHRhY2htZW50Rm9yRmlsZT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4oZT1uZXcgdGhpcyh0aGlzLmF0dHJpYnV0ZXNGb3JGaWxlKHQpKSkuc2V0RmlsZSh0KSxlfSxpLmF0dHJpYnV0ZXNGb3JGaWxlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgci5IYXNoKHtmaWxlbmFtZTp0Lm5hbWUsZmlsZXNpemU6dC5zaXplLGNvbnRlbnRUeXBlOnQudHlwZX0pfSxpLmZyb21KU09OPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdGhpcyh0KX0saS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMuZ2V0KHQpfSxpLnByb3RvdHlwZS5oYXNBdHRyaWJ1dGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlcy5oYXModCl9LGkucHJvdG90eXBlLmdldEF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLnRvT2JqZWN0KCl9LGkucHJvdG90eXBlLnNldEF0dHJpYnV0ZXM9ZnVuY3Rpb24odCl7dmFyIGUsbixyO3JldHVybiBudWxsPT10JiYodD17fSksZT10aGlzLmF0dHJpYnV0ZXMubWVyZ2UodCksdGhpcy5hdHRyaWJ1dGVzLmlzRXF1YWxUbyhlKT92b2lkIDA6KHRoaXMuYXR0cmlidXRlcz1lLHRoaXMuZGlkQ2hhbmdlQXR0cmlidXRlcygpLG51bGwhPShuPXRoaXMucHJldmlld0RlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5hdHRhY2htZW50RGlkQ2hhbmdlQXR0cmlidXRlcyYmbi5hdHRhY2htZW50RGlkQ2hhbmdlQXR0cmlidXRlcyh0aGlzKSxudWxsIT0ocj10aGlzLmRlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygci5hdHRhY2htZW50RGlkQ2hhbmdlQXR0cmlidXRlcz9yLmF0dGFjaG1lbnREaWRDaGFuZ2VBdHRyaWJ1dGVzKHRoaXMpOnZvaWQgMCl9LGkucHJvdG90eXBlLmRpZENoYW5nZUF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1ByZXZpZXdhYmxlKCk/dGhpcy5wcmVsb2FkVVJMKCk6dm9pZCAwfSxpLnByb3RvdHlwZS5pc1BlbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5maWxlJiYhKHRoaXMuZ2V0VVJMKCl8fHRoaXMuZ2V0SHJlZigpKX0saS5wcm90b3R5cGUuaXNQcmV2aWV3YWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMuaGFzKFwicHJldmlld2FibGVcIik/dGhpcy5hdHRyaWJ1dGVzLmdldChcInByZXZpZXdhYmxlXCIpOnRoaXMuY29uc3RydWN0b3IucHJldmlld2FibGVQYXR0ZXJuLnRlc3QodGhpcy5nZXRDb250ZW50VHlwZSgpKX0saS5wcm90b3R5cGUuZ2V0VHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc0NvbnRlbnQoKT9cImNvbnRlbnRcIjp0aGlzLmlzUHJldmlld2FibGUoKT9cInByZXZpZXdcIjpcImZpbGVcIn0saS5wcm90b3R5cGUuZ2V0VVJMPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlcy5nZXQoXCJ1cmxcIil9LGkucHJvdG90eXBlLmdldEhyZWY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmdldChcImhyZWZcIil9LGkucHJvdG90eXBlLmdldEZpbGVuYW1lPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PXRoaXMuYXR0cmlidXRlcy5nZXQoXCJmaWxlbmFtZVwiKSk/dDpcIlwifSxpLnByb3RvdHlwZS5nZXRGaWxlc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMuZ2V0KFwiZmlsZXNpemVcIil9LGkucHJvdG90eXBlLmdldEZvcm1hdHRlZEZpbGVzaXplPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mKHQ9dGhpcy5hdHRyaWJ1dGVzLmdldChcImZpbGVzaXplXCIpKT9yLmNvbmZpZy5maWxlU2l6ZS5mb3JtYXR0ZXIodCk6XCJcIn0saS5wcm90b3R5cGUuZ2V0RXh0ZW5zaW9uPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PXRoaXMuZ2V0RmlsZW5hbWUoKS5tYXRjaCgvXFwuKFxcdyspJC8pKT90WzFdLnRvTG93ZXJDYXNlKCk6dm9pZCAwfSxpLnByb3RvdHlwZS5nZXRDb250ZW50VHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMuZ2V0KFwiY29udGVudFR5cGVcIil9LGkucHJvdG90eXBlLmhhc0NvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmhhcyhcImNvbnRlbnRcIil9LGkucHJvdG90eXBlLmdldENvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmdldChcImNvbnRlbnRcIil9LGkucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlcy5nZXQoXCJ3aWR0aFwiKX0saS5wcm90b3R5cGUuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlcy5nZXQoXCJoZWlnaHRcIil9LGkucHJvdG90eXBlLmdldEZpbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWxlfSxpLnByb3RvdHlwZS5zZXRGaWxlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZpbGU9dCx0aGlzLmlzUHJldmlld2FibGUoKT90aGlzLnByZWxvYWRGaWxlKCk6dm9pZCAwfSxpLnByb3RvdHlwZS5yZWxlYXNlRmlsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbGVhc2VQcmVsb2FkZWRGaWxlKCksdGhpcy5maWxlPW51bGx9LGkucHJvdG90eXBlLmdldFVwbG9hZFByb2dyZXNzPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PXRoaXMudXBsb2FkUHJvZ3Jlc3MpP3Q6MH0saS5wcm90b3R5cGUuc2V0VXBsb2FkUHJvZ3Jlc3M9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHRoaXMudXBsb2FkUHJvZ3Jlc3MhPT10Pyh0aGlzLnVwbG9hZFByb2dyZXNzPXQsbnVsbCE9KGU9dGhpcy51cGxvYWRQcm9ncmVzc0RlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5hdHRhY2htZW50RGlkQ2hhbmdlVXBsb2FkUHJvZ3Jlc3M/ZS5hdHRhY2htZW50RGlkQ2hhbmdlVXBsb2FkUHJvZ3Jlc3ModGhpcyk6dm9pZCAwKTp2b2lkIDB9LGkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEF0dHJpYnV0ZXMoKX0saS5wcm90b3R5cGUuZ2V0Q2FjaGVLZXk9ZnVuY3Rpb24oKXtyZXR1cm5baS5fX3N1cGVyX18uZ2V0Q2FjaGVLZXkuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuYXR0cmlidXRlcy5nZXRDYWNoZUtleSgpLHRoaXMuZ2V0UHJldmlld1VSTCgpXS5qb2luKFwiL1wiKX0saS5wcm90b3R5cGUuZ2V0UHJldmlld1VSTD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZpZXdVUkx8fHRoaXMucHJlbG9hZGluZ1VSTH0saS5wcm90b3R5cGUuc2V0UHJldmlld1VSTD1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiB0IT09dGhpcy5nZXRQcmV2aWV3VVJMKCk/KHRoaXMucHJldmlld1VSTD10LG51bGwhPShlPXRoaXMucHJldmlld0RlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5hdHRhY2htZW50RGlkQ2hhbmdlQXR0cmlidXRlcyYmZS5hdHRhY2htZW50RGlkQ2hhbmdlQXR0cmlidXRlcyh0aGlzKSxudWxsIT0obj10aGlzLmRlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5hdHRhY2htZW50RGlkQ2hhbmdlUHJldmlld1VSTD9uLmF0dGFjaG1lbnREaWRDaGFuZ2VQcmV2aWV3VVJMKHRoaXMpOnZvaWQgMCk6dm9pZCAwfSxpLnByb3RvdHlwZS5wcmVsb2FkVVJMPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJlbG9hZCh0aGlzLmdldFVSTCgpLHRoaXMucmVsZWFzZUZpbGUpfSxpLnByb3RvdHlwZS5wcmVsb2FkRmlsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZpbGU/KHRoaXMuZmlsZU9iamVjdFVSTD1VUkwuY3JlYXRlT2JqZWN0VVJMKHRoaXMuZmlsZSksdGhpcy5wcmVsb2FkKHRoaXMuZmlsZU9iamVjdFVSTCkpOnZvaWQgMH0saS5wcm90b3R5cGUucmVsZWFzZVByZWxvYWRlZEZpbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWxlT2JqZWN0VVJMPyhVUkwucmV2b2tlT2JqZWN0VVJMKHRoaXMuZmlsZU9iamVjdFVSTCksdGhpcy5maWxlT2JqZWN0VVJMPW51bGwpOnZvaWQgMH0saS5wcm90b3R5cGUucHJlbG9hZD1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZ0IT09dGhpcy5nZXRQcmV2aWV3VVJMKCk/KHRoaXMucHJlbG9hZGluZ1VSTD10LG5ldyByLkltYWdlUHJlbG9hZE9wZXJhdGlvbih0KS50aGVuKGZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbihyKXt2YXIgaSxvO3JldHVybiBvPXIud2lkdGgsaT1yLmhlaWdodCxuLmdldFdpZHRoKCkmJm4uZ2V0SGVpZ2h0KCl8fG4uc2V0QXR0cmlidXRlcyh7d2lkdGg6byxoZWlnaHQ6aX0pLG4ucHJlbG9hZGluZ1VSTD1udWxsLG4uc2V0UHJldmlld1VSTCh0KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2UoKTp2b2lkIDB9fSh0aGlzKSkuY2F0Y2goZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQucHJlbG9hZGluZ1VSTD1udWxsLFwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZSgpOnZvaWQgMH19KHRoaXMpKSk6dm9pZCAwfSxpfShyLk9iamVjdCl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbih0LG4pe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciBpIGluIG4pZS5jYWxsKG4saSkmJih0W2ldPW5baV0pO3JldHVybiByLnByb3RvdHlwZT1uLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgcix0Ll9fc3VwZXJfXz1uLnByb3RvdHlwZSx0fSxlPXt9Lmhhc093blByb3BlcnR5O3IuUGllY2U9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbih0LGUpe251bGw9PWUmJihlPXt9KSxuLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5hdHRyaWJ1dGVzPXIuSGFzaC5ib3goZSl9cmV0dXJuIHQobixlKSxuLnR5cGVzPXt9LG4ucmVnaXN0ZXJUeXBlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUudHlwZT10LHRoaXMudHlwZXNbdF09ZX0sbi5mcm9tSlNPTj1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4oZT10aGlzLnR5cGVzW3QudHlwZV0pP2UuZnJvbUpTT04odCk6dm9pZCAwfSxuLnByb3RvdHlwZS5jb3B5V2l0aEF0dHJpYnV0ZXM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuZ2V0VmFsdWUoKSx0KX0sbi5wcm90b3R5cGUuY29weVdpdGhBZGRpdGlvbmFsQXR0cmlidXRlcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb3B5V2l0aEF0dHJpYnV0ZXModGhpcy5hdHRyaWJ1dGVzLm1lcmdlKHQpKX0sbi5wcm90b3R5cGUuY29weVdpdGhvdXRBdHRyaWJ1dGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29weVdpdGhBdHRyaWJ1dGVzKHRoaXMuYXR0cmlidXRlcy5yZW1vdmUodCkpfSxuLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29weVdpdGhBdHRyaWJ1dGVzKHRoaXMuYXR0cmlidXRlcyl9LG4ucHJvdG90eXBlLmdldEF0dHJpYnV0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmdldCh0KX0sbi5wcm90b3R5cGUuZ2V0QXR0cmlidXRlc0hhc2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzfSxuLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlcy50b09iamVjdCgpfSxuLnByb3RvdHlwZS5nZXRDb21tb25BdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuO3JldHVybihuPXBpZWNlTGlzdC5nZXRQaWVjZUF0SW5kZXgoMCkpPyh0PW4uYXR0cmlidXRlcyxlPXQuZ2V0S2V5cygpLHBpZWNlTGlzdC5lYWNoUGllY2UoKGZ1bmN0aW9uKG4pe3JldHVybiBlPXQuZ2V0S2V5c0NvbW1vblRvSGFzaChuLmF0dHJpYnV0ZXMpLHQ9dC5zbGljZShlKX0pKSx0LnRvT2JqZWN0KCkpOnt9fSxuLnByb3RvdHlwZS5oYXNBdHRyaWJ1dGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlcy5oYXModCl9LG4ucHJvdG90eXBlLmhhc1NhbWVTdHJpbmdWYWx1ZUFzUGllY2U9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQmJnRoaXMudG9TdHJpbmcoKT09PXQudG9TdHJpbmcoKX0sbi5wcm90b3R5cGUuaGFzU2FtZUF0dHJpYnV0ZXNBc1BpZWNlPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10JiYodGhpcy5hdHRyaWJ1dGVzPT09dC5hdHRyaWJ1dGVzfHx0aGlzLmF0dHJpYnV0ZXMuaXNFcXVhbFRvKHQuYXR0cmlidXRlcykpfSxuLnByb3RvdHlwZS5pc0Jsb2NrQnJlYWs9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sbi5wcm90b3R5cGUuaXNFcXVhbFRvPWZ1bmN0aW9uKHQpe3JldHVybiBuLl9fc3VwZXJfXy5pc0VxdWFsVG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzLmhhc1NhbWVDb25zdHJ1Y3RvckFzKHQpJiZ0aGlzLmhhc1NhbWVTdHJpbmdWYWx1ZUFzUGllY2UodCkmJnRoaXMuaGFzU2FtZUF0dHJpYnV0ZXNBc1BpZWNlKHQpfSxuLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmxlbmd0aH0sbi5wcm90b3R5cGUuaXNTZXJpYWxpemFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sbi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6dGhpcy5jb25zdHJ1Y3Rvci50eXBlLGF0dHJpYnV0ZXM6dGhpcy5nZXRBdHRyaWJ1dGVzKCl9fSxuLnByb3RvdHlwZS5jb250ZW50c0Zvckluc3BlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTp0aGlzLmNvbnN0cnVjdG9yLnR5cGUsYXR0cmlidXRlczp0aGlzLmF0dHJpYnV0ZXMuaW5zcGVjdCgpfX0sbi5wcm90b3R5cGUuY2FuQmVHcm91cGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzQXR0cmlidXRlKFwiaHJlZlwiKX0sbi5wcm90b3R5cGUuY2FuQmVHcm91cGVkV2l0aD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpPT09dC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpfSxuLnByb3RvdHlwZS5nZXRMZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9LG4ucHJvdG90eXBlLmNhbkJlQ29uc29saWRhdGVkV2l0aD1mdW5jdGlvbigpe3JldHVybiExfSxufShyLk9iamVjdCl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbih0LG4pe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciBpIGluIG4pZS5jYWxsKG4saSkmJih0W2ldPW5baV0pO3JldHVybiByLnByb3RvdHlwZT1uLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgcix0Ll9fc3VwZXJfXz1uLnByb3RvdHlwZSx0fSxlPXt9Lmhhc093blByb3BlcnR5O3IuUGllY2UucmVnaXN0ZXJUeXBlKFwiYXR0YWNobWVudFwiLHIuQXR0YWNobWVudFBpZWNlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4odCl7dGhpcy5hdHRhY2htZW50PXQsbi5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMubGVuZ3RoPTEsdGhpcy5lbnN1cmVBdHRhY2htZW50RXhjbHVzaXZlbHlIYXNBdHRyaWJ1dGUoXCJocmVmXCIpLHRoaXMuYXR0YWNobWVudC5oYXNDb250ZW50KCl8fHRoaXMucmVtb3ZlUHJvaGliaXRlZEF0dHJpYnV0ZXMoKX1yZXR1cm4gdChuLGUpLG4uZnJvbUpTT049ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0aGlzKHIuQXR0YWNobWVudC5mcm9tSlNPTih0LmF0dGFjaG1lbnQpLHQuYXR0cmlidXRlcyl9LG4ucGVybWl0dGVkQXR0cmlidXRlcz1bXCJjYXB0aW9uXCIsXCJwcmVzZW50YXRpb25cIl0sbi5wcm90b3R5cGUuZW5zdXJlQXR0YWNobWVudEV4Y2x1c2l2ZWx5SGFzQXR0cmlidXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhhc0F0dHJpYnV0ZSh0KT8odGhpcy5hdHRhY2htZW50Lmhhc0F0dHJpYnV0ZSh0KXx8dGhpcy5hdHRhY2htZW50LnNldEF0dHJpYnV0ZXModGhpcy5hdHRyaWJ1dGVzLnNsaWNlKHQpKSx0aGlzLmF0dHJpYnV0ZXM9dGhpcy5hdHRyaWJ1dGVzLnJlbW92ZSh0KSk6dm9pZCAwfSxuLnByb3RvdHlwZS5yZW1vdmVQcm9oaWJpdGVkQXR0cmlidXRlcz1mdW5jdGlvbigpe3ZhciB0O3JldHVybih0PXRoaXMuYXR0cmlidXRlcy5zbGljZSh0aGlzLmNvbnN0cnVjdG9yLnBlcm1pdHRlZEF0dHJpYnV0ZXMpKS5pc0VxdWFsVG8odGhpcy5hdHRyaWJ1dGVzKT92b2lkIDA6dGhpcy5hdHRyaWJ1dGVzPXR9LG4ucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0YWNobWVudH0sbi5wcm90b3R5cGUuaXNTZXJpYWxpemFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5hdHRhY2htZW50LmlzUGVuZGluZygpfSxuLnByb3RvdHlwZS5nZXRDYXB0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PXRoaXMuYXR0cmlidXRlcy5nZXQoXCJjYXB0aW9uXCIpKT90OlwiXCJ9LG4ucHJvdG90eXBlLmlzRXF1YWxUbz1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gbi5fX3N1cGVyX18uaXNFcXVhbFRvLmFwcGx5KHRoaXMsYXJndW1lbnRzKSYmdGhpcy5hdHRhY2htZW50LmlkPT09KG51bGwhPXQmJm51bGwhPShlPXQuYXR0YWNobWVudCk/ZS5pZDp2b2lkIDApfSxuLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiByLk9CSkVDVF9SRVBMQUNFTUVOVF9DSEFSQUNURVJ9LG4ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciB0O3JldHVybih0PW4uX19zdXBlcl9fLnRvSlNPTi5hcHBseSh0aGlzLGFyZ3VtZW50cykpLmF0dGFjaG1lbnQ9dGhpcy5hdHRhY2htZW50LHR9LG4ucHJvdG90eXBlLmdldENhY2hlS2V5PWZ1bmN0aW9uKCl7cmV0dXJuW24uX19zdXBlcl9fLmdldENhY2hlS2V5LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLmF0dGFjaG1lbnQuZ2V0Q2FjaGVLZXkoKV0uam9pbihcIi9cIil9LG4ucHJvdG90eXBlLnRvQ29uc29sZT1mdW5jdGlvbigpe3JldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLnRvU3RyaW5nKCkpfSxufShyLlBpZWNlKSl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdCxlPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIGkgaW4gZSluLmNhbGwoZSxpKSYmKHRbaV09ZVtpXSk7cmV0dXJuIHIucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyByLHQuX19zdXBlcl9fPWUucHJvdG90eXBlLHR9LG49e30uaGFzT3duUHJvcGVydHk7dD1yLm5vcm1hbGl6ZU5ld2xpbmVzLHIuUGllY2UucmVnaXN0ZXJUeXBlKFwic3RyaW5nXCIsci5TdHJpbmdQaWVjZT1mdW5jdGlvbihuKXtmdW5jdGlvbiByKGUpe3IuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLnN0cmluZz10KGUpLHRoaXMubGVuZ3RoPXRoaXMuc3RyaW5nLmxlbmd0aH1yZXR1cm4gZShyLG4pLHIuZnJvbUpTT049ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0aGlzKHQuc3RyaW5nLHQuYXR0cmlidXRlcyl9LHIucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RyaW5nfSxyLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0cmluZy50b1N0cmluZygpfSxyLnByb3RvdHlwZS5pc0Jsb2NrQnJlYWs9ZnVuY3Rpb24oKXtyZXR1cm5cIlxcblwiPT09dGhpcy50b1N0cmluZygpJiYhMD09PXRoaXMuZ2V0QXR0cmlidXRlKFwiYmxvY2tCcmVha1wiKX0sci5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuKHQ9ci5fX3N1cGVyX18udG9KU09OLmFwcGx5KHRoaXMsYXJndW1lbnRzKSkuc3RyaW5nPXRoaXMuc3RyaW5nLHR9LHIucHJvdG90eXBlLmNhbkJlQ29uc29saWRhdGVkV2l0aD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dCYmdGhpcy5oYXNTYW1lQ29uc3RydWN0b3JBcyh0KSYmdGhpcy5oYXNTYW1lQXR0cmlidXRlc0FzUGllY2UodCl9LHIucHJvdG90eXBlLmNvbnNvbGlkYXRlV2l0aD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy50b1N0cmluZygpK3QudG9TdHJpbmcoKSx0aGlzLmF0dHJpYnV0ZXMpfSxyLnByb3RvdHlwZS5zcGxpdEF0T2Zmc2V0PWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIDA9PT10PyhlPW51bGwsbj10aGlzKTp0PT09dGhpcy5sZW5ndGg/KGU9dGhpcyxuPW51bGwpOihlPW5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuc3RyaW5nLnNsaWNlKDAsdCksdGhpcy5hdHRyaWJ1dGVzKSxuPW5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuc3RyaW5nLnNsaWNlKHQpLHRoaXMuYXR0cmlidXRlcykpLFtlLG5dfSxyLnByb3RvdHlwZS50b0NvbnNvbGU9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD10aGlzLnN0cmluZykubGVuZ3RoPjE1JiYodD10LnNsaWNlKDAsMTQpK1wi4oCmXCIpLEpTT04uc3RyaW5naWZ5KHQudG9TdHJpbmcoKSl9LHJ9KHIuUGllY2UpKX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0LGU9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgaSBpbiBlKW4uY2FsbChlLGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gci5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IHIsdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH0sbj17fS5oYXNPd25Qcm9wZXJ0eSxpPVtdLnNsaWNlO3Q9ci5zcGxpY2VBcnJheSxyLlNwbGl0dGFibGVMaXN0PWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHIodCl7bnVsbD09dCYmKHQ9W10pLHIuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLm9iamVjdHM9dC5zbGljZSgwKSx0aGlzLmxlbmd0aD10aGlzLm9iamVjdHMubGVuZ3RofXZhciBvLGEscztyZXR1cm4gZShyLG4pLHIuYm94PWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgdGhpcz90Om5ldyB0aGlzKHQpfSxyLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9iamVjdHMuaW5kZXhPZih0KX0sci5wcm90b3R5cGUuc3BsaWNlPWZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGU9MTw9YXJndW1lbnRzLmxlbmd0aD9pLmNhbGwoYXJndW1lbnRzLDApOltdLG5ldyB0aGlzLmNvbnN0cnVjdG9yKHQuYXBwbHkobnVsbCxbdGhpcy5vYmplY3RzXS5jb25jYXQoaS5jYWxsKGUpKSkpfSxyLnByb3RvdHlwZS5lYWNoT2JqZWN0PWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLG8sYTtmb3IoYT1bXSxuPWU9MCxyPShvPXRoaXMub2JqZWN0cykubGVuZ3RoO3I+ZTtuPSsrZSlpPW9bbl0sYS5wdXNoKHQoaSxuKSk7cmV0dXJuIGF9LHIucHJvdG90eXBlLmluc2VydE9iamVjdEF0SW5kZXg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zcGxpY2UoZSwwLHQpfSxyLnByb3RvdHlwZS5pbnNlcnRTcGxpdHRhYmxlTGlzdEF0SW5kZXg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zcGxpY2UuYXBwbHkodGhpcyxbZSwwXS5jb25jYXQoaS5jYWxsKHQub2JqZWN0cykpKX0sci5wcm90b3R5cGUuaW5zZXJ0U3BsaXR0YWJsZUxpc3RBdFBvc2l0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG4scixpO3JldHVybiByPShpPXRoaXMuc3BsaXRPYmplY3RBdFBvc2l0aW9uKGUpKVswXSxuPWlbMV0sbmV3IHRoaXMuY29uc3RydWN0b3IocikuaW5zZXJ0U3BsaXR0YWJsZUxpc3RBdEluZGV4KHQsbil9LHIucHJvdG90eXBlLmVkaXRPYmplY3RBdEluZGV4PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucmVwbGFjZU9iamVjdEF0SW5kZXgoZSh0aGlzLm9iamVjdHNbdF0pLHQpfSxyLnByb3RvdHlwZS5yZXBsYWNlT2JqZWN0QXRJbmRleD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnNwbGljZShlLDEsdCl9LHIucHJvdG90eXBlLnJlbW92ZU9iamVjdEF0SW5kZXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3BsaWNlKHQsMSl9LHIucHJvdG90eXBlLmdldE9iamVjdEF0SW5kZXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub2JqZWN0c1t0XX0sci5wcm90b3R5cGUuZ2V0U3BsaXR0YWJsZUxpc3RJblJhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpO3JldHVybiBuPShyPXRoaXMuc3BsaXRPYmplY3RzQXRSYW5nZSh0KSlbMF0sZT1yWzFdLGk9clsyXSxuZXcgdGhpcy5jb25zdHJ1Y3RvcihuLnNsaWNlKGUsaSsxKSl9LHIucHJvdG90eXBlLnNlbGVjdFNwbGl0dGFibGVMaXN0PWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIG49ZnVuY3Rpb24oKXt2YXIgbixyLGksbztmb3Iobz1bXSxuPTAscj0oaT10aGlzLm9iamVjdHMpLmxlbmd0aDtyPm47bisrKWU9aVtuXSx0KGUpJiZvLnB1c2goZSk7cmV0dXJuIG99LmNhbGwodGhpcyksbmV3IHRoaXMuY29uc3RydWN0b3Iobil9LHIucHJvdG90eXBlLnJlbW92ZU9iamVjdHNJblJhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpO3JldHVybiBuPShyPXRoaXMuc3BsaXRPYmplY3RzQXRSYW5nZSh0KSlbMF0sZT1yWzFdLGk9clsyXSxuZXcgdGhpcy5jb25zdHJ1Y3RvcihuKS5zcGxpY2UoZSxpLWUrMSl9LHIucHJvdG90eXBlLnRyYW5zZm9ybU9iamVjdHNJblJhbmdlPWZ1bmN0aW9uKHQsZSl7dmFyIG4scixpLG8sYSxzLHU7cmV0dXJuIGE9dGhpcy5zcGxpdE9iamVjdHNBdFJhbmdlKHQpLG89YVswXSxyPWFbMV0scz1hWzJdLHU9ZnVuY3Rpb24oKXt2YXIgdCxhLHU7Zm9yKHU9W10sbj10PTAsYT1vLmxlbmd0aDthPnQ7bj0rK3QpaT1vW25dLHUucHVzaChuPj1yJiZzPj1uP2UoaSk6aSk7cmV0dXJuIHV9KCksbmV3IHRoaXMuY29uc3RydWN0b3IodSl9LHIucHJvdG90eXBlLnNwbGl0T2JqZWN0c0F0UmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksYTtyZXR1cm4gbj0oaT10aGlzLnNwbGl0T2JqZWN0QXRQb3NpdGlvbihzKHQpKSlbMF0sZT1pWzFdLHI9aVsyXSxbbj0oYT1uZXcgdGhpcy5jb25zdHJ1Y3RvcihuKS5zcGxpdE9iamVjdEF0UG9zaXRpb24obyh0KStyKSlbMF0sZSxhWzFdLTFdfSxyLnByb3RvdHlwZS5nZXRPYmplY3RBdFBvc2l0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIGU9KG49dGhpcy5maW5kSW5kZXhBbmRPZmZzZXRBdFBvc2l0aW9uKHQpKS5pbmRleCxuLm9mZnNldCx0aGlzLm9iamVjdHNbZV19LHIucHJvdG90eXBlLnNwbGl0T2JqZWN0QXRQb3NpdGlvbj1mdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscyx1LGM7cmV0dXJuIGU9KG89dGhpcy5maW5kSW5kZXhBbmRPZmZzZXRBdFBvc2l0aW9uKHQpKS5pbmRleCxpPW8ub2Zmc2V0LHI9dGhpcy5vYmplY3RzLnNsaWNlKDApLG51bGwhPWU/MD09PWk/KHU9ZSxjPTApOihuPShhPXRoaXMuZ2V0T2JqZWN0QXRJbmRleChlKS5zcGxpdEF0T2Zmc2V0KGkpKVswXSxzPWFbMV0sci5zcGxpY2UoZSwxLG4scyksdT1lKzEsYz1uLmdldExlbmd0aCgpLWkpOih1PXIubGVuZ3RoLGM9MCksW3IsdSxjXX0sci5wcm90b3R5cGUuY29uc29saWRhdGU9ZnVuY3Rpb24oKXt2YXIgdCxlLG4scixpLG87Zm9yKHI9W10saT10aGlzLm9iamVjdHNbMF0sdD0wLGU9KG89dGhpcy5vYmplY3RzLnNsaWNlKDEpKS5sZW5ndGg7ZT50O3QrKyluPW9bdF0sKFwiZnVuY3Rpb25cIj09dHlwZW9mIGkuY2FuQmVDb25zb2xpZGF0ZWRXaXRoP2kuY2FuQmVDb25zb2xpZGF0ZWRXaXRoKG4pOnZvaWQgMCk/aT1pLmNvbnNvbGlkYXRlV2l0aChuKTooci5wdXNoKGkpLGk9bik7cmV0dXJuIG51bGwhPWkmJnIucHVzaChpKSxuZXcgdGhpcy5jb25zdHJ1Y3RvcihyKX0sci5wcm90b3R5cGUuY29uc29saWRhdGVGcm9tSW5kZXhUb0luZGV4PWZ1bmN0aW9uKHQsZSl7dmFyIG4scjtyZXR1cm4gcj10aGlzLm9iamVjdHMuc2xpY2UoMCkuc2xpY2UodCxlKzEpLG49bmV3IHRoaXMuY29uc3RydWN0b3IocikuY29uc29saWRhdGUoKS50b0FycmF5KCksdGhpcy5zcGxpY2UuYXBwbHkodGhpcyxbdCxyLmxlbmd0aF0uY29uY2F0KGkuY2FsbChuKSkpfSxyLnByb3RvdHlwZS5maW5kSW5kZXhBbmRPZmZzZXRBdFBvc2l0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLG8sYTtmb3IoZT0wLHI9bj0wLGk9KGE9dGhpcy5vYmplY3RzKS5sZW5ndGg7aT5uO3I9KytuKXtpZihvPWUrYVtyXS5nZXRMZW5ndGgoKSx0Pj1lJiZvPnQpcmV0dXJue2luZGV4OnIsb2Zmc2V0OnQtZX07ZT1vfXJldHVybntpbmRleDpudWxsLG9mZnNldDpudWxsfX0sci5wcm90b3R5cGUuZmluZFBvc2l0aW9uQXRJbmRleEFuZE9mZnNldD1mdW5jdGlvbih0LGUpe3ZhciBuLHIsaSxvLGEscztmb3IoYT0wLG49cj0wLGk9KHM9dGhpcy5vYmplY3RzKS5sZW5ndGg7aT5yO249KytyKWlmKG89c1tuXSx0Pm4pYSs9by5nZXRMZW5ndGgoKTtlbHNlIGlmKG49PT10KXthKz1lO2JyZWFrfXJldHVybiBhfSxyLnByb3RvdHlwZS5nZXRFbmRQb3NpdGlvbj1mdW5jdGlvbigpe3ZhciB0LGU7cmV0dXJuIG51bGwhPXRoaXMuZW5kUG9zaXRpb24/dGhpcy5lbmRQb3NpdGlvbjp0aGlzLmVuZFBvc2l0aW9uPWZ1bmN0aW9uKCl7dmFyIG4scixpO2ZvcihlPTAsbj0wLHI9KGk9dGhpcy5vYmplY3RzKS5sZW5ndGg7cj5uO24rKyl0PWlbbl0sZSs9dC5nZXRMZW5ndGgoKTtyZXR1cm4gZX0uY2FsbCh0aGlzKX0sci5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYmplY3RzLmpvaW4oXCJcIil9LHIucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYmplY3RzLnNsaWNlKDApfSxyLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b0FycmF5KCl9LHIucHJvdG90eXBlLmlzRXF1YWxUbz1mdW5jdGlvbih0KXtyZXR1cm4gci5fX3N1cGVyX18uaXNFcXVhbFRvLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8YSh0aGlzLm9iamVjdHMsbnVsbCE9dD90Lm9iamVjdHM6dm9pZCAwKX0sYT1mdW5jdGlvbih0LGUpe3ZhciBuLHIsaSxvLGE7aWYobnVsbD09ZSYmKGU9W10pLHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKGE9ITAscj1uPTAsaT10Lmxlbmd0aDtpPm47cj0rK24pbz10W3JdLGEmJiFvLmlzRXF1YWxUbyhlW3JdKSYmKGE9ITEpO3JldHVybiBhfSxyLnByb3RvdHlwZS5jb250ZW50c0Zvckluc3BlY3Rpb249ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm57b2JqZWN0czpcIltcIitmdW5jdGlvbigpe3ZhciBlLG4scixpO2ZvcihpPVtdLGU9MCxuPShyPXRoaXMub2JqZWN0cykubGVuZ3RoO24+ZTtlKyspdD1yW2VdLGkucHVzaCh0Lmluc3BlY3QoKSk7cmV0dXJuIGl9LmNhbGwodGhpcykuam9pbihcIiwgXCIpK1wiXVwifX0scz1mdW5jdGlvbih0KXtyZXR1cm4gdFswXX0sbz1mdW5jdGlvbih0KXtyZXR1cm4gdFsxXX0scn0oci5PYmplY3QpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24odCxuKXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgaSBpbiBuKWUuY2FsbChuLGkpJiYodFtpXT1uW2ldKTtyZXR1cm4gci5wcm90b3R5cGU9bi5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IHIsdC5fX3N1cGVyX189bi5wcm90b3R5cGUsdH0sZT17fS5oYXNPd25Qcm9wZXJ0eTtyLlRleHQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbih0KXt2YXIgZTtudWxsPT10JiYodD1bXSksbi5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMucGllY2VMaXN0PW5ldyByLlNwbGl0dGFibGVMaXN0KGZ1bmN0aW9uKCl7dmFyIG4scixpO2ZvcihpPVtdLG49MCxyPXQubGVuZ3RoO3I+bjtuKyspKGU9dFtuXSkuaXNFbXB0eSgpfHxpLnB1c2goZSk7cmV0dXJuIGl9KCkpfXJldHVybiB0KG4sZSksbi50ZXh0Rm9yQXR0YWNobWVudFdpdGhBdHRyaWJ1dGVzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB0aGlzKFtuZXcgci5BdHRhY2htZW50UGllY2UodCxlKV0pfSxuLnRleHRGb3JTdHJpbmdXaXRoQXR0cmlidXRlcz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgdGhpcyhbbmV3IHIuU3RyaW5nUGllY2UodCxlKV0pfSxuLmZyb21KU09OPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBuZXcgdGhpcyhmdW5jdGlvbigpe3ZhciBuLGksbztmb3Iobz1bXSxuPTAsaT10Lmxlbmd0aDtpPm47bisrKWU9dFtuXSxvLnB1c2goci5QaWVjZS5mcm9tSlNPTihlKSk7cmV0dXJuIG99KCkpfSxuLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29weVdpdGhQaWVjZUxpc3QodGhpcy5waWVjZUxpc3QpfSxuLnByb3RvdHlwZS5jb3B5V2l0aFBpZWNlTGlzdD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodC5jb25zb2xpZGF0ZSgpLnRvQXJyYXkoKSl9LG4ucHJvdG90eXBlLmNvcHlVc2luZ09iamVjdE1hcD1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiBuPWZ1bmN0aW9uKCl7dmFyIG4scixpLG8sYTtmb3IoYT1bXSxuPTAscj0oaT10aGlzLmdldFBpZWNlcygpKS5sZW5ndGg7cj5uO24rKyllPWlbbl0sYS5wdXNoKG51bGwhPShvPXQuZmluZChlKSk/bzplKTtyZXR1cm4gYX0uY2FsbCh0aGlzKSxuZXcgdGhpcy5jb25zdHJ1Y3RvcihuKX0sbi5wcm90b3R5cGUuYXBwZW5kVGV4dD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbnNlcnRUZXh0QXRQb3NpdGlvbih0LHRoaXMuZ2V0TGVuZ3RoKCkpfSxuLnByb3RvdHlwZS5pbnNlcnRUZXh0QXRQb3NpdGlvbj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvcHlXaXRoUGllY2VMaXN0KHRoaXMucGllY2VMaXN0Lmluc2VydFNwbGl0dGFibGVMaXN0QXRQb3NpdGlvbih0LnBpZWNlTGlzdCxlKSl9LG4ucHJvdG90eXBlLnJlbW92ZVRleHRBdFJhbmdlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvcHlXaXRoUGllY2VMaXN0KHRoaXMucGllY2VMaXN0LnJlbW92ZU9iamVjdHNJblJhbmdlKHQpKX0sbi5wcm90b3R5cGUucmVwbGFjZVRleHRBdFJhbmdlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucmVtb3ZlVGV4dEF0UmFuZ2UoZSkuaW5zZXJ0VGV4dEF0UG9zaXRpb24odCxlWzBdKX0sbi5wcm90b3R5cGUubW92ZVRleHRGcm9tUmFuZ2VUb1Bvc2l0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG4scjtpZighKHRbMF08PWUmJmU8PXRbMV0pKXJldHVybiBuPShyPXRoaXMuZ2V0VGV4dEF0UmFuZ2UodCkpLmdldExlbmd0aCgpLHRbMF08ZSYmKGUtPW4pLHRoaXMucmVtb3ZlVGV4dEF0UmFuZ2UodCkuaW5zZXJ0VGV4dEF0UG9zaXRpb24ocixlKX0sbi5wcm90b3R5cGUuYWRkQXR0cmlidXRlQXRSYW5nZT1mdW5jdGlvbih0LGUsbil7dmFyIHI7cmV0dXJuKHI9e30pW3RdPWUsdGhpcy5hZGRBdHRyaWJ1dGVzQXRSYW5nZShyLG4pfSxuLnByb3RvdHlwZS5hZGRBdHRyaWJ1dGVzQXRSYW5nZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvcHlXaXRoUGllY2VMaXN0KHRoaXMucGllY2VMaXN0LnRyYW5zZm9ybU9iamVjdHNJblJhbmdlKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvcHlXaXRoQWRkaXRpb25hbEF0dHJpYnV0ZXModCl9KSkpfSxuLnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGVBdFJhbmdlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY29weVdpdGhQaWVjZUxpc3QodGhpcy5waWVjZUxpc3QudHJhbnNmb3JtT2JqZWN0c0luUmFuZ2UoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29weVdpdGhvdXRBdHRyaWJ1dGUodCl9KSkpfSxuLnByb3RvdHlwZS5zZXRBdHRyaWJ1dGVzQXRSYW5nZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvcHlXaXRoUGllY2VMaXN0KHRoaXMucGllY2VMaXN0LnRyYW5zZm9ybU9iamVjdHNJblJhbmdlKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvcHlXaXRoQXR0cmlidXRlcyh0KX0pKSl9LG4ucHJvdG90eXBlLmdldEF0dHJpYnV0ZXNBdFBvc2l0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIG51bGwhPShlPW51bGwhPShuPXRoaXMucGllY2VMaXN0LmdldE9iamVjdEF0UG9zaXRpb24odCkpP24uZ2V0QXR0cmlidXRlcygpOnZvaWQgMCk/ZTp7fX0sbi5wcm90b3R5cGUuZ2V0Q29tbW9uQXR0cmlidXRlcz1mdW5jdGlvbigpe3ZhciB0LGU7cmV0dXJuIHQ9ZnVuY3Rpb24oKXt2YXIgdCxuLHIsaTtmb3IoaT1bXSx0PTAsbj0ocj10aGlzLnBpZWNlTGlzdC50b0FycmF5KCkpLmxlbmd0aDtuPnQ7dCsrKWU9clt0XSxpLnB1c2goZS5nZXRBdHRyaWJ1dGVzKCkpO3JldHVybiBpfS5jYWxsKHRoaXMpLHIuSGFzaC5mcm9tQ29tbW9uQXR0cmlidXRlc09mT2JqZWN0cyh0KS50b09iamVjdCgpfSxuLnByb3RvdHlwZS5nZXRDb21tb25BdHRyaWJ1dGVzQXRSYW5nZT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gbnVsbCE9KGU9dGhpcy5nZXRUZXh0QXRSYW5nZSh0KS5nZXRDb21tb25BdHRyaWJ1dGVzKCkpP2U6e319LG4ucHJvdG90eXBlLmdldEV4cGFuZGVkUmFuZ2VGb3JBdHRyaWJ1dGVBdE9mZnNldD1mdW5jdGlvbih0LGUpe3ZhciBuLHIsaTtmb3Iobj1pPWUscj10aGlzLmdldExlbmd0aCgpO24+MCYmdGhpcy5nZXRDb21tb25BdHRyaWJ1dGVzQXRSYW5nZShbbi0xLGldKVt0XTspbi0tO2Zvcig7cj5pJiZ0aGlzLmdldENvbW1vbkF0dHJpYnV0ZXNBdFJhbmdlKFtlLGkrMV0pW3RdOylpKys7cmV0dXJuW24saV19LG4ucHJvdG90eXBlLmdldFRleHRBdFJhbmdlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvcHlXaXRoUGllY2VMaXN0KHRoaXMucGllY2VMaXN0LmdldFNwbGl0dGFibGVMaXN0SW5SYW5nZSh0KSl9LG4ucHJvdG90eXBlLmdldFN0cmluZ0F0UmFuZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucGllY2VMaXN0LmdldFNwbGl0dGFibGVMaXN0SW5SYW5nZSh0KS50b1N0cmluZygpfSxuLnByb3RvdHlwZS5nZXRTdHJpbmdBdFBvc2l0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldFN0cmluZ0F0UmFuZ2UoW3QsdCsxXSl9LG4ucHJvdG90eXBlLnN0YXJ0c1dpdGhTdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0U3RyaW5nQXRSYW5nZShbMCx0Lmxlbmd0aF0pPT09dH0sbi5wcm90b3R5cGUuZW5kc1dpdGhTdHJpbmc9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGU9dGhpcy5nZXRMZW5ndGgoKSx0aGlzLmdldFN0cmluZ0F0UmFuZ2UoW2UtdC5sZW5ndGgsZV0pPT09dH0sbi5wcm90b3R5cGUuZ2V0QXR0YWNobWVudFBpZWNlcz1mdW5jdGlvbigpe3ZhciB0LGUsbixyLGk7Zm9yKGk9W10sdD0wLGU9KHI9dGhpcy5waWVjZUxpc3QudG9BcnJheSgpKS5sZW5ndGg7ZT50O3QrKyludWxsIT0obj1yW3RdKS5hdHRhY2htZW50JiZpLnB1c2gobik7cmV0dXJuIGl9LG4ucHJvdG90eXBlLmdldEF0dGFjaG1lbnRzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLHIsaTtmb3IoaT1bXSx0PTAsZT0ocj10aGlzLmdldEF0dGFjaG1lbnRQaWVjZXMoKSkubGVuZ3RoO2U+dDt0Kyspbj1yW3RdLGkucHVzaChuLmF0dGFjaG1lbnQpO3JldHVybiBpfSxuLnByb3RvdHlwZS5nZXRBdHRhY2htZW50QW5kUG9zaXRpb25CeUlkPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLG8sYTtmb3IoaT0wLGU9MCxuPShvPXRoaXMucGllY2VMaXN0LnRvQXJyYXkoKSkubGVuZ3RoO24+ZTtlKyspe2lmKChudWxsIT0oYT0ocj1vW2VdKS5hdHRhY2htZW50KT9hLmlkOnZvaWQgMCk9PT10KXJldHVybnthdHRhY2htZW50OnIuYXR0YWNobWVudCxwb3NpdGlvbjppfTtpKz1yLmxlbmd0aH1yZXR1cm57YXR0YWNobWVudDpudWxsLHBvc2l0aW9uOm51bGx9fSxuLnByb3RvdHlwZS5nZXRBdHRhY2htZW50QnlJZD1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiBlPShuPXRoaXMuZ2V0QXR0YWNobWVudEFuZFBvc2l0aW9uQnlJZCh0KSkuYXR0YWNobWVudCxuLnBvc2l0aW9uLGV9LG4ucHJvdG90eXBlLmdldFJhbmdlT2ZBdHRhY2htZW50PWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIHQ9KG49dGhpcy5nZXRBdHRhY2htZW50QW5kUG9zaXRpb25CeUlkKHQuaWQpKS5hdHRhY2htZW50LGU9bi5wb3NpdGlvbixudWxsIT10P1tlLGUrMV06dm9pZCAwfSxuLnByb3RvdHlwZS51cGRhdGVBdHRyaWJ1dGVzRm9yQXR0YWNobWVudD1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybihuPXRoaXMuZ2V0UmFuZ2VPZkF0dGFjaG1lbnQoZSkpP3RoaXMuYWRkQXR0cmlidXRlc0F0UmFuZ2UodCxuKTp0aGlzfSxuLnByb3RvdHlwZS5nZXRMZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5waWVjZUxpc3QuZ2V0RW5kUG9zaXRpb24oKX0sbi5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5nZXRMZW5ndGgoKX0sbi5wcm90b3R5cGUuaXNFcXVhbFRvPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBuLl9fc3VwZXJfXy5pc0VxdWFsVG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfHwobnVsbCE9dCYmbnVsbCE9KGU9dC5waWVjZUxpc3QpP2UuaXNFcXVhbFRvKHRoaXMucGllY2VMaXN0KTp2b2lkIDApfSxuLnByb3RvdHlwZS5pc0Jsb2NrQnJlYWs9ZnVuY3Rpb24oKXtyZXR1cm4gMT09PXRoaXMuZ2V0TGVuZ3RoKCkmJnRoaXMucGllY2VMaXN0LmdldE9iamVjdEF0SW5kZXgoMCkuaXNCbG9ja0JyZWFrKCl9LG4ucHJvdG90eXBlLmVhY2hQaWVjZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5waWVjZUxpc3QuZWFjaE9iamVjdCh0KX0sbi5wcm90b3R5cGUuZ2V0UGllY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGllY2VMaXN0LnRvQXJyYXkoKX0sbi5wcm90b3R5cGUuZ2V0UGllY2VBdFBvc2l0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBpZWNlTGlzdC5nZXRPYmplY3RBdFBvc2l0aW9uKHQpfSxuLnByb3RvdHlwZS5jb250ZW50c0Zvckluc3BlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm57cGllY2VMaXN0OnRoaXMucGllY2VMaXN0Lmluc3BlY3QoKX19LG4ucHJvdG90eXBlLnRvU2VyaWFsaXphYmxlVGV4dD1mdW5jdGlvbigpe3ZhciB0O3JldHVybiB0PXRoaXMucGllY2VMaXN0LnNlbGVjdFNwbGl0dGFibGVMaXN0KChmdW5jdGlvbih0KXtyZXR1cm4gdC5pc1NlcmlhbGl6YWJsZSgpfSkpLHRoaXMuY29weVdpdGhQaWVjZUxpc3QodCl9LG4ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGllY2VMaXN0LnRvU3RyaW5nKCl9LG4ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBpZWNlTGlzdC50b0pTT04oKX0sbi5wcm90b3R5cGUudG9Db25zb2xlPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGZ1bmN0aW9uKCl7dmFyIGUsbixyLGk7Zm9yKGk9W10sZT0wLG49KHI9dGhpcy5waWVjZUxpc3QudG9BcnJheSgpKS5sZW5ndGg7bj5lO2UrKyl0PXJbZV0saS5wdXNoKEpTT04ucGFyc2UodC50b0NvbnNvbGUoKSkpO3JldHVybiBpfS5jYWxsKHRoaXMpKX0sbn0oci5PYmplY3QpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQsZSxuLGksbz1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpYS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiBuLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbix0Ll9fc3VwZXJfXz1lLnByb3RvdHlwZSx0fSxhPXt9Lmhhc093blByb3BlcnR5LHM9W10uaW5kZXhPZnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLmxlbmd0aDtuPmU7ZSsrKWlmKGUgaW4gdGhpcyYmdGhpc1tlXT09PXQpcmV0dXJuIGU7cmV0dXJuLTF9LHU9W10uc2xpY2U7dD1yLmFycmF5c0FyZUVxdWFsLGk9ci5zcGxpY2VBcnJheSxlPXIuZ2V0QmxvY2tDb25maWcsci5nZXRCbG9ja0F0dHJpYnV0ZU5hbWVzLG49ci5nZXRMaXN0QXR0cmlidXRlTmFtZXMsci5CbG9jaz1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKHQsZSl7bnVsbD09dCYmKHQ9bmV3IHIuVGV4dCksbnVsbD09ZSYmKGU9W10pLGMuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLnRleHQ9aCh0KSx0aGlzLmF0dHJpYnV0ZXM9ZX12YXIgbCxoLHAsZCxmLGcsbSx2LHk7cmV0dXJuIG8oYyxhKSxjLmZyb21KU09OPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdGhpcyhyLlRleHQuZnJvbUpTT04odC50ZXh0KSx0LmF0dHJpYnV0ZXMpfSxjLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dC5pc0Jsb2NrQnJlYWsoKX0sYy5wcm90b3R5cGUuaXNFcXVhbFRvPWZ1bmN0aW9uKGUpe3JldHVybiBjLl9fc3VwZXJfXy5pc0VxdWFsVG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzLnRleHQuaXNFcXVhbFRvKG51bGwhPWU/ZS50ZXh0OnZvaWQgMCkmJnQodGhpcy5hdHRyaWJ1dGVzLG51bGwhPWU/ZS5hdHRyaWJ1dGVzOnZvaWQgMCl9LGMucHJvdG90eXBlLmNvcHlXaXRoVGV4dD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodCx0aGlzLmF0dHJpYnV0ZXMpfSxjLnByb3RvdHlwZS5jb3B5V2l0aG91dFRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb3B5V2l0aFRleHQobnVsbCl9LGMucHJvdG90eXBlLmNvcHlXaXRoQXR0cmlidXRlcz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy50ZXh0LHQpfSxjLnByb3RvdHlwZS5jb3B5V2l0aG91dEF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb3B5V2l0aEF0dHJpYnV0ZXMobnVsbCl9LGMucHJvdG90eXBlLmNvcHlVc2luZ09iamVjdE1hcD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdGhpcy5jb3B5V2l0aFRleHQoKGU9dC5maW5kKHRoaXMudGV4dCkpP2U6dGhpcy50ZXh0LmNvcHlVc2luZ09iamVjdE1hcCh0KSl9LGMucHJvdG90eXBlLmFkZEF0dHJpYnV0ZT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT10aGlzLmF0dHJpYnV0ZXMuY29uY2F0KGQodCkpLHRoaXMuY29weVdpdGhBdHRyaWJ1dGVzKGUpfSxjLnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGU9ZnVuY3Rpb24odCl7dmFyIG4scjtyZXR1cm4gcj1lKHQpLmxpc3RBdHRyaWJ1dGUsbj1nKGcodGhpcy5hdHRyaWJ1dGVzLHQpLHIpLHRoaXMuY29weVdpdGhBdHRyaWJ1dGVzKG4pfSxjLnByb3RvdHlwZS5yZW1vdmVMYXN0QXR0cmlidXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVtb3ZlQXR0cmlidXRlKHRoaXMuZ2V0TGFzdEF0dHJpYnV0ZSgpKX0sYy5wcm90b3R5cGUuZ2V0TGFzdEF0dHJpYnV0ZT1mdW5jdGlvbigpe3JldHVybiBmKHRoaXMuYXR0cmlidXRlcyl9LGMucHJvdG90eXBlLmdldEF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLnNsaWNlKDApfSxjLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVMZXZlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMubGVuZ3RofSxjLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVBdExldmVsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXNbdC0xXX0sYy5wcm90b3R5cGUuaGFzQXR0cmlidXRlPWZ1bmN0aW9uKHQpe3JldHVybiBzLmNhbGwodGhpcy5hdHRyaWJ1dGVzLHQpPj0wfSxjLnByb3RvdHlwZS5oYXNBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlTGV2ZWwoKT4wfSxjLnByb3RvdHlwZS5nZXRMYXN0TmVzdGFibGVBdHRyaWJ1dGU9ZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLmdldE5lc3RhYmxlQXR0cmlidXRlcygpKX0sYy5wcm90b3R5cGUuZ2V0TmVzdGFibGVBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7dmFyIHQsbixyLGksbztmb3Iobz1bXSxuPTAscj0oaT10aGlzLmF0dHJpYnV0ZXMpLmxlbmd0aDtyPm47bisrKXQ9aVtuXSxlKHQpLm5lc3RhYmxlJiZvLnB1c2godCk7cmV0dXJuIG99LGMucHJvdG90eXBlLmdldE5lc3RpbmdMZXZlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE5lc3RhYmxlQXR0cmlidXRlcygpLmxlbmd0aH0sYy5wcm90b3R5cGUuZGVjcmVhc2VOZXN0aW5nTGV2ZWw9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD10aGlzLmdldExhc3ROZXN0YWJsZUF0dHJpYnV0ZSgpKT90aGlzLnJlbW92ZUF0dHJpYnV0ZSh0KTp0aGlzfSxjLnByb3RvdHlwZS5pbmNyZWFzZU5lc3RpbmdMZXZlbD1mdW5jdGlvbigpe3ZhciB0LGUsbjtyZXR1cm4odD10aGlzLmdldExhc3ROZXN0YWJsZUF0dHJpYnV0ZSgpKT8obj10aGlzLmF0dHJpYnV0ZXMubGFzdEluZGV4T2YodCksZT1pLmFwcGx5KG51bGwsW3RoaXMuYXR0cmlidXRlcyxuKzEsMF0uY29uY2F0KHUuY2FsbChkKHQpKSkpLHRoaXMuY29weVdpdGhBdHRyaWJ1dGVzKGUpKTp0aGlzfSxjLnByb3RvdHlwZS5nZXRMaXN0SXRlbUF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXt2YXIgdCxuLHIsaSxvO2ZvcihvPVtdLG49MCxyPShpPXRoaXMuYXR0cmlidXRlcykubGVuZ3RoO3I+bjtuKyspdD1pW25dLGUodCkubGlzdEF0dHJpYnV0ZSYmby5wdXNoKHQpO3JldHVybiBvfSxjLnByb3RvdHlwZS5pc0xpc3RJdGVtPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PWUodGhpcy5nZXRMYXN0QXR0cmlidXRlKCkpKT90Lmxpc3RBdHRyaWJ1dGU6dm9pZCAwfSxjLnByb3RvdHlwZS5pc1Rlcm1pbmFsQmxvY2s9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gbnVsbCE9KHQ9ZSh0aGlzLmdldExhc3RBdHRyaWJ1dGUoKSkpP3QudGVybWluYWw6dm9pZCAwfSxjLnByb3RvdHlwZS5icmVha3NPblJldHVybj1mdW5jdGlvbigpe3ZhciB0O3JldHVybiBudWxsIT0odD1lKHRoaXMuZ2V0TGFzdEF0dHJpYnV0ZSgpKSk/dC5icmVha09uUmV0dXJuOnZvaWQgMH0sYy5wcm90b3R5cGUuZmluZExpbmVCcmVha0luRGlyZWN0aW9uRnJvbVBvc2l0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG4scjtyZXR1cm4gcj10aGlzLnRvU3RyaW5nKCksLTEhPT0obj1mdW5jdGlvbigpe3N3aXRjaCh0KXtjYXNlXCJmb3J3YXJkXCI6cmV0dXJuIHIuaW5kZXhPZihcIlxcblwiLGUpO2Nhc2VcImJhY2t3YXJkXCI6cmV0dXJuIHIuc2xpY2UoMCxlKS5sYXN0SW5kZXhPZihcIlxcblwiKX19KCkpP246dm9pZCAwfSxjLnByb3RvdHlwZS5jb250ZW50c0Zvckluc3BlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm57dGV4dDp0aGlzLnRleHQuaW5zcGVjdCgpLGF0dHJpYnV0ZXM6dGhpcy5hdHRyaWJ1dGVzfX0sYy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0LnRvU3RyaW5nKCl9LGMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0ZXh0OnRoaXMudGV4dCxhdHRyaWJ1dGVzOnRoaXMuYXR0cmlidXRlc319LGMucHJvdG90eXBlLmdldExlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHQuZ2V0TGVuZ3RoKCl9LGMucHJvdG90eXBlLmNhbkJlQ29uc29saWRhdGVkV2l0aD1mdW5jdGlvbih0KXtyZXR1cm4hdGhpcy5oYXNBdHRyaWJ1dGVzKCkmJiF0Lmhhc0F0dHJpYnV0ZXMoKX0sYy5wcm90b3R5cGUuY29uc29saWRhdGVXaXRoPWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIGU9ci5UZXh0LnRleHRGb3JTdHJpbmdXaXRoQXR0cmlidXRlcyhcIlxcblwiKSxuPXRoaXMuZ2V0VGV4dFdpdGhvdXRCbG9ja0JyZWFrKCkuYXBwZW5kVGV4dChlKSx0aGlzLmNvcHlXaXRoVGV4dChuLmFwcGVuZFRleHQodC50ZXh0KSl9LGMucHJvdG90eXBlLnNwbGl0QXRPZmZzZXQ9ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gMD09PXQ/KGU9bnVsbCxuPXRoaXMpOnQ9PT10aGlzLmdldExlbmd0aCgpPyhlPXRoaXMsbj1udWxsKTooZT10aGlzLmNvcHlXaXRoVGV4dCh0aGlzLnRleHQuZ2V0VGV4dEF0UmFuZ2UoWzAsdF0pKSxuPXRoaXMuY29weVdpdGhUZXh0KHRoaXMudGV4dC5nZXRUZXh0QXRSYW5nZShbdCx0aGlzLmdldExlbmd0aCgpXSkpKSxbZSxuXX0sYy5wcm90b3R5cGUuZ2V0QmxvY2tCcmVha1Bvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dC5nZXRMZW5ndGgoKS0xfSxjLnByb3RvdHlwZS5nZXRUZXh0V2l0aG91dEJsb2NrQnJlYWs9ZnVuY3Rpb24oKXtyZXR1cm4gbSh0aGlzLnRleHQpP3RoaXMudGV4dC5nZXRUZXh0QXRSYW5nZShbMCx0aGlzLmdldEJsb2NrQnJlYWtQb3NpdGlvbigpXSk6dGhpcy50ZXh0LmNvcHkoKX0sYy5wcm90b3R5cGUuY2FuQmVHcm91cGVkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXNbdF19LGMucHJvdG90eXBlLmNhbkJlR3JvdXBlZFdpdGg9ZnVuY3Rpb24odCxyKXt2YXIgaSxvLGEsdTtyZXR1cm4gbz0oYT10LmdldEF0dHJpYnV0ZXMoKSlbcl0sKGk9dGhpcy5hdHRyaWJ1dGVzW3JdKT09PW8mJiEoITE9PT1lKGkpLmdyb3VwJiYodT1hW3IrMV0scy5jYWxsKG4oKSx1KTwwKSl9LGg9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9eSh0KSxsKHQpfSx5PWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxvLGEscztyZXR1cm4gbz0hMSxzPXQuZ2V0UGllY2VzKCksbj0yPD1zLmxlbmd0aD91LmNhbGwocywwLGU9cy5sZW5ndGgtMSk6KGU9MCxbXSksbnVsbD09KGk9c1tlKytdKT90OihuPWZ1bmN0aW9uKCl7dmFyIHQsZSxyO2ZvcihyPVtdLHQ9MCxlPW4ubGVuZ3RoO2U+dDt0KyspKGE9blt0XSkuaXNCbG9ja0JyZWFrKCk/KG89ITAsci5wdXNoKHYoYSkpKTpyLnB1c2goYSk7cmV0dXJuIHJ9KCksbz9uZXcgci5UZXh0KHUuY2FsbChuKS5jb25jYXQoW2ldKSk6dCl9LHA9ci5UZXh0LnRleHRGb3JTdHJpbmdXaXRoQXR0cmlidXRlcyhcIlxcblwiLHtibG9ja0JyZWFrOiEwfSksbD1mdW5jdGlvbih0KXtyZXR1cm4gbSh0KT90OnQuYXBwZW5kVGV4dChwKX0sbT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gMCE9PShlPXQuZ2V0TGVuZ3RoKCkpJiZ0LmdldFRleHRBdFJhbmdlKFtlLTEsZV0pLmlzQmxvY2tCcmVhaygpfSx2PWZ1bmN0aW9uKHQpe3JldHVybiB0LmNvcHlXaXRob3V0QXR0cmlidXRlKFwiYmxvY2tCcmVha1wiKX0sZD1mdW5jdGlvbih0KXt2YXIgbjtyZXR1cm4gbnVsbCE9KG49ZSh0KS5saXN0QXR0cmlidXRlKT9bbix0XTpbdF19LGY9ZnVuY3Rpb24odCl7cmV0dXJuIHQuc2xpY2UoLTEpWzBdfSxnPWZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuLTE9PT0obj10Lmxhc3RJbmRleE9mKGUpKT90OmkodCxuLDEpfSxjfShyLk9iamVjdCl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdCxlLG4saT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpby5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiBuLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbix0Ll9fc3VwZXJfXz1lLnByb3RvdHlwZSx0fSxvPXt9Lmhhc093blByb3BlcnR5LGE9W10uaW5kZXhPZnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLmxlbmd0aDtuPmU7ZSsrKWlmKGUgaW4gdGhpcyYmdGhpc1tlXT09PXQpcmV0dXJuIGU7cmV0dXJuLTF9LHM9W10uc2xpY2U7ZT1yLnRhZ05hbWUsbj1yLndhbGtUcmVlLHQ9ci5ub2RlSXNBdHRhY2htZW50RWxlbWVudCxyLkhUTUxTYW5pdGl6ZXI9ZnVuY3Rpb24obyl7ZnVuY3Rpb24gdSh0LGUpe3ZhciBuO249bnVsbCE9ZT9lOnt9LHRoaXMuYWxsb3dlZEF0dHJpYnV0ZXM9bi5hbGxvd2VkQXR0cmlidXRlcyx0aGlzLmZvcmJpZGRlblByb3RvY29scz1uLmZvcmJpZGRlblByb3RvY29scyxudWxsPT10aGlzLmFsbG93ZWRBdHRyaWJ1dGVzJiYodGhpcy5hbGxvd2VkQXR0cmlidXRlcz1jKSxudWxsPT10aGlzLmZvcmJpZGRlblByb3RvY29scyYmKHRoaXMuZm9yYmlkZGVuUHJvdG9jb2xzPWwpLHRoaXMuYm9keT1oKHQpfXZhciBjLGwsaCxwO3JldHVybiBpKHUsbyksYz1cInN0eWxlIGhyZWYgc3JjIHdpZHRoIGhlaWdodCBjbGFzc1wiLnNwbGl0KFwiIFwiKSxsPVwiamF2YXNjcmlwdDpcIi5zcGxpdChcIiBcIiksdS5zYW5pdGl6ZT1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybihuPW5ldyB0aGlzKHQsZSkpLnNhbml0aXplKCksbn0sdS5wcm90b3R5cGUuc2FuaXRpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zYW5pdGl6ZUVsZW1lbnRzKCksdGhpcy5ub3JtYWxpemVMaXN0RWxlbWVudE5lc3RpbmcoKX0sdS5wcm90b3R5cGUuZ2V0SFRNTD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHkuaW5uZXJIVE1MfSx1LnByb3RvdHlwZS5nZXRCb2R5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9keX0sdS5wcm90b3R5cGUuc2FuaXRpemVFbGVtZW50cz1mdW5jdGlvbigpe3ZhciB0LGUsaSxvLGE7Zm9yKGE9bih0aGlzLmJvZHkpLG89W107YS5uZXh0Tm9kZSgpOylzd2l0Y2goaT1hLmN1cnJlbnROb2RlLGkubm9kZVR5cGUpe2Nhc2UgTm9kZS5FTEVNRU5UX05PREU6cChpKT9vLnB1c2goaSk6dGhpcy5zYW5pdGl6ZUVsZW1lbnQoaSk7YnJlYWs7Y2FzZSBOb2RlLkNPTU1FTlRfTk9ERTpvLnB1c2goaSl9Zm9yKHQ9MCxlPW8ubGVuZ3RoO2U+dDt0KyspaT1vW3RdLHIucmVtb3ZlTm9kZShpKTtyZXR1cm4gdGhpcy5ib2R5fSx1LnByb3RvdHlwZS5zYW5pdGl6ZUVsZW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbztmb3IodC5oYXNBdHRyaWJ1dGUoXCJocmVmXCIpJiYoaT10LnByb3RvY29sLGEuY2FsbCh0aGlzLmZvcmJpZGRlblByb3RvY29scyxpKT49MCYmdC5yZW1vdmVBdHRyaWJ1dGUoXCJocmVmXCIpKSxlPTAsbj0obz1zLmNhbGwodC5hdHRyaWJ1dGVzKSkubGVuZ3RoO24+ZTtlKyspcj1vW2VdLm5hbWUsYS5jYWxsKHRoaXMuYWxsb3dlZEF0dHJpYnV0ZXMscik+PTB8fDA9PT1yLmluZGV4T2YoXCJkYXRhLXRyaXhcIil8fHQucmVtb3ZlQXR0cmlidXRlKHIpO3JldHVybiB0fSx1LnByb3RvdHlwZS5ub3JtYWxpemVMaXN0RWxlbWVudE5lc3Rpbmc9ZnVuY3Rpb24oKXt2YXIgdCxuLHIsaSxvO2Zvcih0PTAsbj0obz1zLmNhbGwodGhpcy5ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoXCJ1bCxvbFwiKSkpLmxlbmd0aDtuPnQ7dCsrKShpPShyPW9bdF0pLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpJiZcImxpXCI9PT1lKGkpJiZpLmFwcGVuZENoaWxkKHIpO3JldHVybiB0aGlzLmJvZHl9LHA9ZnVuY3Rpb24obil7cmV0dXJuKG51bGwhPW4/bi5ub2RlVHlwZTp2b2lkIDApIT09Tm9kZS5FTEVNRU5UX05PREV8fHQobik/dm9pZCAwOlwic2NyaXB0XCI9PT1lKG4pfHxcImZhbHNlXCI9PT1uLmdldEF0dHJpYnV0ZShcImRhdGEtdHJpeC1zZXJpYWxpemVcIil9LGg9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbztmb3IobnVsbD09dCYmKHQ9XCJcIiksdD10LnJlcGxhY2UoLzxcXC9odG1sW14+XSo+W15dKiQvaSxcIjwvaHRtbD5cIiksKGU9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiXCIpKS5kb2N1bWVudEVsZW1lbnQuaW5uZXJIVE1MPXQscj0wLGk9KG89ZS5oZWFkLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzdHlsZVwiKSkubGVuZ3RoO2k+cjtyKyspbj1vW3JdLGUuYm9keS5hcHBlbmRDaGlsZChuKTtyZXR1cm4gZS5ib2R5fSx1fShyLkJhc2ljT2JqZWN0KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0LGUsbixpLG8sYSxzLHUsYyxsLGgscD1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZC5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiBuLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbix0Ll9fc3VwZXJfXz1lLnByb3RvdHlwZSx0fSxkPXt9Lmhhc093blByb3BlcnR5LGY9W10uaW5kZXhPZnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLmxlbmd0aDtuPmU7ZSsrKWlmKGUgaW4gdGhpcyYmdGhpc1tlXT09PXQpcmV0dXJuIGU7cmV0dXJuLTF9O3Q9ci5hcnJheXNBcmVFcXVhbCxhPXIubWFrZUVsZW1lbnQsbD1yLnRhZ05hbWUsbz1yLmdldEJsb2NrVGFnTmFtZXMsaD1yLndhbGtUcmVlLGk9ci5maW5kQ2xvc2VzdEVsZW1lbnRGcm9tTm9kZSxuPXIuZWxlbWVudENvbnRhaW5zTm9kZSxzPXIubm9kZUlzQXR0YWNobWVudEVsZW1lbnQsdT1yLm5vcm1hbGl6ZVNwYWNlcyxlPXIuYnJlYWthYmxlV2hpdGVzcGFjZVBhdHRlcm4sYz1yLnNxdWlzaEJyZWFrYWJsZVdoaXRlc3BhY2Usci5IVE1MUGFyc2VyPWZ1bmN0aW9uKGQpe2Z1bmN0aW9uIGcodCxlKXt0aGlzLmh0bWw9dCx0aGlzLnJlZmVyZW5jZUVsZW1lbnQ9KG51bGwhPWU/ZTp7fSkucmVmZXJlbmNlRWxlbWVudCx0aGlzLmJsb2Nrcz1bXSx0aGlzLmJsb2NrRWxlbWVudHM9W10sdGhpcy5wcm9jZXNzZWRFbGVtZW50cz1bXX12YXIgbSx2LHksYix4LEEsdyxDLEUsayxTLEQ7cmV0dXJuIHAoZyxkKSxnLnBhcnNlPWZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuKG49bmV3IHRoaXModCxlKSkucGFyc2UoKSxufSxnLnByb3RvdHlwZS5nZXREb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiByLkRvY3VtZW50LmZyb21KU09OKHRoaXMuYmxvY2tzKX0sZy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oKXt2YXIgdCxlO3RyeXtmb3IodGhpcy5jcmVhdGVIaWRkZW5Db250YWluZXIoKSx0PXIuSFRNTFNhbml0aXplci5zYW5pdGl6ZSh0aGlzLmh0bWwpLmdldEhUTUwoKSx0aGlzLmNvbnRhaW5lckVsZW1lbnQuaW5uZXJIVE1MPXQsZT1oKHRoaXMuY29udGFpbmVyRWxlbWVudCx7dXNpbmdGaWx0ZXI6Q30pO2UubmV4dE5vZGUoKTspdGhpcy5wcm9jZXNzTm9kZShlLmN1cnJlbnROb2RlKTtyZXR1cm4gdGhpcy50cmFuc2xhdGVCbG9ja0VsZW1lbnRNYXJnaW5zVG9OZXdsaW5lcygpfWZpbmFsbHl7dGhpcy5yZW1vdmVIaWRkZW5Db250YWluZXIoKX19LGcucHJvdG90eXBlLmNyZWF0ZUhpZGRlbkNvbnRhaW5lcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlZmVyZW5jZUVsZW1lbnQ/KHRoaXMuY29udGFpbmVyRWxlbWVudD10aGlzLnJlZmVyZW5jZUVsZW1lbnQuY2xvbmVOb2RlKCExKSx0aGlzLmNvbnRhaW5lckVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiaWRcIiksdGhpcy5jb250YWluZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtdHJpeC1pbnRlcm5hbFwiLFwiXCIpLHRoaXMuY29udGFpbmVyRWxlbWVudC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHRoaXMucmVmZXJlbmNlRWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLmNvbnRhaW5lckVsZW1lbnQsdGhpcy5yZWZlcmVuY2VFbGVtZW50Lm5leHRTaWJsaW5nKSk6KHRoaXMuY29udGFpbmVyRWxlbWVudD1hKHt0YWdOYW1lOlwiZGl2XCIsc3R5bGU6e2Rpc3BsYXk6XCJub25lXCJ9fSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmNvbnRhaW5lckVsZW1lbnQpKX0sZy5wcm90b3R5cGUucmVtb3ZlSGlkZGVuQ29udGFpbmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHIucmVtb3ZlTm9kZSh0aGlzLmNvbnRhaW5lckVsZW1lbnQpfSxDPWZ1bmN0aW9uKHQpe3JldHVyblwic3R5bGVcIj09PWwodCk/Tm9kZUZpbHRlci5GSUxURVJfUkVKRUNUOk5vZGVGaWx0ZXIuRklMVEVSX0FDQ0VQVH0sZy5wcm90b3R5cGUucHJvY2Vzc05vZGU9ZnVuY3Rpb24odCl7c3dpdGNoKHQubm9kZVR5cGUpe2Nhc2UgTm9kZS5URVhUX05PREU6aWYoIXRoaXMuaXNJbnNpZ25pZmljYW50VGV4dE5vZGUodCkpcmV0dXJuIHRoaXMuYXBwZW5kQmxvY2tGb3JUZXh0Tm9kZSh0KSx0aGlzLnByb2Nlc3NUZXh0Tm9kZSh0KTticmVhaztjYXNlIE5vZGUuRUxFTUVOVF9OT0RFOnJldHVybiB0aGlzLmFwcGVuZEJsb2NrRm9yRWxlbWVudCh0KSx0aGlzLnByb2Nlc3NFbGVtZW50KHQpfX0sZy5wcm90b3R5cGUuYXBwZW5kQmxvY2tGb3JUZXh0Tm9kZT1mdW5jdGlvbihlKXt2YXIgbixyLGk7cmV0dXJuKHI9ZS5wYXJlbnROb2RlKT09PXRoaXMuY3VycmVudEJsb2NrRWxlbWVudHx8ciE9PXRoaXMuY29udGFpbmVyRWxlbWVudCYmIXRoaXMuaXNCbG9ja0VsZW1lbnQocik/dm9pZCAwOihuPXRoaXMuZ2V0QmxvY2tBdHRyaWJ1dGVzKHIpLHQobixudWxsIT0oaT10aGlzLmN1cnJlbnRCbG9jayk/aS5hdHRyaWJ1dGVzOnZvaWQgMCk/dm9pZCAwOih0aGlzLmN1cnJlbnRCbG9jaz10aGlzLmFwcGVuZEJsb2NrRm9yQXR0cmlidXRlc1dpdGhFbGVtZW50KG4sciksdGhpcy5jdXJyZW50QmxvY2tFbGVtZW50PXIpKX0sZy5wcm90b3R5cGUuYXBwZW5kQmxvY2tGb3JFbGVtZW50PWZ1bmN0aW9uKGUpe3ZhciByLGksbyxhO2lmKG89dGhpcy5pc0Jsb2NrRWxlbWVudChlKSxpPW4odGhpcy5jdXJyZW50QmxvY2tFbGVtZW50LGUpLG8mJiF0aGlzLmlzQmxvY2tFbGVtZW50KGUuZmlyc3RDaGlsZCkpe2lmKCEodGhpcy5pc0luc2lnbmlmaWNhbnRUZXh0Tm9kZShlLmZpcnN0Q2hpbGQpJiZ0aGlzLmlzQmxvY2tFbGVtZW50KGUuZmlyc3RFbGVtZW50Q2hpbGQpfHwocj10aGlzLmdldEJsb2NrQXR0cmlidXRlcyhlKSxpJiZ0KHIsdGhpcy5jdXJyZW50QmxvY2suYXR0cmlidXRlcykpKSlyZXR1cm4gdGhpcy5jdXJyZW50QmxvY2s9dGhpcy5hcHBlbmRCbG9ja0ZvckF0dHJpYnV0ZXNXaXRoRWxlbWVudChyLGUpLHRoaXMuY3VycmVudEJsb2NrRWxlbWVudD1lfWVsc2UgaWYodGhpcy5jdXJyZW50QmxvY2tFbGVtZW50JiYhaSYmIW8pcmV0dXJuKGE9dGhpcy5maW5kUGFyZW50QmxvY2tFbGVtZW50KGUpKT90aGlzLmFwcGVuZEJsb2NrRm9yRWxlbWVudChhKToodGhpcy5jdXJyZW50QmxvY2s9dGhpcy5hcHBlbmRFbXB0eUJsb2NrKCksdGhpcy5jdXJyZW50QmxvY2tFbGVtZW50PW51bGwpfSxnLnByb3RvdHlwZS5maW5kUGFyZW50QmxvY2tFbGVtZW50PWZ1bmN0aW9uKHQpe3ZhciBlO2ZvcihlPXQucGFyZW50RWxlbWVudDtlJiZlIT09dGhpcy5jb250YWluZXJFbGVtZW50Oyl7aWYodGhpcy5pc0Jsb2NrRWxlbWVudChlKSYmZi5jYWxsKHRoaXMuYmxvY2tFbGVtZW50cyxlKT49MClyZXR1cm4gZTtlPWUucGFyZW50RWxlbWVudH1yZXR1cm4gbnVsbH0sZy5wcm90b3R5cGUucHJvY2Vzc1RleHROb2RlPWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIG49dC5kYXRhLHYodC5wYXJlbnROb2RlKXx8KG49YyhuKSxTKG51bGwhPShlPXQucHJldmlvdXNTaWJsaW5nKT9lLnRleHRDb250ZW50OnZvaWQgMCkmJihuPUEobikpKSx0aGlzLmFwcGVuZFN0cmluZ1dpdGhBdHRyaWJ1dGVzKG4sdGhpcy5nZXRUZXh0QXR0cmlidXRlcyh0LnBhcmVudE5vZGUpKX0sZy5wcm90b3R5cGUucHJvY2Vzc0VsZW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbztpZihzKHQpKXJldHVybiBlPXkodCksT2JqZWN0LmtleXMoZSkubGVuZ3RoJiYoaT10aGlzLmdldFRleHRBdHRyaWJ1dGVzKHQpLHRoaXMuYXBwZW5kQXR0YWNobWVudFdpdGhBdHRyaWJ1dGVzKGUsaSksdC5pbm5lckhUTUw9XCJcIiksdGhpcy5wcm9jZXNzZWRFbGVtZW50cy5wdXNoKHQpO3N3aXRjaChsKHQpKXtjYXNlXCJiclwiOnJldHVybiB0aGlzLmlzRXh0cmFCUih0KXx8dGhpcy5pc0Jsb2NrRWxlbWVudCh0Lm5leHRTaWJsaW5nKXx8dGhpcy5hcHBlbmRTdHJpbmdXaXRoQXR0cmlidXRlcyhcIlxcblwiLHRoaXMuZ2V0VGV4dEF0dHJpYnV0ZXModCkpLHRoaXMucHJvY2Vzc2VkRWxlbWVudHMucHVzaCh0KTtjYXNlXCJpbWdcIjpmb3IobiBpbiBlPXt1cmw6dC5nZXRBdHRyaWJ1dGUoXCJzcmNcIiksY29udGVudFR5cGU6XCJpbWFnZVwifSxyPXgodCkpbz1yW25dLGVbbl09bztyZXR1cm4gdGhpcy5hcHBlbmRBdHRhY2htZW50V2l0aEF0dHJpYnV0ZXMoZSx0aGlzLmdldFRleHRBdHRyaWJ1dGVzKHQpKSx0aGlzLnByb2Nlc3NlZEVsZW1lbnRzLnB1c2godCk7Y2FzZVwidHJcIjppZih0LnBhcmVudE5vZGUuZmlyc3RDaGlsZCE9PXQpcmV0dXJuIHRoaXMuYXBwZW5kU3RyaW5nV2l0aEF0dHJpYnV0ZXMoXCJcXG5cIik7YnJlYWs7Y2FzZVwidGRcIjppZih0LnBhcmVudE5vZGUuZmlyc3RDaGlsZCE9PXQpcmV0dXJuIHRoaXMuYXBwZW5kU3RyaW5nV2l0aEF0dHJpYnV0ZXMoXCIgfCBcIil9fSxnLnByb3RvdHlwZS5hcHBlbmRCbG9ja0ZvckF0dHJpYnV0ZXNXaXRoRWxlbWVudD1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiB0aGlzLmJsb2NrRWxlbWVudHMucHVzaChlKSxuPW0odCksdGhpcy5ibG9ja3MucHVzaChuKSxufSxnLnByb3RvdHlwZS5hcHBlbmRFbXB0eUJsb2NrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXBwZW5kQmxvY2tGb3JBdHRyaWJ1dGVzV2l0aEVsZW1lbnQoW10sbnVsbCl9LGcucHJvdG90eXBlLmFwcGVuZFN0cmluZ1dpdGhBdHRyaWJ1dGVzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYXBwZW5kUGllY2Uoayh0LGUpKX0sZy5wcm90b3R5cGUuYXBwZW5kQXR0YWNobWVudFdpdGhBdHRyaWJ1dGVzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYXBwZW5kUGllY2UoRSh0LGUpKX0sZy5wcm90b3R5cGUuYXBwZW5kUGllY2U9ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10aGlzLmJsb2Nrcy5sZW5ndGgmJnRoaXMuYXBwZW5kRW1wdHlCbG9jaygpLHRoaXMuYmxvY2tzW3RoaXMuYmxvY2tzLmxlbmd0aC0xXS50ZXh0LnB1c2godCl9LGcucHJvdG90eXBlLmFwcGVuZFN0cmluZ1RvVGV4dEF0SW5kZXg9ZnVuY3Rpb24odCxlKXt2YXIgbixyO3JldHVyblwic3RyaW5nXCI9PT0obnVsbCE9KG49KHI9dGhpcy5ibG9ja3NbZV0udGV4dClbci5sZW5ndGgtMV0pP24udHlwZTp2b2lkIDApP24uc3RyaW5nKz10OnIucHVzaChrKHQpKX0sZy5wcm90b3R5cGUucHJlcGVuZFN0cmluZ1RvVGV4dEF0SW5kZXg9ZnVuY3Rpb24odCxlKXt2YXIgbixyO3JldHVyblwic3RyaW5nXCI9PT0obnVsbCE9KG49KHI9dGhpcy5ibG9ja3NbZV0udGV4dClbMF0pP24udHlwZTp2b2lkIDApP24uc3RyaW5nPXQrbi5zdHJpbmc6ci51bnNoaWZ0KGsodCkpfSxrPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PWUmJihlPXt9KSxcInN0cmluZ1wiLHtzdHJpbmc6dD11KHQpLGF0dHJpYnV0ZXM6ZSx0eXBlOlwic3RyaW5nXCJ9fSxFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PWUmJihlPXt9KSxcImF0dGFjaG1lbnRcIix7YXR0YWNobWVudDp0LGF0dHJpYnV0ZXM6ZSx0eXBlOlwiYXR0YWNobWVudFwifX0sbT1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dCYmKHQ9e30pLHt0ZXh0OltdLGF0dHJpYnV0ZXM6dH19LGcucHJvdG90eXBlLmdldFRleHRBdHRyaWJ1dGVzPWZ1bmN0aW9uKHQpe3ZhciBlLG4sbyxhLHUsYyxsLGgscCxkLGYsZyxtO2ZvcihlIGluIG89e30sZD1yLmNvbmZpZy50ZXh0QXR0cmlidXRlcylpZigodT1kW2VdKS50YWdOYW1lJiZpKHQse21hdGNoaW5nU2VsZWN0b3I6dS50YWdOYW1lLHVudGlsTm9kZTp0aGlzLmNvbnRhaW5lckVsZW1lbnR9KSlvW2VdPSEwO2Vsc2UgaWYodS5wYXJzZXIpe2lmKG09dS5wYXJzZXIodCkpe2ZvcihuPSExLGM9MCxwPShmPXRoaXMuZmluZEJsb2NrRWxlbWVudEFuY2VzdG9ycyh0KSkubGVuZ3RoO3A+YztjKyspaWYoYT1mW2NdLHUucGFyc2VyKGEpPT09bSl7bj0hMDticmVha31ufHwob1tlXT1tKX19ZWxzZSB1LnN0eWxlUHJvcGVydHkmJihtPXQuc3R5bGVbdS5zdHlsZVByb3BlcnR5XSkmJihvW2VdPW0pO2lmKHModCkmJihsPXQuZ2V0QXR0cmlidXRlKFwiZGF0YS10cml4LWF0dHJpYnV0ZXNcIikpKWZvcihoIGluIGc9SlNPTi5wYXJzZShsKSltPWdbaF0sb1toXT1tO3JldHVybiBvfSxnLnByb3RvdHlwZS5nZXRCbG9ja0F0dHJpYnV0ZXM9ZnVuY3Rpb24odCl7dmFyIGUsbixpLG87Zm9yKG49W107dCYmdCE9PXRoaXMuY29udGFpbmVyRWxlbWVudDspe2ZvcihlIGluIG89ci5jb25maWcuYmxvY2tBdHRyaWJ1dGVzKSExIT09KGk9b1tlXSkucGFyc2UmJmwodCk9PT1pLnRhZ05hbWUmJigoXCJmdW5jdGlvblwiPT10eXBlb2YgaS50ZXN0P2kudGVzdCh0KTp2b2lkIDApfHwhaS50ZXN0KSYmKG4ucHVzaChlKSxpLmxpc3RBdHRyaWJ1dGUmJm4ucHVzaChpLmxpc3RBdHRyaWJ1dGUpKTt0PXQucGFyZW50Tm9kZX1yZXR1cm4gbi5yZXZlcnNlKCl9LGcucHJvdG90eXBlLmZpbmRCbG9ja0VsZW1lbnRBbmNlc3RvcnM9ZnVuY3Rpb24odCl7dmFyIGUsbjtmb3IoZT1bXTt0JiZ0IT09dGhpcy5jb250YWluZXJFbGVtZW50OyluPWwodCksZi5jYWxsKG8oKSxuKT49MCYmZS5wdXNoKHQpLHQ9dC5wYXJlbnROb2RlO3JldHVybiBlfSx5PWZ1bmN0aW9uKHQpe3JldHVybiBKU09OLnBhcnNlKHQuZ2V0QXR0cmlidXRlKFwiZGF0YS10cml4LWF0dGFjaG1lbnRcIikpfSx4PWZ1bmN0aW9uKHQpe3ZhciBlLG4scjtyZXR1cm4gcj10LmdldEF0dHJpYnV0ZShcIndpZHRoXCIpLG49dC5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiksZT17fSxyJiYoZS53aWR0aD1wYXJzZUludChyLDEwKSksbiYmKGUuaGVpZ2h0PXBhcnNlSW50KG4sMTApKSxlfSxnLnByb3RvdHlwZS5pc0Jsb2NrRWxlbWVudD1mdW5jdGlvbih0KXt2YXIgZTtpZigobnVsbCE9dD90Lm5vZGVUeXBlOnZvaWQgMCk9PT1Ob2RlLkVMRU1FTlRfTk9ERSYmIXModCkmJiFpKHQse21hdGNoaW5nU2VsZWN0b3I6XCJ0ZFwiLHVudGlsTm9kZTp0aGlzLmNvbnRhaW5lckVsZW1lbnR9KSlyZXR1cm4gZT1sKHQpLGYuY2FsbChvKCksZSk+PTB8fFwiYmxvY2tcIj09PXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHQpLmRpc3BsYXl9LGcucHJvdG90eXBlLmlzSW5zaWduaWZpY2FudFRleHROb2RlPWZ1bmN0aW9uKHQpe3ZhciBlLG4scjtpZigobnVsbCE9dD90Lm5vZGVUeXBlOnZvaWQgMCk9PT1Ob2RlLlRFWFRfTk9ERSYmRCh0LmRhdGEpJiYobj10LnBhcmVudE5vZGUscj10LnByZXZpb3VzU2libGluZyxlPXQubmV4dFNpYmxpbmcsKCF3KG4ucHJldmlvdXNTaWJsaW5nKXx8dGhpcy5pc0Jsb2NrRWxlbWVudChuLnByZXZpb3VzU2libGluZykpJiYhdihuKSkpcmV0dXJuIXJ8fHRoaXMuaXNCbG9ja0VsZW1lbnQocil8fCFlfHx0aGlzLmlzQmxvY2tFbGVtZW50KGUpfSxnLnByb3RvdHlwZS5pc0V4dHJhQlI9ZnVuY3Rpb24odCl7cmV0dXJuXCJiclwiPT09bCh0KSYmdGhpcy5pc0Jsb2NrRWxlbWVudCh0LnBhcmVudE5vZGUpJiZ0LnBhcmVudE5vZGUubGFzdENoaWxkPT09dH0sdj1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm5cInByZVwiPT09KGU9d2luZG93LmdldENvbXB1dGVkU3R5bGUodCkud2hpdGVTcGFjZSl8fFwicHJlLXdyYXBcIj09PWV8fFwicHJlLWxpbmVcIj09PWV9LHc9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiFTKHQudGV4dENvbnRlbnQpfSxnLnByb3RvdHlwZS50cmFuc2xhdGVCbG9ja0VsZW1lbnRNYXJnaW5zVG9OZXdsaW5lcz1mdW5jdGlvbigpe3ZhciB0LGUsbixyLGksbyxhO2Zvcih0PXRoaXMuZ2V0TWFyZ2luT2ZEZWZhdWx0QmxvY2tFbGVtZW50KCksYT1bXSxuPWU9MCxyPShvPXRoaXMuYmxvY2tzKS5sZW5ndGg7cj5lO249KytlKW9bbl0sKGk9dGhpcy5nZXRNYXJnaW5PZkJsb2NrRWxlbWVudEF0SW5kZXgobikpJiYoaS50b3A+Mip0LnRvcCYmdGhpcy5wcmVwZW5kU3RyaW5nVG9UZXh0QXRJbmRleChcIlxcblwiLG4pLGEucHVzaChpLmJvdHRvbT4yKnQuYm90dG9tP3RoaXMuYXBwZW5kU3RyaW5nVG9UZXh0QXRJbmRleChcIlxcblwiLG4pOnZvaWQgMCkpO3JldHVybiBhfSxnLnByb3RvdHlwZS5nZXRNYXJnaW5PZkJsb2NrRWxlbWVudEF0SW5kZXg9ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4hKGU9dGhpcy5ibG9ja0VsZW1lbnRzW3RdKXx8IWUudGV4dENvbnRlbnR8fChuPWwoZSksZi5jYWxsKG8oKSxuKT49MHx8Zi5jYWxsKHRoaXMucHJvY2Vzc2VkRWxlbWVudHMsZSk+PTApP3ZvaWQgMDpiKGUpfSxnLnByb3RvdHlwZS5nZXRNYXJnaW5PZkRlZmF1bHRCbG9ja0VsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gdD1hKHIuY29uZmlnLmJsb2NrQXR0cmlidXRlcy5kZWZhdWx0LnRhZ05hbWUpLHRoaXMuY29udGFpbmVyRWxlbWVudC5hcHBlbmRDaGlsZCh0KSxiKHQpfSxiPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVyblwiYmxvY2tcIj09PShlPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHQpKS5kaXNwbGF5P3t0b3A6cGFyc2VJbnQoZS5tYXJnaW5Ub3ApLGJvdHRvbTpwYXJzZUludChlLm1hcmdpbkJvdHRvbSl9OnZvaWQgMH0sQT1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKFJlZ0V4cChcIl5cIitlLnNvdXJjZStcIitcIiksXCJcIil9LEQ9ZnVuY3Rpb24odCl7cmV0dXJuIFJlZ0V4cChcIl5cIitlLnNvdXJjZStcIiokXCIpLnRlc3QodCl9LFM9ZnVuY3Rpb24odCl7cmV0dXJuL1xccyQvLnRlc3QodCl9LGd9KHIuQmFzaWNPYmplY3QpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQsZSxuLGksbz1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpYS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiBuLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbix0Ll9fc3VwZXJfXz1lLnByb3RvdHlwZSx0fSxhPXt9Lmhhc093blByb3BlcnR5LHM9W10uc2xpY2UsdT1bXS5pbmRleE9mfHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXRoaXMubGVuZ3RoO24+ZTtlKyspaWYoZSBpbiB0aGlzJiZ0aGlzW2VdPT09dClyZXR1cm4gZTtyZXR1cm4tMX07dD1yLmFycmF5c0FyZUVxdWFsLG49ci5ub3JtYWxpemVSYW5nZSxpPXIucmFuZ2VJc0NvbGxhcHNlZCxlPXIuZ2V0QmxvY2tDb25maWcsci5Eb2N1bWVudD1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKHQpe251bGw9PXQmJih0PVtdKSxjLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyksMD09PXQubGVuZ3RoJiYodD1bbmV3IHIuQmxvY2tdKSx0aGlzLmJsb2NrTGlzdD1yLlNwbGl0dGFibGVMaXN0LmJveCh0KX12YXIgbDtyZXR1cm4gbyhjLGEpLGMuZnJvbUpTT049ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIG5ldyB0aGlzKGZ1bmN0aW9uKCl7dmFyIG4saSxvO2ZvcihvPVtdLG49MCxpPXQubGVuZ3RoO2k+bjtuKyspZT10W25dLG8ucHVzaChyLkJsb2NrLmZyb21KU09OKGUpKTtyZXR1cm4gb30oKSl9LGMuZnJvbUhUTUw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gci5IVE1MUGFyc2VyLnBhcnNlKHQsZSkuZ2V0RG9jdW1lbnQoKX0sYy5mcm9tU3RyaW5nPWZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIG49ci5UZXh0LnRleHRGb3JTdHJpbmdXaXRoQXR0cmlidXRlcyh0LGUpLG5ldyB0aGlzKFtuZXcgci5CbG9jayhuKV0pfSxjLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIDE9PT10aGlzLmJsb2NrTGlzdC5sZW5ndGgmJigodD10aGlzLmdldEJsb2NrQXRJbmRleCgwKSkuaXNFbXB0eSgpJiYhdC5oYXNBdHRyaWJ1dGVzKCkpfSxjLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBudWxsPT10JiYodD17fSksZT10LmNvbnNvbGlkYXRlQmxvY2tzP3RoaXMuYmxvY2tMaXN0LmNvbnNvbGlkYXRlKCkudG9BcnJheSgpOnRoaXMuYmxvY2tMaXN0LnRvQXJyYXkoKSxuZXcgdGhpcy5jb25zdHJ1Y3RvcihlKX0sYy5wcm90b3R5cGUuY29weVVzaW5nT2JqZWN0c0Zyb21Eb2N1bWVudD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT1uZXcgci5PYmplY3RNYXAodC5nZXRPYmplY3RzKCkpLHRoaXMuY29weVVzaW5nT2JqZWN0TWFwKGUpfSxjLnByb3RvdHlwZS5jb3B5VXNpbmdPYmplY3RNYXA9ZnVuY3Rpb24odCl7dmFyIGUsbixyO3JldHVybiBuPWZ1bmN0aW9uKCl7dmFyIG4saSxvLGE7Zm9yKGE9W10sbj0wLGk9KG89dGhpcy5nZXRCbG9ja3MoKSkubGVuZ3RoO2k+bjtuKyspZT1vW25dLGEucHVzaCgocj10LmZpbmQoZSkpP3I6ZS5jb3B5VXNpbmdPYmplY3RNYXAodCkpO3JldHVybiBhfS5jYWxsKHRoaXMpLG5ldyB0aGlzLmNvbnN0cnVjdG9yKG4pfSxjLnByb3RvdHlwZS5jb3B5V2l0aEJhc2VCbG9ja0F0dHJpYnV0ZXM9ZnVuY3Rpb24odCl7dmFyIGUsbixyO3JldHVybiBudWxsPT10JiYodD1bXSkscj1mdW5jdGlvbigpe3ZhciByLGksbyxhO2ZvcihhPVtdLHI9MCxpPShvPXRoaXMuZ2V0QmxvY2tzKCkpLmxlbmd0aDtpPnI7cisrKW49b1tyXSxlPXQuY29uY2F0KG4uZ2V0QXR0cmlidXRlcygpKSxhLnB1c2gobi5jb3B5V2l0aEF0dHJpYnV0ZXMoZSkpO3JldHVybiBhfS5jYWxsKHRoaXMpLG5ldyB0aGlzLmNvbnN0cnVjdG9yKHIpfSxjLnByb3RvdHlwZS5yZXBsYWNlQmxvY2s9ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4tMT09PShuPXRoaXMuYmxvY2tMaXN0LmluZGV4T2YodCkpP3RoaXM6bmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5ibG9ja0xpc3QucmVwbGFjZU9iamVjdEF0SW5kZXgoZSxuKSl9LGMucHJvdG90eXBlLmluc2VydERvY3VtZW50QXRSYW5nZT1mdW5jdGlvbih0LGUpe3ZhciByLG8sYSxzLHUsYyxsO3JldHVybiBvPXQuYmxvY2tMaXN0LHU9KGU9bihlKSlbMF0sYT0oYz10aGlzLmxvY2F0aW9uRnJvbVBvc2l0aW9uKHUpKS5pbmRleCxzPWMub2Zmc2V0LGw9dGhpcyxyPXRoaXMuZ2V0QmxvY2tBdFBvc2l0aW9uKHUpLGkoZSkmJnIuaXNFbXB0eSgpJiYhci5oYXNBdHRyaWJ1dGVzKCk/bD1uZXcgdGhpcy5jb25zdHJ1Y3RvcihsLmJsb2NrTGlzdC5yZW1vdmVPYmplY3RBdEluZGV4KGEpKTpyLmdldEJsb2NrQnJlYWtQb3NpdGlvbigpPT09cyYmdSsrLGw9bC5yZW1vdmVUZXh0QXRSYW5nZShlKSxuZXcgdGhpcy5jb25zdHJ1Y3RvcihsLmJsb2NrTGlzdC5pbnNlcnRTcGxpdHRhYmxlTGlzdEF0UG9zaXRpb24obyx1KSl9LGMucHJvdG90eXBlLm1lcmdlRG9jdW1lbnRBdFJhbmdlPWZ1bmN0aW9uKGUscil7dmFyIGksbyxhLHMsdSxjLGwsaCxwLGQsZixnO3JldHVybiBmPShyPW4ocikpWzBdLGQ9dGhpcy5sb2NhdGlvbkZyb21Qb3NpdGlvbihmKSxvPXRoaXMuZ2V0QmxvY2tBdEluZGV4KGQuaW5kZXgpLmdldEF0dHJpYnV0ZXMoKSxpPWUuZ2V0QmFzZUJsb2NrQXR0cmlidXRlcygpLGc9by5zbGljZSgtaS5sZW5ndGgpLHQoaSxnKT8obD1vLnNsaWNlKDAsLWkubGVuZ3RoKSxjPWUuY29weVdpdGhCYXNlQmxvY2tBdHRyaWJ1dGVzKGwpKTpjPWUuY29weSh7Y29uc29saWRhdGVCbG9ja3M6ITB9KS5jb3B5V2l0aEJhc2VCbG9ja0F0dHJpYnV0ZXMobyksYT1jLmdldEJsb2NrQ291bnQoKSxzPWMuZ2V0QmxvY2tBdEluZGV4KDApLHQobyxzLmdldEF0dHJpYnV0ZXMoKSk/KHU9cy5nZXRUZXh0V2l0aG91dEJsb2NrQnJlYWsoKSxwPXRoaXMuaW5zZXJ0VGV4dEF0UmFuZ2UodSxyKSxhPjEmJihjPW5ldyB0aGlzLmNvbnN0cnVjdG9yKGMuZ2V0QmxvY2tzKCkuc2xpY2UoMSkpLGg9Zit1LmdldExlbmd0aCgpLHA9cC5pbnNlcnREb2N1bWVudEF0UmFuZ2UoYyxoKSkpOnA9dGhpcy5pbnNlcnREb2N1bWVudEF0UmFuZ2UoYyxyKSxwfSxjLnByb3RvdHlwZS5pbnNlcnRUZXh0QXRSYW5nZT1mdW5jdGlvbih0LGUpe3ZhciByLGksbyxhLHM7cmV0dXJuIHM9KGU9bihlKSlbMF0saT0oYT10aGlzLmxvY2F0aW9uRnJvbVBvc2l0aW9uKHMpKS5pbmRleCxvPWEub2Zmc2V0LHI9dGhpcy5yZW1vdmVUZXh0QXRSYW5nZShlKSxuZXcgdGhpcy5jb25zdHJ1Y3RvcihyLmJsb2NrTGlzdC5lZGl0T2JqZWN0QXRJbmRleChpLChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb3B5V2l0aFRleHQoZS50ZXh0Lmluc2VydFRleHRBdFBvc2l0aW9uKHQsbykpfSkpKX0sYy5wcm90b3R5cGUucmVtb3ZlVGV4dEF0UmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGUscixvLGEscyx1LGMsbCxoLHAsZCxmLGcsbSx2LHksYix4O3JldHVybiBsPShwPXQ9bih0KSlbMF0seT1wWzFdLGkodCk/dGhpczoodT0oZD10aGlzLmxvY2F0aW9uUmFuZ2VGcm9tUmFuZ2UodCkpWzBdLG09ZFsxXSxzPXUuaW5kZXgsYz11Lm9mZnNldCxhPXRoaXMuZ2V0QmxvY2tBdEluZGV4KHMpLGc9bS5pbmRleCx2PW0ub2Zmc2V0LGY9dGhpcy5nZXRCbG9ja0F0SW5kZXgoZykseS1sPT0xJiZhLmdldEJsb2NrQnJlYWtQb3NpdGlvbigpPT09YyYmZi5nZXRCbG9ja0JyZWFrUG9zaXRpb24oKSE9PXYmJlwiXFxuXCI9PT1mLnRleHQuZ2V0U3RyaW5nQXRQb3NpdGlvbih2KT9vPXRoaXMuYmxvY2tMaXN0LmVkaXRPYmplY3RBdEluZGV4KGcsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvcHlXaXRoVGV4dCh0LnRleHQucmVtb3ZlVGV4dEF0UmFuZ2UoW3YsdisxXSkpfSkpOihoPWEudGV4dC5nZXRUZXh0QXRSYW5nZShbMCxjXSksYj1mLnRleHQuZ2V0VGV4dEF0UmFuZ2UoW3YsZi5nZXRMZW5ndGgoKV0pLHg9aC5hcHBlbmRUZXh0KGIpLHI9cyE9PWcmJjA9PT1jJiZhLmdldEF0dHJpYnV0ZUxldmVsKCk+PWYuZ2V0QXR0cmlidXRlTGV2ZWwoKT9mLmNvcHlXaXRoVGV4dCh4KTphLmNvcHlXaXRoVGV4dCh4KSxlPWcrMS1zLG89dGhpcy5ibG9ja0xpc3Quc3BsaWNlKHMsZSxyKSksbmV3IHRoaXMuY29uc3RydWN0b3IobykpfSxjLnByb3RvdHlwZS5tb3ZlVGV4dEZyb21SYW5nZVRvUG9zaXRpb249ZnVuY3Rpb24odCxlKXt2YXIgcixpLG8sYSx1LGMsbCxoLHAsZDtyZXR1cm4gcD0oYz10PW4odCkpWzBdLG89Y1sxXSxlPj1wJiZvPj1lP3RoaXM6KGk9dGhpcy5nZXREb2N1bWVudEF0UmFuZ2UodCksaD10aGlzLnJlbW92ZVRleHRBdFJhbmdlKHQpLCh1PWU+cCkmJihlLT1pLmdldExlbmd0aCgpKSxhPShsPWkuZ2V0QmxvY2tzKCkpWzBdLDA9PT0ocj0yPD1sLmxlbmd0aD9zLmNhbGwobCwxKTpbXSkubGVuZ3RoPyhkPWEuZ2V0VGV4dFdpdGhvdXRCbG9ja0JyZWFrKCksdSYmKGUrPTEpKTpkPWEudGV4dCxoPWguaW5zZXJ0VGV4dEF0UmFuZ2UoZCxlKSwwPT09ci5sZW5ndGg/aDooaT1uZXcgdGhpcy5jb25zdHJ1Y3RvcihyKSxlKz1kLmdldExlbmd0aCgpLGguaW5zZXJ0RG9jdW1lbnRBdFJhbmdlKGksZSkpKX0sYy5wcm90b3R5cGUuYWRkQXR0cmlidXRlQXRSYW5nZT1mdW5jdGlvbih0LG4scil7dmFyIGk7cmV0dXJuIGk9dGhpcy5ibG9ja0xpc3QsdGhpcy5lYWNoQmxvY2tBdFJhbmdlKHIsKGZ1bmN0aW9uKHIsbyxhKXtyZXR1cm4gaT1pLmVkaXRPYmplY3RBdEluZGV4KGEsKGZ1bmN0aW9uKCl7cmV0dXJuIGUodCk/ci5hZGRBdHRyaWJ1dGUodCxuKTpvWzBdPT09b1sxXT9yOnIuY29weVdpdGhUZXh0KHIudGV4dC5hZGRBdHRyaWJ1dGVBdFJhbmdlKHQsbixvKSl9KSl9KSksbmV3IHRoaXMuY29uc3RydWN0b3IoaSl9LGMucHJvdG90eXBlLmFkZEF0dHJpYnV0ZT1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBuPXRoaXMuYmxvY2tMaXN0LHRoaXMuZWFjaEJsb2NrKChmdW5jdGlvbihyLGkpe3JldHVybiBuPW4uZWRpdE9iamVjdEF0SW5kZXgoaSwoZnVuY3Rpb24oKXtyZXR1cm4gci5hZGRBdHRyaWJ1dGUodCxlKX0pKX0pKSxuZXcgdGhpcy5jb25zdHJ1Y3RvcihuKX0sYy5wcm90b3R5cGUucmVtb3ZlQXR0cmlidXRlQXRSYW5nZT1mdW5jdGlvbih0LG4pe3ZhciByO3JldHVybiByPXRoaXMuYmxvY2tMaXN0LHRoaXMuZWFjaEJsb2NrQXRSYW5nZShuLChmdW5jdGlvbihuLGksbyl7cmV0dXJuIGUodCk/cj1yLmVkaXRPYmplY3RBdEluZGV4KG8sKGZ1bmN0aW9uKCl7cmV0dXJuIG4ucmVtb3ZlQXR0cmlidXRlKHQpfSkpOmlbMF0hPT1pWzFdP3I9ci5lZGl0T2JqZWN0QXRJbmRleChvLChmdW5jdGlvbigpe3JldHVybiBuLmNvcHlXaXRoVGV4dChuLnRleHQucmVtb3ZlQXR0cmlidXRlQXRSYW5nZSh0LGkpKX0pKTp2b2lkIDB9KSksbmV3IHRoaXMuY29uc3RydWN0b3Iocil9LGMucHJvdG90eXBlLnVwZGF0ZUF0dHJpYnV0ZXNGb3JBdHRhY2htZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG4scixpO3JldHVybiByPXRoaXMuZ2V0UmFuZ2VPZkF0dGFjaG1lbnQoZSlbMF0sbj10aGlzLmxvY2F0aW9uRnJvbVBvc2l0aW9uKHIpLmluZGV4LGk9dGhpcy5nZXRUZXh0QXRJbmRleChuKSxuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLmJsb2NrTGlzdC5lZGl0T2JqZWN0QXRJbmRleChuLChmdW5jdGlvbihuKXtyZXR1cm4gbi5jb3B5V2l0aFRleHQoaS51cGRhdGVBdHRyaWJ1dGVzRm9yQXR0YWNobWVudCh0LGUpKX0pKSl9LGMucHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZUZvckF0dGFjaG1lbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gbj10aGlzLmdldFJhbmdlT2ZBdHRhY2htZW50KGUpLHRoaXMucmVtb3ZlQXR0cmlidXRlQXRSYW5nZSh0LG4pfSxjLnByb3RvdHlwZS5pbnNlcnRCbG9ja0JyZWFrQXRSYW5nZT1mdW5jdGlvbih0KXt2YXIgZSxpLG8sYTtyZXR1cm4gYT0odD1uKHQpKVswXSxvPXRoaXMubG9jYXRpb25Gcm9tUG9zaXRpb24oYSkub2Zmc2V0LGk9dGhpcy5yZW1vdmVUZXh0QXRSYW5nZSh0KSwwPT09byYmKGU9W25ldyByLkJsb2NrXSksbmV3IHRoaXMuY29uc3RydWN0b3IoaS5ibG9ja0xpc3QuaW5zZXJ0U3BsaXR0YWJsZUxpc3RBdFBvc2l0aW9uKG5ldyByLlNwbGl0dGFibGVMaXN0KGUpLGEpKX0sYy5wcm90b3R5cGUuYXBwbHlCbG9ja0F0dHJpYnV0ZUF0UmFuZ2U9ZnVuY3Rpb24odCxuLHIpe3ZhciBpLG8sYSxzO3JldHVybiBvPShhPXRoaXMuZXhwYW5kUmFuZ2VUb0xpbmVCcmVha3NBbmRTcGxpdEJsb2NrcyhyKSkuZG9jdW1lbnQscj1hLnJhbmdlLChpPWUodCkpLmxpc3RBdHRyaWJ1dGU/KHM9KG89by5yZW1vdmVMYXN0TGlzdEF0dHJpYnV0ZUF0UmFuZ2Uocix7ZXhjZXB0QXR0cmlidXRlTmFtZTp0fSkpLmNvbnZlcnRMaW5lQnJlYWtzVG9CbG9ja0JyZWFrc0luUmFuZ2Uociksbz1zLmRvY3VtZW50LHI9cy5yYW5nZSk6bz1pLmV4Y2x1c2l2ZT9vLnJlbW92ZUJsb2NrQXR0cmlidXRlc0F0UmFuZ2Uocik6aS50ZXJtaW5hbD9vLnJlbW92ZUxhc3RUZXJtaW5hbEF0dHJpYnV0ZUF0UmFuZ2Uocik6by5jb25zb2xpZGF0ZUJsb2Nrc0F0UmFuZ2Uociksby5hZGRBdHRyaWJ1dGVBdFJhbmdlKHQsbixyKX0sYy5wcm90b3R5cGUucmVtb3ZlTGFzdExpc3RBdHRyaWJ1dGVBdFJhbmdlPWZ1bmN0aW9uKHQsbil7dmFyIHI7cmV0dXJuIG51bGw9PW4mJihuPXt9KSxyPXRoaXMuYmxvY2tMaXN0LHRoaXMuZWFjaEJsb2NrQXRSYW5nZSh0LChmdW5jdGlvbih0LGksbyl7dmFyIGE7aWYoKGE9dC5nZXRMYXN0QXR0cmlidXRlKCkpJiZlKGEpLmxpc3RBdHRyaWJ1dGUmJmEhPT1uLmV4Y2VwdEF0dHJpYnV0ZU5hbWUpcmV0dXJuIHI9ci5lZGl0T2JqZWN0QXRJbmRleChvLChmdW5jdGlvbigpe3JldHVybiB0LnJlbW92ZUF0dHJpYnV0ZShhKX0pKX0pKSxuZXcgdGhpcy5jb25zdHJ1Y3RvcihyKX0sYy5wcm90b3R5cGUucmVtb3ZlTGFzdFRlcm1pbmFsQXR0cmlidXRlQXRSYW5nZT1mdW5jdGlvbih0KXt2YXIgbjtyZXR1cm4gbj10aGlzLmJsb2NrTGlzdCx0aGlzLmVhY2hCbG9ja0F0UmFuZ2UodCwoZnVuY3Rpb24odCxyLGkpe3ZhciBvO2lmKChvPXQuZ2V0TGFzdEF0dHJpYnV0ZSgpKSYmZShvKS50ZXJtaW5hbClyZXR1cm4gbj1uLmVkaXRPYmplY3RBdEluZGV4KGksKGZ1bmN0aW9uKCl7cmV0dXJuIHQucmVtb3ZlQXR0cmlidXRlKG8pfSkpfSkpLG5ldyB0aGlzLmNvbnN0cnVjdG9yKG4pfSxjLnByb3RvdHlwZS5yZW1vdmVCbG9ja0F0dHJpYnV0ZXNBdFJhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBlPXRoaXMuYmxvY2tMaXN0LHRoaXMuZWFjaEJsb2NrQXRSYW5nZSh0LChmdW5jdGlvbih0LG4scil7cmV0dXJuIHQuaGFzQXR0cmlidXRlcygpP2U9ZS5lZGl0T2JqZWN0QXRJbmRleChyLChmdW5jdGlvbigpe3JldHVybiB0LmNvcHlXaXRob3V0QXR0cmlidXRlcygpfSkpOnZvaWQgMH0pKSxuZXcgdGhpcy5jb25zdHJ1Y3RvcihlKX0sYy5wcm90b3R5cGUuZXhwYW5kUmFuZ2VUb0xpbmVCcmVha3NBbmRTcGxpdEJsb2Nrcz1mdW5jdGlvbih0KXt2YXIgZSxyLGksbyxhLHMsdSxjLGw7cmV0dXJuIGw9KHM9dD1uKHQpKVswXSxvPXNbMV0sYz10aGlzLmxvY2F0aW9uRnJvbVBvc2l0aW9uKGwpLGk9dGhpcy5sb2NhdGlvbkZyb21Qb3NpdGlvbihvKSx1PShlPXRoaXMpLmdldEJsb2NrQXRJbmRleChjLmluZGV4KSxudWxsIT0oYy5vZmZzZXQ9dS5maW5kTGluZUJyZWFrSW5EaXJlY3Rpb25Gcm9tUG9zaXRpb24oXCJiYWNrd2FyZFwiLGMub2Zmc2V0KSkmJihhPWUucG9zaXRpb25Gcm9tTG9jYXRpb24oYyksZT1lLmluc2VydEJsb2NrQnJlYWtBdFJhbmdlKFthLGErMV0pLGkuaW5kZXgrPTEsaS5vZmZzZXQtPWUuZ2V0QmxvY2tBdEluZGV4KGMuaW5kZXgpLmdldExlbmd0aCgpLGMuaW5kZXgrPTEpLGMub2Zmc2V0PTAsMD09PWkub2Zmc2V0JiZpLmluZGV4PmMuaW5kZXg/KGkuaW5kZXgtPTEsaS5vZmZzZXQ9ZS5nZXRCbG9ja0F0SW5kZXgoaS5pbmRleCkuZ2V0QmxvY2tCcmVha1Bvc2l0aW9uKCkpOihcIlxcblwiPT09KHI9ZS5nZXRCbG9ja0F0SW5kZXgoaS5pbmRleCkpLnRleHQuZ2V0U3RyaW5nQXRSYW5nZShbaS5vZmZzZXQtMSxpLm9mZnNldF0pP2kub2Zmc2V0LT0xOmkub2Zmc2V0PXIuZmluZExpbmVCcmVha0luRGlyZWN0aW9uRnJvbVBvc2l0aW9uKFwiZm9yd2FyZFwiLGkub2Zmc2V0KSxpLm9mZnNldCE9PXIuZ2V0QmxvY2tCcmVha1Bvc2l0aW9uKCkmJihhPWUucG9zaXRpb25Gcm9tTG9jYXRpb24oaSksZT1lLmluc2VydEJsb2NrQnJlYWtBdFJhbmdlKFthLGErMV0pKSksbD1lLnBvc2l0aW9uRnJvbUxvY2F0aW9uKGMpLG89ZS5wb3NpdGlvbkZyb21Mb2NhdGlvbihpKSx7ZG9jdW1lbnQ6ZSxyYW5nZTp0PW4oW2wsb10pfX0sYy5wcm90b3R5cGUuY29udmVydExpbmVCcmVha3NUb0Jsb2NrQnJlYWtzSW5SYW5nZT1mdW5jdGlvbih0KXt2YXIgZSxyLGk7cmV0dXJuIHI9KHQ9bih0KSlbMF0saT10aGlzLmdldFN0cmluZ0F0UmFuZ2UodCkuc2xpY2UoMCwtMSksZT10aGlzLGkucmVwbGFjZSgvLio/XFxuL2csKGZ1bmN0aW9uKHQpe3JldHVybiByKz10Lmxlbmd0aCxlPWUuaW5zZXJ0QmxvY2tCcmVha0F0UmFuZ2UoW3ItMSxyXSl9KSkse2RvY3VtZW50OmUscmFuZ2U6dH19LGMucHJvdG90eXBlLmNvbnNvbGlkYXRlQmxvY2tzQXRSYW5nZT1mdW5jdGlvbih0KXt2YXIgZSxyLGksbyxhO3JldHVybiBhPShpPXQ9bih0KSlbMF0scj1pWzFdLG89dGhpcy5sb2NhdGlvbkZyb21Qb3NpdGlvbihhKS5pbmRleCxlPXRoaXMubG9jYXRpb25Gcm9tUG9zaXRpb24ocikuaW5kZXgsbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5ibG9ja0xpc3QuY29uc29saWRhdGVGcm9tSW5kZXhUb0luZGV4KG8sZSkpfSxjLnByb3RvdHlwZS5nZXREb2N1bWVudEF0UmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHQ9bih0KSxlPXRoaXMuYmxvY2tMaXN0LmdldFNwbGl0dGFibGVMaXN0SW5SYW5nZSh0KS50b0FycmF5KCksbmV3IHRoaXMuY29uc3RydWN0b3IoZSl9LGMucHJvdG90eXBlLmdldFN0cmluZ0F0UmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGUscjtyZXR1cm4ocj10PW4odCkpW3IubGVuZ3RoLTFdIT09dGhpcy5nZXRMZW5ndGgoKSYmKGU9LTEpLHRoaXMuZ2V0RG9jdW1lbnRBdFJhbmdlKHQpLnRvU3RyaW5nKCkuc2xpY2UoMCxlKX0sYy5wcm90b3R5cGUuZ2V0QmxvY2tBdEluZGV4PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmJsb2NrTGlzdC5nZXRPYmplY3RBdEluZGV4KHQpfSxjLnByb3RvdHlwZS5nZXRCbG9ja0F0UG9zaXRpb249ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGU9dGhpcy5sb2NhdGlvbkZyb21Qb3NpdGlvbih0KS5pbmRleCx0aGlzLmdldEJsb2NrQXRJbmRleChlKX0sYy5wcm90b3R5cGUuZ2V0VGV4dEF0SW5kZXg9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIG51bGwhPShlPXRoaXMuZ2V0QmxvY2tBdEluZGV4KHQpKT9lLnRleHQ6dm9pZCAwfSxjLnByb3RvdHlwZS5nZXRUZXh0QXRQb3NpdGlvbj1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT10aGlzLmxvY2F0aW9uRnJvbVBvc2l0aW9uKHQpLmluZGV4LHRoaXMuZ2V0VGV4dEF0SW5kZXgoZSl9LGMucHJvdG90eXBlLmdldFBpZWNlQXRQb3NpdGlvbj1mdW5jdGlvbih0KXt2YXIgZSxuLHI7cmV0dXJuIGU9KHI9dGhpcy5sb2NhdGlvbkZyb21Qb3NpdGlvbih0KSkuaW5kZXgsbj1yLm9mZnNldCx0aGlzLmdldFRleHRBdEluZGV4KGUpLmdldFBpZWNlQXRQb3NpdGlvbihuKX0sYy5wcm90b3R5cGUuZ2V0Q2hhcmFjdGVyQXRQb3NpdGlvbj1mdW5jdGlvbih0KXt2YXIgZSxuLHI7cmV0dXJuIGU9KHI9dGhpcy5sb2NhdGlvbkZyb21Qb3NpdGlvbih0KSkuaW5kZXgsbj1yLm9mZnNldCx0aGlzLmdldFRleHRBdEluZGV4KGUpLmdldFN0cmluZ0F0UmFuZ2UoW24sbisxXSl9LGMucHJvdG90eXBlLmdldExlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJsb2NrTGlzdC5nZXRFbmRQb3NpdGlvbigpfSxjLnByb3RvdHlwZS5nZXRCbG9ja3M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ibG9ja0xpc3QudG9BcnJheSgpfSxjLnByb3RvdHlwZS5nZXRCbG9ja0NvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmxvY2tMaXN0Lmxlbmd0aH0sYy5wcm90b3R5cGUuZ2V0RWRpdENvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdENvdW50fSxjLnByb3RvdHlwZS5lYWNoQmxvY2s9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYmxvY2tMaXN0LmVhY2hPYmplY3QodCl9LGMucHJvdG90eXBlLmVhY2hCbG9ja0F0UmFuZ2U9ZnVuY3Rpb24odCxlKXt2YXIgcixpLG8sYSxzLHUsYyxsLGgscCxkLGY7aWYoZD0odT10PW4odCkpWzBdLG89dVsxXSxwPXRoaXMubG9jYXRpb25Gcm9tUG9zaXRpb24oZCksaT10aGlzLmxvY2F0aW9uRnJvbVBvc2l0aW9uKG8pLHAuaW5kZXg9PT1pLmluZGV4KXJldHVybiByPXRoaXMuZ2V0QmxvY2tBdEluZGV4KHAuaW5kZXgpLGY9W3Aub2Zmc2V0LGkub2Zmc2V0XSxlKHIsZixwLmluZGV4KTtmb3IoaD1bXSxzPWE9Yz1wLmluZGV4LGw9aS5pbmRleDtsPj1jP2w+PWE6YT49bDtzPWw+PWM/KythOi0tYSkocj10aGlzLmdldEJsb2NrQXRJbmRleChzKSk/KGY9ZnVuY3Rpb24oKXtzd2l0Y2gocyl7Y2FzZSBwLmluZGV4OnJldHVybltwLm9mZnNldCxyLnRleHQuZ2V0TGVuZ3RoKCldO2Nhc2UgaS5pbmRleDpyZXR1cm5bMCxpLm9mZnNldF07ZGVmYXVsdDpyZXR1cm5bMCxyLnRleHQuZ2V0TGVuZ3RoKCldfX0oKSxoLnB1c2goZShyLGYscykpKTpoLnB1c2godm9pZCAwKTtyZXR1cm4gaH0sYy5wcm90b3R5cGUuZ2V0Q29tbW9uQXR0cmlidXRlc0F0UmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGUsbyxhO3JldHVybiBvPSh0PW4odCkpWzBdLGkodCk/dGhpcy5nZXRDb21tb25BdHRyaWJ1dGVzQXRQb3NpdGlvbihvKTooYT1bXSxlPVtdLHRoaXMuZWFjaEJsb2NrQXRSYW5nZSh0LChmdW5jdGlvbih0LG4pe3JldHVybiBuWzBdIT09blsxXT8oYS5wdXNoKHQudGV4dC5nZXRDb21tb25BdHRyaWJ1dGVzQXRSYW5nZShuKSksZS5wdXNoKGwodCkpKTp2b2lkIDB9KSksci5IYXNoLmZyb21Db21tb25BdHRyaWJ1dGVzT2ZPYmplY3RzKGEpLm1lcmdlKHIuSGFzaC5mcm9tQ29tbW9uQXR0cmlidXRlc09mT2JqZWN0cyhlKSkudG9PYmplY3QoKSl9LGMucHJvdG90eXBlLmdldENvbW1vbkF0dHJpYnV0ZXNBdFBvc2l0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxvLGEscyxjLGgscCxkO2lmKGE9KHA9dGhpcy5sb2NhdGlvbkZyb21Qb3NpdGlvbih0KSkuaW5kZXgsaD1wLm9mZnNldCwhKGk9dGhpcy5nZXRCbG9ja0F0SW5kZXgoYSkpKXJldHVybnt9O2ZvcihjIGluIG89bChpKSxlPWkudGV4dC5nZXRBdHRyaWJ1dGVzQXRQb3NpdGlvbihoKSxuPWkudGV4dC5nZXRBdHRyaWJ1dGVzQXRQb3NpdGlvbihoLTEpLHM9ZnVuY3Rpb24oKXt2YXIgdCxlO2ZvcihjIGluIGU9W10sdD1yLmNvbmZpZy50ZXh0QXR0cmlidXRlcykoZD10W2NdKS5pbmhlcml0YWJsZSYmZS5wdXNoKGMpO3JldHVybiBlfSgpLG4pKChkPW5bY10pPT09ZVtjXXx8dS5jYWxsKHMsYyk+PTApJiYob1tjXT1kKTtyZXR1cm4gb30sYy5wcm90b3R5cGUuZ2V0UmFuZ2VPZkNvbW1vbkF0dHJpYnV0ZUF0UG9zaXRpb249ZnVuY3Rpb24odCxlKXt2YXIgcixpLG8sYSxzLHUsYyxsO3JldHVybiBvPShzPXRoaXMubG9jYXRpb25Gcm9tUG9zaXRpb24oZSkpLmluZGV4LGE9cy5vZmZzZXQsbD0odT10aGlzLmdldFRleHRBdEluZGV4KG8pLmdldEV4cGFuZGVkUmFuZ2VGb3JBdHRyaWJ1dGVBdE9mZnNldCh0LGEpKVswXSxpPXVbMV0sYz10aGlzLnBvc2l0aW9uRnJvbUxvY2F0aW9uKHtpbmRleDpvLG9mZnNldDpsfSkscj10aGlzLnBvc2l0aW9uRnJvbUxvY2F0aW9uKHtpbmRleDpvLG9mZnNldDppfSksbihbYyxyXSl9LGMucHJvdG90eXBlLmdldEJhc2VCbG9ja0F0dHJpYnV0ZXM9ZnVuY3Rpb24oKXt2YXIgdCxlLG4scixpLG8sYTtmb3IodD10aGlzLmdldEJsb2NrQXRJbmRleCgwKS5nZXRBdHRyaWJ1dGVzKCksbj1yPTEsYT10aGlzLmdldEJsb2NrQ291bnQoKTthPj0xP2E+cjpyPmE7bj1hPj0xPysrcjotLXIpZT10aGlzLmdldEJsb2NrQXRJbmRleChuKS5nZXRBdHRyaWJ1dGVzKCksbz1NYXRoLm1pbih0Lmxlbmd0aCxlLmxlbmd0aCksdD1mdW5jdGlvbigpe3ZhciBuLHIsYTtmb3IoYT1bXSxpPW49MCxyPW87KHI+PTA/cj5uOm4+cikmJmVbaV09PT10W2ldO2k9cj49MD8rK246LS1uKWEucHVzaChlW2ldKTtyZXR1cm4gYX0oKTtyZXR1cm4gdH0sbD1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiBuPXt9LChlPXQuZ2V0TGFzdEF0dHJpYnV0ZSgpKSYmKG5bZV09ITApLG59LGMucHJvdG90eXBlLmdldEF0dGFjaG1lbnRCeUlkPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpO2ZvcihuPTAscj0oaT10aGlzLmdldEF0dGFjaG1lbnRzKCkpLmxlbmd0aDtyPm47bisrKWlmKChlPWlbbl0pLmlkPT09dClyZXR1cm4gZX0sYy5wcm90b3R5cGUuZ2V0QXR0YWNobWVudFBpZWNlcz1mdW5jdGlvbigpe3ZhciB0O3JldHVybiB0PVtdLHRoaXMuYmxvY2tMaXN0LmVhY2hPYmplY3QoKGZ1bmN0aW9uKGUpe3ZhciBuO3JldHVybiBuPWUudGV4dCx0PXQuY29uY2F0KG4uZ2V0QXR0YWNobWVudFBpZWNlcygpKX0pKSx0fSxjLnByb3RvdHlwZS5nZXRBdHRhY2htZW50cz1mdW5jdGlvbigpe3ZhciB0LGUsbixyLGk7Zm9yKGk9W10sdD0wLGU9KHI9dGhpcy5nZXRBdHRhY2htZW50UGllY2VzKCkpLmxlbmd0aDtlPnQ7dCsrKW49clt0XSxpLnB1c2gobi5hdHRhY2htZW50KTtyZXR1cm4gaX0sYy5wcm90b3R5cGUuZ2V0UmFuZ2VPZkF0dGFjaG1lbnQ9ZnVuY3Rpb24odCl7dmFyIGUscixpLG8sYSxzLHU7Zm9yKG89MCxyPWU9MCxpPShhPXRoaXMuYmxvY2tMaXN0LnRvQXJyYXkoKSkubGVuZ3RoO2k+ZTtyPSsrZSl7aWYodT0ocz1hW3JdLnRleHQpLmdldFJhbmdlT2ZBdHRhY2htZW50KHQpKXJldHVybiBuKFtvK3VbMF0sbyt1WzFdXSk7bys9cy5nZXRMZW5ndGgoKX19LGMucHJvdG90eXBlLmdldExvY2F0aW9uUmFuZ2VPZkF0dGFjaG1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGU9dGhpcy5nZXRSYW5nZU9mQXR0YWNobWVudCh0KSx0aGlzLmxvY2F0aW9uUmFuZ2VGcm9tUmFuZ2UoZSl9LGMucHJvdG90eXBlLmdldEF0dGFjaG1lbnRQaWVjZUZvckF0dGFjaG1lbnQ9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGk7Zm9yKGU9MCxuPShpPXRoaXMuZ2V0QXR0YWNobWVudFBpZWNlcygpKS5sZW5ndGg7bj5lO2UrKylpZigocj1pW2VdKS5hdHRhY2htZW50PT09dClyZXR1cm4gcn0sYy5wcm90b3R5cGUuZmluZFJhbmdlc0ZvckJsb2NrQXR0cmlidXRlPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLG8sYSxzO2ZvcihvPTAsYT1bXSxuPTAscj0ocz10aGlzLmdldEJsb2NrcygpKS5sZW5ndGg7cj5uO24rKylpPShlPXNbbl0pLmdldExlbmd0aCgpLGUuaGFzQXR0cmlidXRlKHQpJiZhLnB1c2goW28sbytpXSksbys9aTtyZXR1cm4gYX0sYy5wcm90b3R5cGUuZmluZFJhbmdlc0ZvclRleHRBdHRyaWJ1dGU9ZnVuY3Rpb24odCxlKXt2YXIgbixyLGksbyxhLHMsdSxjLGwsaDtmb3IoaD0obnVsbCE9ZT9lOnt9KS53aXRoVmFsdWUscz0wLHU9W10sYz1bXSxvPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1oP2UuZ2V0QXR0cmlidXRlKHQpPT09aDplLmhhc0F0dHJpYnV0ZSh0KX0sbj0wLHI9KGw9dGhpcy5nZXRQaWVjZXMoKSkubGVuZ3RoO3I+bjtuKyspaT0oYT1sW25dKS5nZXRMZW5ndGgoKSxvKGEpJiYodVsxXT09PXM/dVsxXT1zK2k6Yy5wdXNoKHU9W3MscytpXSkpLHMrPWk7cmV0dXJuIGN9LGMucHJvdG90eXBlLmxvY2F0aW9uRnJvbVBvc2l0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIG51bGwhPShuPXRoaXMuYmxvY2tMaXN0LmZpbmRJbmRleEFuZE9mZnNldEF0UG9zaXRpb24oTWF0aC5tYXgoMCx0KSkpLmluZGV4P246e2luZGV4OihlPXRoaXMuZ2V0QmxvY2tzKCkpLmxlbmd0aC0xLG9mZnNldDplW2UubGVuZ3RoLTFdLmdldExlbmd0aCgpfX0sYy5wcm90b3R5cGUucG9zaXRpb25Gcm9tTG9jYXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYmxvY2tMaXN0LmZpbmRQb3NpdGlvbkF0SW5kZXhBbmRPZmZzZXQodC5pbmRleCx0Lm9mZnNldCl9LGMucHJvdG90eXBlLmxvY2F0aW9uUmFuZ2VGcm9tUG9zaXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcy5sb2NhdGlvbkZyb21Qb3NpdGlvbih0KSl9LGMucHJvdG90eXBlLmxvY2F0aW9uUmFuZ2VGcm9tUmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGUscixpLG87aWYodD1uKHQpKXJldHVybiBvPXRbMF0scj10WzFdLGk9dGhpcy5sb2NhdGlvbkZyb21Qb3NpdGlvbihvKSxlPXRoaXMubG9jYXRpb25Gcm9tUG9zaXRpb24ociksbihbaSxlXSl9LGMucHJvdG90eXBlLnJhbmdlRnJvbUxvY2F0aW9uUmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGUscjtyZXR1cm4gdD1uKHQpLGU9dGhpcy5wb3NpdGlvbkZyb21Mb2NhdGlvbih0WzBdKSxpKHQpfHwocj10aGlzLnBvc2l0aW9uRnJvbUxvY2F0aW9uKHRbMV0pKSxuKFtlLHJdKX0sYy5wcm90b3R5cGUuaXNFcXVhbFRvPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmJsb2NrTGlzdC5pc0VxdWFsVG8obnVsbCE9dD90LmJsb2NrTGlzdDp2b2lkIDApfSxjLnByb3RvdHlwZS5nZXRUZXh0cz1mdW5jdGlvbigpe3ZhciB0LGUsbixyLGk7Zm9yKGk9W10sZT0wLG49KHI9dGhpcy5nZXRCbG9ja3MoKSkubGVuZ3RoO24+ZTtlKyspdD1yW2VdLGkucHVzaCh0LnRleHQpO3JldHVybiBpfSxjLnByb3RvdHlwZS5nZXRQaWVjZXM9ZnVuY3Rpb24oKXt2YXIgdCxlLG4scixpO2ZvcihuPVtdLHQ9MCxlPShyPXRoaXMuZ2V0VGV4dHMoKSkubGVuZ3RoO2U+dDt0KyspaT1yW3RdLG4ucHVzaC5hcHBseShuLGkuZ2V0UGllY2VzKCkpO3JldHVybiBufSxjLnByb3RvdHlwZS5nZXRPYmplY3RzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QmxvY2tzKCkuY29uY2F0KHRoaXMuZ2V0VGV4dHMoKSkuY29uY2F0KHRoaXMuZ2V0UGllY2VzKCkpfSxjLnByb3RvdHlwZS50b1NlcmlhbGl6YWJsZURvY3VtZW50PWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHQ9W10sdGhpcy5ibG9ja0xpc3QuZWFjaE9iamVjdCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQucHVzaChlLmNvcHlXaXRoVGV4dChlLnRleHQudG9TZXJpYWxpemFibGVUZXh0KCkpKX0pKSxuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0KX0sYy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ibG9ja0xpc3QudG9TdHJpbmcoKX0sYy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmxvY2tMaXN0LnRvSlNPTigpfSxjLnByb3RvdHlwZS50b0NvbnNvbGU9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZnVuY3Rpb24oKXt2YXIgZSxuLHIsaTtmb3IoaT1bXSxlPTAsbj0ocj10aGlzLmJsb2NrTGlzdC50b0FycmF5KCkpLmxlbmd0aDtuPmU7ZSsrKXQ9cltlXSxpLnB1c2goSlNPTi5wYXJzZSh0LnRleHQudG9Db25zb2xlKCkpKTtyZXR1cm4gaX0uY2FsbCh0aGlzKSl9LGN9KHIuT2JqZWN0KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3IuTGluZUJyZWFrSW5zZXJ0aW9uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZTt0aGlzLmNvbXBvc2l0aW9uPXQsdGhpcy5kb2N1bWVudD10aGlzLmNvbXBvc2l0aW9uLmRvY3VtZW50LGU9dGhpcy5jb21wb3NpdGlvbi5nZXRTZWxlY3RlZFJhbmdlKCksdGhpcy5zdGFydFBvc2l0aW9uPWVbMF0sdGhpcy5lbmRQb3NpdGlvbj1lWzFdLHRoaXMuc3RhcnRMb2NhdGlvbj10aGlzLmRvY3VtZW50LmxvY2F0aW9uRnJvbVBvc2l0aW9uKHRoaXMuc3RhcnRQb3NpdGlvbiksdGhpcy5lbmRMb2NhdGlvbj10aGlzLmRvY3VtZW50LmxvY2F0aW9uRnJvbVBvc2l0aW9uKHRoaXMuZW5kUG9zaXRpb24pLHRoaXMuYmxvY2s9dGhpcy5kb2N1bWVudC5nZXRCbG9ja0F0SW5kZXgodGhpcy5lbmRMb2NhdGlvbi5pbmRleCksdGhpcy5icmVha3NPblJldHVybj10aGlzLmJsb2NrLmJyZWFrc09uUmV0dXJuKCksdGhpcy5wcmV2aW91c0NoYXJhY3Rlcj10aGlzLmJsb2NrLnRleHQuZ2V0U3RyaW5nQXRQb3NpdGlvbih0aGlzLmVuZExvY2F0aW9uLm9mZnNldC0xKSx0aGlzLm5leHRDaGFyYWN0ZXI9dGhpcy5ibG9jay50ZXh0LmdldFN0cmluZ0F0UG9zaXRpb24odGhpcy5lbmRMb2NhdGlvbi5vZmZzZXQpfXJldHVybiB0LnByb3RvdHlwZS5zaG91bGRJbnNlcnRCbG9ja0JyZWFrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmxvY2suaGFzQXR0cmlidXRlcygpJiZ0aGlzLmJsb2NrLmlzTGlzdEl0ZW0oKSYmIXRoaXMuYmxvY2suaXNFbXB0eSgpPzAhPT10aGlzLnN0YXJ0TG9jYXRpb24ub2Zmc2V0OnRoaXMuYnJlYWtzT25SZXR1cm4mJlwiXFxuXCIhPT10aGlzLm5leHRDaGFyYWN0ZXJ9LHQucHJvdG90eXBlLnNob3VsZEJyZWFrRm9ybWF0dGVkQmxvY2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ibG9jay5oYXNBdHRyaWJ1dGVzKCkmJiF0aGlzLmJsb2NrLmlzTGlzdEl0ZW0oKSYmKHRoaXMuYnJlYWtzT25SZXR1cm4mJlwiXFxuXCI9PT10aGlzLm5leHRDaGFyYWN0ZXJ8fFwiXFxuXCI9PT10aGlzLnByZXZpb3VzQ2hhcmFjdGVyKX0sdC5wcm90b3R5cGUuc2hvdWxkRGVjcmVhc2VMaXN0TGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ibG9jay5oYXNBdHRyaWJ1dGVzKCkmJnRoaXMuYmxvY2suaXNMaXN0SXRlbSgpJiZ0aGlzLmJsb2NrLmlzRW1wdHkoKX0sdC5wcm90b3R5cGUuc2hvdWxkUHJlcGVuZExpc3RJdGVtPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmxvY2suaXNMaXN0SXRlbSgpJiYwPT09dGhpcy5zdGFydExvY2F0aW9uLm9mZnNldCYmIXRoaXMuYmxvY2suaXNFbXB0eSgpfSx0LnByb3RvdHlwZS5zaG91bGRSZW1vdmVMYXN0QmxvY2tBdHRyaWJ1dGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ibG9jay5oYXNBdHRyaWJ1dGVzKCkmJiF0aGlzLmJsb2NrLmlzTGlzdEl0ZW0oKSYmdGhpcy5ibG9jay5pc0VtcHR5KCl9LHR9KCl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxvLGEscyx1LGMsbCxoPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSlwLmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIG4ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQuX19zdXBlcl9fPWUucHJvdG90eXBlLHR9LHA9e30uaGFzT3duUHJvcGVydHk7YT1yLm5vcm1hbGl6ZVJhbmdlLGM9ci5yYW5nZXNBcmVFcXVhbCx1PXIucmFuZ2VJc0NvbGxhcHNlZCxzPXIub2JqZWN0c0FyZUVxdWFsLHQ9ci5hcnJheVN0YXJ0c1dpdGgsbD1yLnN1bW1hcml6ZUFycmF5Q2hhbmdlLG49ci5nZXRBbGxBdHRyaWJ1dGVOYW1lcyxpPXIuZ2V0QmxvY2tDb25maWcsbz1yLmdldFRleHRDb25maWcsZT1yLmV4dGVuZCxyLkNvbXBvc2l0aW9uPWZ1bmN0aW9uKHApe2Z1bmN0aW9uIGQoKXt0aGlzLmRvY3VtZW50PW5ldyByLkRvY3VtZW50LHRoaXMuYXR0YWNobWVudHM9W10sdGhpcy5jdXJyZW50QXR0cmlidXRlcz17fSx0aGlzLnJldmlzaW9uPTB9cmV0dXJuIGgoZCxwKSxkLnByb3RvdHlwZS5zZXREb2N1bWVudD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdC5pc0VxdWFsVG8odGhpcy5kb2N1bWVudCk/dm9pZCAwOih0aGlzLmRvY3VtZW50PXQsdGhpcy5yZWZyZXNoQXR0YWNobWVudHMoKSx0aGlzLnJldmlzaW9uKyssbnVsbCE9KGU9dGhpcy5kZWxlZ2F0ZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY29tcG9zaXRpb25EaWRDaGFuZ2VEb2N1bWVudD9lLmNvbXBvc2l0aW9uRGlkQ2hhbmdlRG9jdW1lbnQodCk6dm9pZCAwKX0sZC5wcm90b3R5cGUuZ2V0U25hcHNob3Q9ZnVuY3Rpb24oKXtyZXR1cm57ZG9jdW1lbnQ6dGhpcy5kb2N1bWVudCxzZWxlY3RlZFJhbmdlOnRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpfX0sZC5wcm90b3R5cGUubG9hZFNuYXBzaG90PWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxvO3JldHVybiBlPXQuZG9jdW1lbnQsbz10LnNlbGVjdGVkUmFuZ2UsbnVsbCE9KG49dGhpcy5kZWxlZ2F0ZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIG4uY29tcG9zaXRpb25XaWxsTG9hZFNuYXBzaG90JiZuLmNvbXBvc2l0aW9uV2lsbExvYWRTbmFwc2hvdCgpLHRoaXMuc2V0RG9jdW1lbnQobnVsbCE9ZT9lOm5ldyByLkRvY3VtZW50KSx0aGlzLnNldFNlbGVjdGlvbihudWxsIT1vP286WzAsMF0pLG51bGwhPShpPXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLmNvbXBvc2l0aW9uRGlkTG9hZFNuYXBzaG90P2kuY29tcG9zaXRpb25EaWRMb2FkU25hcHNob3QoKTp2b2lkIDB9LGQucHJvdG90eXBlLmluc2VydFRleHQ9ZnVuY3Rpb24odCxlKXt2YXIgbixyLGksbztyZXR1cm4gbz0obnVsbCE9ZT9lOnt1cGRhdGVQb3NpdGlvbjohMH0pLnVwZGF0ZVBvc2l0aW9uLHI9dGhpcy5nZXRTZWxlY3RlZFJhbmdlKCksdGhpcy5zZXREb2N1bWVudCh0aGlzLmRvY3VtZW50Lmluc2VydFRleHRBdFJhbmdlKHQscikpLG49KGk9clswXSkrdC5nZXRMZW5ndGgoKSxvJiZ0aGlzLnNldFNlbGVjdGlvbihuKSx0aGlzLm5vdGlmeURlbGVnYXRlT2ZJbnNlcnRpb25BdFJhbmdlKFtpLG5dKX0sZC5wcm90b3R5cGUuaW5zZXJ0QmxvY2s9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIG51bGw9PXQmJih0PW5ldyByLkJsb2NrKSxlPW5ldyByLkRvY3VtZW50KFt0XSksdGhpcy5pbnNlcnREb2N1bWVudChlKX0sZC5wcm90b3R5cGUuaW5zZXJ0RG9jdW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGUsbixpO3JldHVybiBudWxsPT10JiYodD1uZXcgci5Eb2N1bWVudCksbj10aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSx0aGlzLnNldERvY3VtZW50KHRoaXMuZG9jdW1lbnQuaW5zZXJ0RG9jdW1lbnRBdFJhbmdlKHQsbikpLGU9KGk9blswXSkrdC5nZXRMZW5ndGgoKSx0aGlzLnNldFNlbGVjdGlvbihlKSx0aGlzLm5vdGlmeURlbGVnYXRlT2ZJbnNlcnRpb25BdFJhbmdlKFtpLGVdKX0sZC5wcm90b3R5cGUuaW5zZXJ0U3RyaW5nPWZ1bmN0aW9uKHQsZSl7dmFyIG4saTtyZXR1cm4gbj10aGlzLmdldEN1cnJlbnRUZXh0QXR0cmlidXRlcygpLGk9ci5UZXh0LnRleHRGb3JTdHJpbmdXaXRoQXR0cmlidXRlcyh0LG4pLHRoaXMuaW5zZXJ0VGV4dChpLGUpfSxkLnByb3RvdHlwZS5pbnNlcnRCbG9ja0JyZWFrPWZ1bmN0aW9uKCl7dmFyIHQsZSxuO3JldHVybiBlPXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpLHRoaXMuc2V0RG9jdW1lbnQodGhpcy5kb2N1bWVudC5pbnNlcnRCbG9ja0JyZWFrQXRSYW5nZShlKSksdD0obj1lWzBdKSsxLHRoaXMuc2V0U2VsZWN0aW9uKHQpLHRoaXMubm90aWZ5RGVsZWdhdGVPZkluc2VydGlvbkF0UmFuZ2UoW24sdF0pfSxkLnByb3RvdHlwZS5pbnNlcnRMaW5lQnJlYWs9ZnVuY3Rpb24oKXt2YXIgdCxlO3JldHVybihlPW5ldyByLkxpbmVCcmVha0luc2VydGlvbih0aGlzKSkuc2hvdWxkRGVjcmVhc2VMaXN0TGV2ZWwoKT8odGhpcy5kZWNyZWFzZUxpc3RMZXZlbCgpLHRoaXMuc2V0U2VsZWN0aW9uKGUuc3RhcnRQb3NpdGlvbikpOmUuc2hvdWxkUHJlcGVuZExpc3RJdGVtKCk/KHQ9bmV3IHIuRG9jdW1lbnQoW2UuYmxvY2suY29weVdpdGhvdXRUZXh0KCldKSx0aGlzLmluc2VydERvY3VtZW50KHQpKTplLnNob3VsZEluc2VydEJsb2NrQnJlYWsoKT90aGlzLmluc2VydEJsb2NrQnJlYWsoKTplLnNob3VsZFJlbW92ZUxhc3RCbG9ja0F0dHJpYnV0ZSgpP3RoaXMucmVtb3ZlTGFzdEJsb2NrQXR0cmlidXRlKCk6ZS5zaG91bGRCcmVha0Zvcm1hdHRlZEJsb2NrKCk/dGhpcy5icmVha0Zvcm1hdHRlZEJsb2NrKGUpOnRoaXMuaW5zZXJ0U3RyaW5nKFwiXFxuXCIpfSxkLnByb3RvdHlwZS5pbnNlcnRIVE1MPWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxvO3JldHVybiBlPXIuRG9jdW1lbnQuZnJvbUhUTUwodCksaT10aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSx0aGlzLnNldERvY3VtZW50KHRoaXMuZG9jdW1lbnQubWVyZ2VEb2N1bWVudEF0UmFuZ2UoZSxpKSksbj0obz1pWzBdKStlLmdldExlbmd0aCgpLTEsdGhpcy5zZXRTZWxlY3Rpb24obiksdGhpcy5ub3RpZnlEZWxlZ2F0ZU9mSW5zZXJ0aW9uQXRSYW5nZShbbyxuXSl9LGQucHJvdG90eXBlLnJlcGxhY2VIVE1MPWZ1bmN0aW9uKHQpe3ZhciBlLG4saTtyZXR1cm4gZT1yLkRvY3VtZW50LmZyb21IVE1MKHQpLmNvcHlVc2luZ09iamVjdHNGcm9tRG9jdW1lbnQodGhpcy5kb2N1bWVudCksbj10aGlzLmdldExvY2F0aW9uUmFuZ2Uoe3N0cmljdDohMX0pLGk9dGhpcy5kb2N1bWVudC5yYW5nZUZyb21Mb2NhdGlvblJhbmdlKG4pLHRoaXMuc2V0RG9jdW1lbnQoZSksdGhpcy5zZXRTZWxlY3Rpb24oaSl9LGQucHJvdG90eXBlLmluc2VydEZpbGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaW5zZXJ0RmlsZXMoW3RdKX0sZC5wcm90b3R5cGUuaW5zZXJ0RmlsZXM9ZnVuY3Rpb24odCl7dmFyIGUsbixpLG8sYSxzO2ZvcihuPVtdLG89MCxhPXQubGVuZ3RoO2E+bztvKyspaT10W29dLChudWxsIT0ocz10aGlzLmRlbGVnYXRlKT9zLmNvbXBvc2l0aW9uU2hvdWxkQWNjZXB0RmlsZShpKTp2b2lkIDApJiYoZT1yLkF0dGFjaG1lbnQuYXR0YWNobWVudEZvckZpbGUoaSksbi5wdXNoKGUpKTtyZXR1cm4gdGhpcy5pbnNlcnRBdHRhY2htZW50cyhuKX0sZC5wcm90b3R5cGUuaW5zZXJ0QXR0YWNobWVudD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbnNlcnRBdHRhY2htZW50cyhbdF0pfSxkLnByb3RvdHlwZS5pbnNlcnRBdHRhY2htZW50cz1mdW5jdGlvbih0KXt2YXIgZSxuLGksbyxhLHMsdSxjLGw7Zm9yKGM9bmV3IHIuVGV4dCxvPTAsYT10Lmxlbmd0aDthPm87bysrKWw9KGU9dFtvXSkuZ2V0VHlwZSgpLHM9bnVsbCE9KHU9ci5jb25maWcuYXR0YWNobWVudHNbbF0pP3UucHJlc2VudGF0aW9uOnZvaWQgMCxpPXRoaXMuZ2V0Q3VycmVudFRleHRBdHRyaWJ1dGVzKCkscyYmKGkucHJlc2VudGF0aW9uPXMpLG49ci5UZXh0LnRleHRGb3JBdHRhY2htZW50V2l0aEF0dHJpYnV0ZXMoZSxpKSxjPWMuYXBwZW5kVGV4dChuKTtyZXR1cm4gdGhpcy5pbnNlcnRUZXh0KGMpfSxkLnByb3RvdHlwZS5zaG91bGRNYW5hZ2VEZWxldGluZ0luRGlyZWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlO2lmKGU9dGhpcy5nZXRMb2NhdGlvblJhbmdlKCksdShlKSl7aWYoXCJiYWNrd2FyZFwiPT09dCYmMD09PWVbMF0ub2Zmc2V0KXJldHVybiEwO2lmKHRoaXMuc2hvdWxkTWFuYWdlTW92aW5nQ3Vyc29ySW5EaXJlY3Rpb24odCkpcmV0dXJuITB9ZWxzZSBpZihlWzBdLmluZGV4IT09ZVsxXS5pbmRleClyZXR1cm4hMDtyZXR1cm4hMX0sZC5wcm90b3R5cGUuZGVsZXRlSW5EaXJlY3Rpb249ZnVuY3Rpb24odCxlKXt2YXIgbixyLGksbyxhLHMsYyxsO3JldHVybiBvPShudWxsIT1lP2U6e30pLmxlbmd0aCxhPXRoaXMuZ2V0TG9jYXRpb25SYW5nZSgpLHM9dGhpcy5nZXRTZWxlY3RlZFJhbmdlKCksKGM9dShzKSk/aT1cImJhY2t3YXJkXCI9PT10JiYwPT09YVswXS5vZmZzZXQ6bD1hWzBdLmluZGV4IT09YVsxXS5pbmRleCwhKGkmJnRoaXMuY2FuRGVjcmVhc2VCbG9ja0F0dHJpYnV0ZUxldmVsKCkmJihyPXRoaXMuZ2V0QmxvY2soKSxyLmlzTGlzdEl0ZW0oKT90aGlzLmRlY3JlYXNlTGlzdExldmVsKCk6dGhpcy5kZWNyZWFzZUJsb2NrQXR0cmlidXRlTGV2ZWwoKSx0aGlzLnNldFNlbGVjdGlvbihzWzBdKSxyLmlzRW1wdHkoKSkpJiYoYyYmKHM9dGhpcy5nZXRFeHBhbmRlZFJhbmdlSW5EaXJlY3Rpb24odCx7bGVuZ3RoOm99KSxcImJhY2t3YXJkXCI9PT10JiYobj10aGlzLmdldEF0dGFjaG1lbnRBdFJhbmdlKHMpKSksbj8odGhpcy5lZGl0QXR0YWNobWVudChuKSwhMSk6KHRoaXMuc2V0RG9jdW1lbnQodGhpcy5kb2N1bWVudC5yZW1vdmVUZXh0QXRSYW5nZShzKSksdGhpcy5zZXRTZWxlY3Rpb24oc1swXSksIWkmJiFsJiZ2b2lkIDApKX0sZC5wcm90b3R5cGUubW92ZVRleHRGcm9tUmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGU9dGhpcy5nZXRTZWxlY3RlZFJhbmdlKClbMF0sdGhpcy5zZXREb2N1bWVudCh0aGlzLmRvY3VtZW50Lm1vdmVUZXh0RnJvbVJhbmdlVG9Qb3NpdGlvbih0LGUpKSx0aGlzLnNldFNlbGVjdGlvbihlKX0sZC5wcm90b3R5cGUucmVtb3ZlQXR0YWNobWVudD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4oZT10aGlzLmRvY3VtZW50LmdldFJhbmdlT2ZBdHRhY2htZW50KHQpKT8odGhpcy5zdG9wRWRpdGluZ0F0dGFjaG1lbnQoKSx0aGlzLnNldERvY3VtZW50KHRoaXMuZG9jdW1lbnQucmVtb3ZlVGV4dEF0UmFuZ2UoZSkpLHRoaXMuc2V0U2VsZWN0aW9uKGVbMF0pKTp2b2lkIDB9LGQucHJvdG90eXBlLnJlbW92ZUxhc3RCbG9ja0F0dHJpYnV0ZT1mdW5jdGlvbigpe3ZhciB0LGUsbixyO3JldHVybiByPShuPXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpKVswXSxlPW5bMV0sdD10aGlzLmRvY3VtZW50LmdldEJsb2NrQXRQb3NpdGlvbihlKSx0aGlzLnJlbW92ZUN1cnJlbnRBdHRyaWJ1dGUodC5nZXRMYXN0QXR0cmlidXRlKCkpLHRoaXMuc2V0U2VsZWN0aW9uKHIpfSxcIiBcIixkLnByb3RvdHlwZS5pbnNlcnRQbGFjZWhvbGRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBsYWNlaG9sZGVyUG9zaXRpb249dGhpcy5nZXRQb3NpdGlvbigpLHRoaXMuaW5zZXJ0U3RyaW5nKFwiIFwiKX0sZC5wcm90b3R5cGUuc2VsZWN0UGxhY2Vob2xkZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5wbGFjZWhvbGRlclBvc2l0aW9uPyh0aGlzLnNldFNlbGVjdGVkUmFuZ2UoW3RoaXMucGxhY2Vob2xkZXJQb3NpdGlvbix0aGlzLnBsYWNlaG9sZGVyUG9zaXRpb24rXCIgXCIubGVuZ3RoXSksdGhpcy5nZXRTZWxlY3RlZFJhbmdlKCkpOnZvaWQgMH0sZC5wcm90b3R5cGUuZm9yZ2V0UGxhY2Vob2xkZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wbGFjZWhvbGRlclBvc2l0aW9uPW51bGx9LGQucHJvdG90eXBlLmhhc0N1cnJlbnRBdHRyaWJ1dGU9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIG51bGwhPShlPXRoaXMuY3VycmVudEF0dHJpYnV0ZXNbdF0pJiYhMSE9PWV9LGQucHJvdG90eXBlLnRvZ2dsZUN1cnJlbnRBdHRyaWJ1dGU9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuKGU9IXRoaXMuY3VycmVudEF0dHJpYnV0ZXNbdF0pP3RoaXMuc2V0Q3VycmVudEF0dHJpYnV0ZSh0LGUpOnRoaXMucmVtb3ZlQ3VycmVudEF0dHJpYnV0ZSh0KX0sZC5wcm90b3R5cGUuY2FuU2V0Q3VycmVudEF0dHJpYnV0ZT1mdW5jdGlvbih0KXtyZXR1cm4gaSh0KT90aGlzLmNhblNldEN1cnJlbnRCbG9ja0F0dHJpYnV0ZSh0KTp0aGlzLmNhblNldEN1cnJlbnRUZXh0QXR0cmlidXRlKHQpfSxkLnByb3RvdHlwZS5jYW5TZXRDdXJyZW50VGV4dEF0dHJpYnV0ZT1mdW5jdGlvbigpe3ZhciB0LGUsbixyO2lmKHQ9dGhpcy5nZXRTZWxlY3RlZERvY3VtZW50KCkpe2ZvcihlPTAsbj0ocj10LmdldEF0dGFjaG1lbnRzKCkpLmxlbmd0aDtuPmU7ZSsrKWlmKCFyW2VdLmhhc0NvbnRlbnQoKSlyZXR1cm4hMTtyZXR1cm4hMH19LGQucHJvdG90eXBlLmNhblNldEN1cnJlbnRCbG9ja0F0dHJpYnV0ZT1mdW5jdGlvbigpe3ZhciB0O2lmKHQ9dGhpcy5nZXRCbG9jaygpKXJldHVybiF0LmlzVGVybWluYWxCbG9jaygpfSxkLnByb3RvdHlwZS5zZXRDdXJyZW50QXR0cmlidXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkodCk/dGhpcy5zZXRCbG9ja0F0dHJpYnV0ZSh0LGUpOih0aGlzLnNldFRleHRBdHRyaWJ1dGUodCxlKSx0aGlzLmN1cnJlbnRBdHRyaWJ1dGVzW3RdPWUsdGhpcy5ub3RpZnlEZWxlZ2F0ZU9mQ3VycmVudEF0dHJpYnV0ZXNDaGFuZ2UoKSl9LGQucHJvdG90eXBlLnNldFRleHRBdHRyaWJ1dGU9ZnVuY3Rpb24odCxlKXt2YXIgbixpO2lmKG49dGhpcy5nZXRTZWxlY3RlZFJhbmdlKCkpcmV0dXJuIG5bMF0hPT1uWzFdP3RoaXMuc2V0RG9jdW1lbnQodGhpcy5kb2N1bWVudC5hZGRBdHRyaWJ1dGVBdFJhbmdlKHQsZSxuKSk6XCJocmVmXCI9PT10PyhpPXIuVGV4dC50ZXh0Rm9yU3RyaW5nV2l0aEF0dHJpYnV0ZXMoZSx7aHJlZjplfSksdGhpcy5pbnNlcnRUZXh0KGkpKTp2b2lkIDB9LGQucHJvdG90eXBlLnNldEJsb2NrQXR0cmlidXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG47aWYobj10aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSlyZXR1cm4gdGhpcy5jYW5TZXRDdXJyZW50QXR0cmlidXRlKHQpPyh0aGlzLmdldEJsb2NrKCksdGhpcy5zZXREb2N1bWVudCh0aGlzLmRvY3VtZW50LmFwcGx5QmxvY2tBdHRyaWJ1dGVBdFJhbmdlKHQsZSxuKSksdGhpcy5zZXRTZWxlY3Rpb24obikpOnZvaWQgMH0sZC5wcm90b3R5cGUucmVtb3ZlQ3VycmVudEF0dHJpYnV0ZT1mdW5jdGlvbih0KXtyZXR1cm4gaSh0KT8odGhpcy5yZW1vdmVCbG9ja0F0dHJpYnV0ZSh0KSx0aGlzLnVwZGF0ZUN1cnJlbnRBdHRyaWJ1dGVzKCkpOih0aGlzLnJlbW92ZVRleHRBdHRyaWJ1dGUodCksZGVsZXRlIHRoaXMuY3VycmVudEF0dHJpYnV0ZXNbdF0sdGhpcy5ub3RpZnlEZWxlZ2F0ZU9mQ3VycmVudEF0dHJpYnV0ZXNDaGFuZ2UoKSl9LGQucHJvdG90eXBlLnJlbW92ZVRleHRBdHRyaWJ1dGU9ZnVuY3Rpb24odCl7dmFyIGU7aWYoZT10aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSlyZXR1cm4gdGhpcy5zZXREb2N1bWVudCh0aGlzLmRvY3VtZW50LnJlbW92ZUF0dHJpYnV0ZUF0UmFuZ2UodCxlKSl9LGQucHJvdG90eXBlLnJlbW92ZUJsb2NrQXR0cmlidXRlPWZ1bmN0aW9uKHQpe3ZhciBlO2lmKGU9dGhpcy5nZXRTZWxlY3RlZFJhbmdlKCkpcmV0dXJuIHRoaXMuc2V0RG9jdW1lbnQodGhpcy5kb2N1bWVudC5yZW1vdmVBdHRyaWJ1dGVBdFJhbmdlKHQsZSkpfSxkLnByb3RvdHlwZS5jYW5EZWNyZWFzZU5lc3RpbmdMZXZlbD1mdW5jdGlvbigpe3ZhciB0O3JldHVybihudWxsIT0odD10aGlzLmdldEJsb2NrKCkpP3QuZ2V0TmVzdGluZ0xldmVsKCk6dm9pZCAwKT4wfSxkLnByb3RvdHlwZS5jYW5JbmNyZWFzZU5lc3RpbmdMZXZlbD1mdW5jdGlvbigpe3ZhciBlLG4scjtpZihlPXRoaXMuZ2V0QmxvY2soKSlyZXR1cm4gbnVsbCE9KHI9aShlLmdldExhc3ROZXN0YWJsZUF0dHJpYnV0ZSgpKSkmJnIubGlzdEF0dHJpYnV0ZT8obj10aGlzLmdldFByZXZpb3VzQmxvY2soKSk/dChuLmdldExpc3RJdGVtQXR0cmlidXRlcygpLGUuZ2V0TGlzdEl0ZW1BdHRyaWJ1dGVzKCkpOnZvaWQgMDplLmdldE5lc3RpbmdMZXZlbCgpPjB9LGQucHJvdG90eXBlLmRlY3JlYXNlTmVzdGluZ0xldmVsPWZ1bmN0aW9uKCl7dmFyIHQ7aWYodD10aGlzLmdldEJsb2NrKCkpcmV0dXJuIHRoaXMuc2V0RG9jdW1lbnQodGhpcy5kb2N1bWVudC5yZXBsYWNlQmxvY2sodCx0LmRlY3JlYXNlTmVzdGluZ0xldmVsKCkpKX0sZC5wcm90b3R5cGUuaW5jcmVhc2VOZXN0aW5nTGV2ZWw9ZnVuY3Rpb24oKXt2YXIgdDtpZih0PXRoaXMuZ2V0QmxvY2soKSlyZXR1cm4gdGhpcy5zZXREb2N1bWVudCh0aGlzLmRvY3VtZW50LnJlcGxhY2VCbG9jayh0LHQuaW5jcmVhc2VOZXN0aW5nTGV2ZWwoKSkpfSxkLnByb3RvdHlwZS5jYW5EZWNyZWFzZUJsb2NrQXR0cmlidXRlTGV2ZWw9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4obnVsbCE9KHQ9dGhpcy5nZXRCbG9jaygpKT90LmdldEF0dHJpYnV0ZUxldmVsKCk6dm9pZCAwKT4wfSxkLnByb3RvdHlwZS5kZWNyZWFzZUJsb2NrQXR0cmlidXRlTGV2ZWw9ZnVuY3Rpb24oKXt2YXIgdCxlO3JldHVybih0PW51bGwhPShlPXRoaXMuZ2V0QmxvY2soKSk/ZS5nZXRMYXN0QXR0cmlidXRlKCk6dm9pZCAwKT90aGlzLnJlbW92ZUN1cnJlbnRBdHRyaWJ1dGUodCk6dm9pZCAwfSxkLnByb3RvdHlwZS5kZWNyZWFzZUxpc3RMZXZlbD1mdW5jdGlvbigpe3ZhciB0LGUsbixyLGksbztmb3Iobz10aGlzLmdldFNlbGVjdGVkUmFuZ2UoKVswXSxuPWk9dGhpcy5kb2N1bWVudC5sb2NhdGlvbkZyb21Qb3NpdGlvbihvKS5pbmRleCx0PXRoaXMuZ2V0QmxvY2soKS5nZXRBdHRyaWJ1dGVMZXZlbCgpOyhlPXRoaXMuZG9jdW1lbnQuZ2V0QmxvY2tBdEluZGV4KG4rMSkpJiZlLmlzTGlzdEl0ZW0oKSYmZS5nZXRBdHRyaWJ1dGVMZXZlbCgpPnQ7KW4rKztyZXR1cm4gbz10aGlzLmRvY3VtZW50LnBvc2l0aW9uRnJvbUxvY2F0aW9uKHtpbmRleDppLG9mZnNldDowfSkscj10aGlzLmRvY3VtZW50LnBvc2l0aW9uRnJvbUxvY2F0aW9uKHtpbmRleDpuLG9mZnNldDowfSksdGhpcy5zZXREb2N1bWVudCh0aGlzLmRvY3VtZW50LnJlbW92ZUxhc3RMaXN0QXR0cmlidXRlQXRSYW5nZShbbyxyXSkpfSxkLnByb3RvdHlwZS51cGRhdGVDdXJyZW50QXR0cmlidXRlcz1mdW5jdGlvbigpe3ZhciB0LGUscixpLG8sYTtpZihhPXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSh7aWdub3JlTG9jazohMH0pKXtmb3IoZT10aGlzLmRvY3VtZW50LmdldENvbW1vbkF0dHJpYnV0ZXNBdFJhbmdlKGEpLHI9MCxpPShvPW4oKSkubGVuZ3RoO2k+cjtyKyspZVt0PW9bcl1dfHx0aGlzLmNhblNldEN1cnJlbnRBdHRyaWJ1dGUodCl8fChlW3RdPSExKTtpZighcyhlLHRoaXMuY3VycmVudEF0dHJpYnV0ZXMpKXJldHVybiB0aGlzLmN1cnJlbnRBdHRyaWJ1dGVzPWUsdGhpcy5ub3RpZnlEZWxlZ2F0ZU9mQ3VycmVudEF0dHJpYnV0ZXNDaGFuZ2UoKX19LGQucHJvdG90eXBlLmdldEN1cnJlbnRBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIGUuY2FsbCh7fSx0aGlzLmN1cnJlbnRBdHRyaWJ1dGVzKX0sZC5wcm90b3R5cGUuZ2V0Q3VycmVudFRleHRBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLHI7Zm9yKGUgaW4gdD17fSxuPXRoaXMuY3VycmVudEF0dHJpYnV0ZXMpITEhPT0ocj1uW2VdKSYmbyhlKSYmKHRbZV09cik7cmV0dXJuIHR9LGQucHJvdG90eXBlLmZyZWV6ZVNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNldEN1cnJlbnRBdHRyaWJ1dGUoXCJmcm96ZW5cIiwhMCl9LGQucHJvdG90eXBlLnRoYXdTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW1vdmVDdXJyZW50QXR0cmlidXRlKFwiZnJvemVuXCIpfSxkLnByb3RvdHlwZS5oYXNGcm96ZW5TZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYXNDdXJyZW50QXR0cmlidXRlKFwiZnJvemVuXCIpfSxkLnByb3h5TWV0aG9kKFwiZ2V0U2VsZWN0aW9uTWFuYWdlcigpLmdldFBvaW50UmFuZ2VcIiksZC5wcm94eU1ldGhvZChcImdldFNlbGVjdGlvbk1hbmFnZXIoKS5zZXRMb2NhdGlvblJhbmdlRnJvbVBvaW50UmFuZ2VcIiksZC5wcm94eU1ldGhvZChcImdldFNlbGVjdGlvbk1hbmFnZXIoKS5jcmVhdGVMb2NhdGlvblJhbmdlRnJvbURPTVJhbmdlXCIpLGQucHJveHlNZXRob2QoXCJnZXRTZWxlY3Rpb25NYW5hZ2VyKCkubG9jYXRpb25Jc0N1cnNvclRhcmdldFwiKSxkLnByb3h5TWV0aG9kKFwiZ2V0U2VsZWN0aW9uTWFuYWdlcigpLnNlbGVjdGlvbklzRXhwYW5kZWRcIiksZC5wcm94eU1ldGhvZChcImRlbGVnYXRlPy5nZXRTZWxlY3Rpb25NYW5hZ2VyXCIpLGQucHJvdG90eXBlLnNldFNlbGVjdGlvbj1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiBlPXRoaXMuZG9jdW1lbnQubG9jYXRpb25SYW5nZUZyb21SYW5nZSh0KSxudWxsIT0obj10aGlzLmRlbGVnYXRlKT9uLmNvbXBvc2l0aW9uRGlkUmVxdWVzdENoYW5naW5nU2VsZWN0aW9uVG9Mb2NhdGlvblJhbmdlKGUpOnZvaWQgMH0sZC5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRSYW5nZT1mdW5jdGlvbigpe3ZhciB0O3JldHVybih0PXRoaXMuZ2V0TG9jYXRpb25SYW5nZSgpKT90aGlzLmRvY3VtZW50LnJhbmdlRnJvbUxvY2F0aW9uUmFuZ2UodCk6dm9pZCAwfSxkLnByb3RvdHlwZS5zZXRTZWxlY3RlZFJhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBlPXRoaXMuZG9jdW1lbnQubG9jYXRpb25SYW5nZUZyb21SYW5nZSh0KSx0aGlzLmdldFNlbGVjdGlvbk1hbmFnZXIoKS5zZXRMb2NhdGlvblJhbmdlKGUpfSxkLnByb3RvdHlwZS5nZXRQb3NpdGlvbj1mdW5jdGlvbigpe3ZhciB0O3JldHVybih0PXRoaXMuZ2V0TG9jYXRpb25SYW5nZSgpKT90aGlzLmRvY3VtZW50LnBvc2l0aW9uRnJvbUxvY2F0aW9uKHRbMF0pOnZvaWQgMH0sZC5wcm90b3R5cGUuZ2V0TG9jYXRpb25SYW5nZT1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiBudWxsIT0oZT1udWxsIT0obj10aGlzLnRhcmdldExvY2F0aW9uUmFuZ2UpP246dGhpcy5nZXRTZWxlY3Rpb25NYW5hZ2VyKCkuZ2V0TG9jYXRpb25SYW5nZSh0KSk/ZTphKHtpbmRleDowLG9mZnNldDowfSl9LGQucHJvdG90eXBlLndpdGhUYXJnZXRMb2NhdGlvblJhbmdlPWZ1bmN0aW9uKHQsZSl7dmFyIG47dGhpcy50YXJnZXRMb2NhdGlvblJhbmdlPXQ7dHJ5e249ZSgpfWZpbmFsbHl7dGhpcy50YXJnZXRMb2NhdGlvblJhbmdlPW51bGx9cmV0dXJuIG59LGQucHJvdG90eXBlLndpdGhUYXJnZXRSYW5nZT1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBuPXRoaXMuZG9jdW1lbnQubG9jYXRpb25SYW5nZUZyb21SYW5nZSh0KSx0aGlzLndpdGhUYXJnZXRMb2NhdGlvblJhbmdlKG4sZSl9LGQucHJvdG90eXBlLndpdGhUYXJnZXRET01SYW5nZT1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBuPXRoaXMuY3JlYXRlTG9jYXRpb25SYW5nZUZyb21ET01SYW5nZSh0LHtzdHJpY3Q6ITF9KSx0aGlzLndpdGhUYXJnZXRMb2NhdGlvblJhbmdlKG4sZSl9LGQucHJvdG90eXBlLmdldEV4cGFuZGVkUmFuZ2VJbkRpcmVjdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuLHIsaSxvO3JldHVybiByPShudWxsIT1lP2U6e30pLmxlbmd0aCxvPShpPXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpKVswXSxuPWlbMV0sXCJiYWNrd2FyZFwiPT09dD9yP28tPXI6bz10aGlzLnRyYW5zbGF0ZVVURjE2UG9zaXRpb25Gcm9tT2Zmc2V0KG8sLTEpOnI/bis9cjpuPXRoaXMudHJhbnNsYXRlVVRGMTZQb3NpdGlvbkZyb21PZmZzZXQobiwxKSxhKFtvLG5dKX0sZC5wcm90b3R5cGUuc2hvdWxkTWFuYWdlTW92aW5nQ3Vyc29ySW5EaXJlY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuISF0aGlzLmVkaXRpbmdBdHRhY2htZW50fHwoZT10aGlzLmdldEV4cGFuZGVkUmFuZ2VJbkRpcmVjdGlvbih0KSxudWxsIT10aGlzLmdldEF0dGFjaG1lbnRBdFJhbmdlKGUpKX0sZC5wcm90b3R5cGUubW92ZUN1cnNvckluRGlyZWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpO3JldHVybiB0aGlzLmVkaXRpbmdBdHRhY2htZW50P3I9dGhpcy5kb2N1bWVudC5nZXRSYW5nZU9mQXR0YWNobWVudCh0aGlzLmVkaXRpbmdBdHRhY2htZW50KTooaT10aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSxyPXRoaXMuZ2V0RXhwYW5kZWRSYW5nZUluRGlyZWN0aW9uKHQpLG49IWMoaSxyKSksdGhpcy5zZXRTZWxlY3RlZFJhbmdlKFwiYmFja3dhcmRcIj09PXQ/clswXTpyWzFdKSxuJiYoZT10aGlzLmdldEF0dGFjaG1lbnRBdFJhbmdlKHIpKT90aGlzLmVkaXRBdHRhY2htZW50KGUpOnZvaWQgMH0sZC5wcm90b3R5cGUuZXhwYW5kU2VsZWN0aW9uSW5EaXJlY3Rpb249ZnVuY3Rpb24odCxlKXt2YXIgbixyO3JldHVybiBuPShudWxsIT1lP2U6e30pLmxlbmd0aCxyPXRoaXMuZ2V0RXhwYW5kZWRSYW5nZUluRGlyZWN0aW9uKHQse2xlbmd0aDpufSksdGhpcy5zZXRTZWxlY3RlZFJhbmdlKHIpfSxkLnByb3RvdHlwZS5leHBhbmRTZWxlY3Rpb25Gb3JFZGl0aW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzQ3VycmVudEF0dHJpYnV0ZShcImhyZWZcIik/dGhpcy5leHBhbmRTZWxlY3Rpb25Bcm91bmRDb21tb25BdHRyaWJ1dGUoXCJocmVmXCIpOnZvaWQgMH0sZC5wcm90b3R5cGUuZXhwYW5kU2VsZWN0aW9uQXJvdW5kQ29tbW9uQXR0cmlidXRlPWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIGU9dGhpcy5nZXRQb3NpdGlvbigpLG49dGhpcy5kb2N1bWVudC5nZXRSYW5nZU9mQ29tbW9uQXR0cmlidXRlQXRQb3NpdGlvbih0LGUpLHRoaXMuc2V0U2VsZWN0ZWRSYW5nZShuKX0sZC5wcm90b3R5cGUuc2VsZWN0aW9uQ29udGFpbnNBdHRhY2htZW50cz1mdW5jdGlvbigpe3ZhciB0O3JldHVybihudWxsIT0odD10aGlzLmdldFNlbGVjdGVkQXR0YWNobWVudHMoKSk/dC5sZW5ndGg6dm9pZCAwKT4wfSxkLnByb3RvdHlwZS5zZWxlY3Rpb25Jc0luQ3Vyc29yVGFyZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdGluZ0F0dGFjaG1lbnR8fHRoaXMucG9zaXRpb25Jc0N1cnNvclRhcmdldCh0aGlzLmdldFBvc2l0aW9uKCkpfSxkLnByb3RvdHlwZS5wb3NpdGlvbklzQ3Vyc29yVGFyZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybihlPXRoaXMuZG9jdW1lbnQubG9jYXRpb25Gcm9tUG9zaXRpb24odCkpP3RoaXMubG9jYXRpb25Jc0N1cnNvclRhcmdldChlKTp2b2lkIDB9LGQucHJvdG90eXBlLnBvc2l0aW9uSXNCbG9ja0JyZWFrPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBudWxsIT0oZT10aGlzLmRvY3VtZW50LmdldFBpZWNlQXRQb3NpdGlvbih0KSk/ZS5pc0Jsb2NrQnJlYWsoKTp2b2lkIDB9LGQucHJvdG90eXBlLmdldFNlbGVjdGVkRG9jdW1lbnQ9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD10aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSk/dGhpcy5kb2N1bWVudC5nZXREb2N1bWVudEF0UmFuZ2UodCk6dm9pZCAwfSxkLnByb3RvdHlwZS5nZXRTZWxlY3RlZEF0dGFjaG1lbnRzPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PXRoaXMuZ2V0U2VsZWN0ZWREb2N1bWVudCgpKT90LmdldEF0dGFjaG1lbnRzKCk6dm9pZCAwfSxkLnByb3RvdHlwZS5nZXRBdHRhY2htZW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF0dGFjaG1lbnRzLnNsaWNlKDApfSxkLnByb3RvdHlwZS5yZWZyZXNoQXR0YWNobWVudHM9ZnVuY3Rpb24oKXt2YXIgdCxlLG4scixpLG8sYSxzLHUsYyxoLHA7Zm9yKG49dGhpcy5kb2N1bWVudC5nZXRBdHRhY2htZW50cygpLHQ9KHM9bCh0aGlzLmF0dGFjaG1lbnRzLG4pKS5hZGRlZCxoPXMucmVtb3ZlZCx0aGlzLmF0dGFjaG1lbnRzPW4scj0wLG89aC5sZW5ndGg7bz5yO3IrKykoZT1oW3JdKS5kZWxlZ2F0ZT1udWxsLG51bGwhPSh1PXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB1LmNvbXBvc2l0aW9uRGlkUmVtb3ZlQXR0YWNobWVudCYmdS5jb21wb3NpdGlvbkRpZFJlbW92ZUF0dGFjaG1lbnQoZSk7Zm9yKHA9W10saT0wLGE9dC5sZW5ndGg7YT5pO2krKykoZT10W2ldKS5kZWxlZ2F0ZT10aGlzLHAucHVzaChudWxsIT0oYz10aGlzLmRlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYy5jb21wb3NpdGlvbkRpZEFkZEF0dGFjaG1lbnQ/Yy5jb21wb3NpdGlvbkRpZEFkZEF0dGFjaG1lbnQoZSk6dm9pZCAwKTtyZXR1cm4gcH0sZC5wcm90b3R5cGUuYXR0YWNobWVudERpZENoYW5nZUF0dHJpYnV0ZXM9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHRoaXMucmV2aXNpb24rKyxudWxsIT0oZT10aGlzLmRlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5jb21wb3NpdGlvbkRpZEVkaXRBdHRhY2htZW50P2UuY29tcG9zaXRpb25EaWRFZGl0QXR0YWNobWVudCh0KTp2b2lkIDB9LGQucHJvdG90eXBlLmF0dGFjaG1lbnREaWRDaGFuZ2VQcmV2aWV3VVJMPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB0aGlzLnJldmlzaW9uKyssbnVsbCE9KGU9dGhpcy5kZWxlZ2F0ZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY29tcG9zaXRpb25EaWRDaGFuZ2VBdHRhY2htZW50UHJldmlld1VSTD9lLmNvbXBvc2l0aW9uRGlkQ2hhbmdlQXR0YWNobWVudFByZXZpZXdVUkwodCk6dm9pZCAwfSxkLnByb3RvdHlwZS5lZGl0QXR0YWNobWVudD1mdW5jdGlvbih0LGUpe3ZhciBuO2lmKHQhPT10aGlzLmVkaXRpbmdBdHRhY2htZW50KXJldHVybiB0aGlzLnN0b3BFZGl0aW5nQXR0YWNobWVudCgpLHRoaXMuZWRpdGluZ0F0dGFjaG1lbnQ9dCxudWxsIT0obj10aGlzLmRlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5jb21wb3NpdGlvbkRpZFN0YXJ0RWRpdGluZ0F0dGFjaG1lbnQ/bi5jb21wb3NpdGlvbkRpZFN0YXJ0RWRpdGluZ0F0dGFjaG1lbnQodGhpcy5lZGl0aW5nQXR0YWNobWVudCxlKTp2b2lkIDB9LGQucHJvdG90eXBlLnN0b3BFZGl0aW5nQXR0YWNobWVudD1mdW5jdGlvbigpe3ZhciB0O2lmKHRoaXMuZWRpdGluZ0F0dGFjaG1lbnQpcmV0dXJuIG51bGwhPSh0PXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNvbXBvc2l0aW9uRGlkU3RvcEVkaXRpbmdBdHRhY2htZW50JiZ0LmNvbXBvc2l0aW9uRGlkU3RvcEVkaXRpbmdBdHRhY2htZW50KHRoaXMuZWRpdGluZ0F0dGFjaG1lbnQpLHRoaXMuZWRpdGluZ0F0dGFjaG1lbnQ9bnVsbH0sZC5wcm90b3R5cGUudXBkYXRlQXR0cmlidXRlc0ZvckF0dGFjaG1lbnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zZXREb2N1bWVudCh0aGlzLmRvY3VtZW50LnVwZGF0ZUF0dHJpYnV0ZXNGb3JBdHRhY2htZW50KHQsZSkpfSxkLnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGVGb3JBdHRhY2htZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc2V0RG9jdW1lbnQodGhpcy5kb2N1bWVudC5yZW1vdmVBdHRyaWJ1dGVGb3JBdHRhY2htZW50KHQsZSkpfSxkLnByb3RvdHlwZS5icmVha0Zvcm1hdHRlZEJsb2NrPWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxvLGE7cmV0dXJuIG49dC5kb2N1bWVudCxlPXQuYmxvY2ssYT1bKG89dC5zdGFydFBvc2l0aW9uKS0xLG9dLGUuZ2V0QmxvY2tCcmVha1Bvc2l0aW9uKCk9PT10LnN0YXJ0TG9jYXRpb24ub2Zmc2V0PyhlLmJyZWFrc09uUmV0dXJuKCkmJlwiXFxuXCI9PT10Lm5leHRDaGFyYWN0ZXI/bys9MTpuPW4ucmVtb3ZlVGV4dEF0UmFuZ2UoYSksYT1bbyxvXSk6XCJcXG5cIj09PXQubmV4dENoYXJhY3Rlcj9cIlxcblwiPT09dC5wcmV2aW91c0NoYXJhY3Rlcj9hPVtvLTEsbysxXTooYT1bbyxvKzFdLG8rPTEpOnQuc3RhcnRMb2NhdGlvbi5vZmZzZXQtMSE9MCYmKG8rPTEpLGk9bmV3IHIuRG9jdW1lbnQoW2UucmVtb3ZlTGFzdEF0dHJpYnV0ZSgpLmNvcHlXaXRob3V0VGV4dCgpXSksdGhpcy5zZXREb2N1bWVudChuLmluc2VydERvY3VtZW50QXRSYW5nZShpLGEpKSx0aGlzLnNldFNlbGVjdGlvbihvKX0sZC5wcm90b3R5cGUuZ2V0UHJldmlvdXNCbG9jaz1mdW5jdGlvbigpe3ZhciB0LGU7cmV0dXJuKGU9dGhpcy5nZXRMb2NhdGlvblJhbmdlKCkpJiYodD1lWzBdLmluZGV4KT4wP3RoaXMuZG9jdW1lbnQuZ2V0QmxvY2tBdEluZGV4KHQtMSk6dm9pZCAwfSxkLnByb3RvdHlwZS5nZXRCbG9jaz1mdW5jdGlvbigpe3ZhciB0O3JldHVybih0PXRoaXMuZ2V0TG9jYXRpb25SYW5nZSgpKT90aGlzLmRvY3VtZW50LmdldEJsb2NrQXRJbmRleCh0WzBdLmluZGV4KTp2b2lkIDB9LGQucHJvdG90eXBlLmdldEF0dGFjaG1lbnRBdFJhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybihlPXRoaXMuZG9jdW1lbnQuZ2V0RG9jdW1lbnRBdFJhbmdlKHQpKS50b1N0cmluZygpPT09ci5PQkpFQ1RfUkVQTEFDRU1FTlRfQ0hBUkFDVEVSK1wiXFxuXCI/ZS5nZXRBdHRhY2htZW50cygpWzBdOnZvaWQgMH0sZC5wcm90b3R5cGUubm90aWZ5RGVsZWdhdGVPZkN1cnJlbnRBdHRyaWJ1dGVzQ2hhbmdlPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNvbXBvc2l0aW9uRGlkQ2hhbmdlQ3VycmVudEF0dHJpYnV0ZXM/dC5jb21wb3NpdGlvbkRpZENoYW5nZUN1cnJlbnRBdHRyaWJ1dGVzKHRoaXMuY3VycmVudEF0dHJpYnV0ZXMpOnZvaWQgMH0sZC5wcm90b3R5cGUubm90aWZ5RGVsZWdhdGVPZkluc2VydGlvbkF0UmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIG51bGwhPShlPXRoaXMuZGVsZWdhdGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmNvbXBvc2l0aW9uRGlkUGVyZm9ybUluc2VydGlvbkF0UmFuZ2U/ZS5jb21wb3NpdGlvbkRpZFBlcmZvcm1JbnNlcnRpb25BdFJhbmdlKHQpOnZvaWQgMH0sZC5wcm90b3R5cGUudHJhbnNsYXRlVVRGMTZQb3NpdGlvbkZyb21PZmZzZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbixyO3JldHVybiBuPShyPXRoaXMuZG9jdW1lbnQudG9VVEYxNlN0cmluZygpKS5vZmZzZXRGcm9tVUNTMk9mZnNldCh0KSxyLm9mZnNldFRvVUNTMk9mZnNldChuK2UpfSxkfShyLkJhc2ljT2JqZWN0KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIGkgaW4gbillLmNhbGwobixpKSYmKHRbaV09bltpXSk7cmV0dXJuIHIucHJvdG90eXBlPW4ucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyByLHQuX19zdXBlcl9fPW4ucHJvdG90eXBlLHR9LGU9e30uaGFzT3duUHJvcGVydHk7ci5VbmRvTWFuYWdlcj1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKHQpe3RoaXMuY29tcG9zaXRpb249dCx0aGlzLnVuZG9FbnRyaWVzPVtdLHRoaXMucmVkb0VudHJpZXM9W119dmFyIHI7cmV0dXJuIHQobixlKSxuLnByb3RvdHlwZS5yZWNvcmRVbmRvRW50cnk9ZnVuY3Rpb24odCxlKXt2YXIgbixpLG8sYSxzO3JldHVybiBpPShhPW51bGwhPWU/ZTp7fSkuY29udGV4dCxuPWEuY29uc29saWRhdGFibGUsbz10aGlzLnVuZG9FbnRyaWVzLnNsaWNlKC0xKVswXSxuJiZyKG8sdCxpKT92b2lkIDA6KHM9dGhpcy5jcmVhdGVFbnRyeSh7ZGVzY3JpcHRpb246dCxjb250ZXh0Oml9KSx0aGlzLnVuZG9FbnRyaWVzLnB1c2gocyksdGhpcy5yZWRvRW50cmllcz1bXSl9LG4ucHJvdG90eXBlLnVuZG89ZnVuY3Rpb24oKXt2YXIgdCxlO3JldHVybihlPXRoaXMudW5kb0VudHJpZXMucG9wKCkpPyh0PXRoaXMuY3JlYXRlRW50cnkoZSksdGhpcy5yZWRvRW50cmllcy5wdXNoKHQpLHRoaXMuY29tcG9zaXRpb24ubG9hZFNuYXBzaG90KGUuc25hcHNob3QpKTp2b2lkIDB9LG4ucHJvdG90eXBlLnJlZG89ZnVuY3Rpb24oKXt2YXIgdCxlO3JldHVybih0PXRoaXMucmVkb0VudHJpZXMucG9wKCkpPyhlPXRoaXMuY3JlYXRlRW50cnkodCksdGhpcy51bmRvRW50cmllcy5wdXNoKGUpLHRoaXMuY29tcG9zaXRpb24ubG9hZFNuYXBzaG90KHQuc25hcHNob3QpKTp2b2lkIDB9LG4ucHJvdG90eXBlLmNhblVuZG89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmRvRW50cmllcy5sZW5ndGg+MH0sbi5wcm90b3R5cGUuY2FuUmVkbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlZG9FbnRyaWVzLmxlbmd0aD4wfSxuLnByb3RvdHlwZS5jcmVhdGVFbnRyeT1mdW5jdGlvbih0KXt2YXIgZSxuLHI7cmV0dXJuIG49KHI9bnVsbCE9dD90Ont9KS5kZXNjcmlwdGlvbixlPXIuY29udGV4dCx7ZGVzY3JpcHRpb246bnVsbCE9bj9uLnRvU3RyaW5nKCk6dm9pZCAwLGNvbnRleHQ6SlNPTi5zdHJpbmdpZnkoZSksc25hcHNob3Q6dGhpcy5jb21wb3NpdGlvbi5nZXRTbmFwc2hvdCgpfX0scj1mdW5jdGlvbih0LGUsbil7cmV0dXJuKG51bGwhPXQ/dC5kZXNjcmlwdGlvbjp2b2lkIDApPT09KG51bGwhPWU/ZS50b1N0cmluZygpOnZvaWQgMCkmJihudWxsIT10P3QuY29udGV4dDp2b2lkIDApPT09SlNPTi5zdHJpbmdpZnkobil9LG59KHIuQmFzaWNPYmplY3QpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQ7ci5hdHRhY2htZW50R2FsbGVyeUZpbHRlcj1mdW5jdGlvbihlKXt2YXIgbjtyZXR1cm4obj1uZXcgdChlKSkucGVyZm9ybSgpLG4uZ2V0U25hcHNob3QoKX0sdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5kb2N1bWVudD10LmRvY3VtZW50LHRoaXMuc2VsZWN0ZWRSYW5nZT10LnNlbGVjdGVkUmFuZ2V9dmFyIGU7cmV0dXJuIGU9XCJhdHRhY2htZW50R2FsbGVyeVwiLFwicHJlc2VudGF0aW9uXCIsXCJnYWxsZXJ5XCIsdC5wcm90b3R5cGUucGVyZm9ybT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbW92ZUJsb2NrQXR0cmlidXRlKCksdGhpcy5hcHBseUJsb2NrQXR0cmlidXRlKCl9LHQucHJvdG90eXBlLmdldFNuYXBzaG90PWZ1bmN0aW9uKCl7cmV0dXJue2RvY3VtZW50OnRoaXMuZG9jdW1lbnQsc2VsZWN0ZWRSYW5nZTp0aGlzLnNlbGVjdGVkUmFuZ2V9fSx0LnByb3RvdHlwZS5yZW1vdmVCbG9ja0F0dHJpYnV0ZT1mdW5jdGlvbigpe3ZhciB0LG4scixpLG87Zm9yKG89W10sdD0wLG49KGk9dGhpcy5maW5kUmFuZ2VzT2ZCbG9ja3MoKSkubGVuZ3RoO24+dDt0Kyspcj1pW3RdLG8ucHVzaCh0aGlzLmRvY3VtZW50PXRoaXMuZG9jdW1lbnQucmVtb3ZlQXR0cmlidXRlQXRSYW5nZShlLHIpKTtyZXR1cm4gb30sdC5wcm90b3R5cGUuYXBwbHlCbG9ja0F0dHJpYnV0ZT1mdW5jdGlvbigpe3ZhciB0LG4scixpLG8sYTtmb3Iocj0wLGE9W10sdD0wLG49KG89dGhpcy5maW5kUmFuZ2VzT2ZQaWVjZXMoKSkubGVuZ3RoO24+dDt0KyspKGk9b1t0XSlbMV0taVswXT4xJiYoaVswXSs9cixpWzFdKz1yLFwiXFxuXCIhPT10aGlzLmRvY3VtZW50LmdldENoYXJhY3RlckF0UG9zaXRpb24oaVsxXSkmJih0aGlzLmRvY3VtZW50PXRoaXMuZG9jdW1lbnQuaW5zZXJ0QmxvY2tCcmVha0F0UmFuZ2UoaVsxXSksaVsxXTx0aGlzLnNlbGVjdGVkUmFuZ2VbMV0mJnRoaXMubW92ZVNlbGVjdGVkUmFuZ2VGb3J3YXJkKCksaVsxXSsrLHIrKyksMCE9PWlbMF0mJlwiXFxuXCIhPT10aGlzLmRvY3VtZW50LmdldENoYXJhY3RlckF0UG9zaXRpb24oaVswXS0xKSYmKHRoaXMuZG9jdW1lbnQ9dGhpcy5kb2N1bWVudC5pbnNlcnRCbG9ja0JyZWFrQXRSYW5nZShpWzBdKSxpWzBdPHRoaXMuc2VsZWN0ZWRSYW5nZVswXSYmdGhpcy5tb3ZlU2VsZWN0ZWRSYW5nZUZvcndhcmQoKSxpWzBdKysscisrKSxhLnB1c2godGhpcy5kb2N1bWVudD10aGlzLmRvY3VtZW50LmFwcGx5QmxvY2tBdHRyaWJ1dGVBdFJhbmdlKGUsITAsaSkpKTtyZXR1cm4gYX0sdC5wcm90b3R5cGUuZmluZFJhbmdlc09mQmxvY2tzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jdW1lbnQuZmluZFJhbmdlc0ZvckJsb2NrQXR0cmlidXRlKGUpfSx0LnByb3RvdHlwZS5maW5kUmFuZ2VzT2ZQaWVjZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb2N1bWVudC5maW5kUmFuZ2VzRm9yVGV4dEF0dHJpYnV0ZShcInByZXNlbnRhdGlvblwiLHt3aXRoVmFsdWU6XCJnYWxsZXJ5XCJ9KX0sdC5wcm90b3R5cGUubW92ZVNlbGVjdGVkUmFuZ2VGb3J3YXJkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0ZWRSYW5nZVswXSs9MSx0aGlzLnNlbGVjdGVkUmFuZ2VbMV0rPTF9LHR9KCl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXtyLkVkaXRvcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxuLGkpe3RoaXMuY29tcG9zaXRpb249dCx0aGlzLnNlbGVjdGlvbk1hbmFnZXI9bix0aGlzLmVsZW1lbnQ9aSx0aGlzLmluc2VydEZpbGVzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX0odGhpcy5pbnNlcnRGaWxlcyx0aGlzKSx0aGlzLnVuZG9NYW5hZ2VyPW5ldyByLlVuZG9NYW5hZ2VyKHRoaXMuY29tcG9zaXRpb24pLHRoaXMuZmlsdGVycz1lLnNsaWNlKDApfXZhciBlO3JldHVybiBlPVtyLmF0dGFjaG1lbnRHYWxsZXJ5RmlsdGVyXSx0LnByb3RvdHlwZS5sb2FkRG9jdW1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubG9hZFNuYXBzaG90KHtkb2N1bWVudDp0LHNlbGVjdGVkUmFuZ2U6WzAsMF19KX0sdC5wcm90b3R5cGUubG9hZEhUTUw9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQmJih0PVwiXCIpLHRoaXMubG9hZERvY3VtZW50KHIuRG9jdW1lbnQuZnJvbUhUTUwodCx7cmVmZXJlbmNlRWxlbWVudDp0aGlzLmVsZW1lbnR9KSl9LHQucHJvdG90eXBlLmxvYWRKU09OPWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIGU9dC5kb2N1bWVudCxuPXQuc2VsZWN0ZWRSYW5nZSxlPXIuRG9jdW1lbnQuZnJvbUpTT04oZSksdGhpcy5sb2FkU25hcHNob3Qoe2RvY3VtZW50OmUsc2VsZWN0ZWRSYW5nZTpufSl9LHQucHJvdG90eXBlLmxvYWRTbmFwc2hvdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy51bmRvTWFuYWdlcj1uZXcgci5VbmRvTWFuYWdlcih0aGlzLmNvbXBvc2l0aW9uKSx0aGlzLmNvbXBvc2l0aW9uLmxvYWRTbmFwc2hvdCh0KX0sdC5wcm90b3R5cGUuZ2V0RG9jdW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5kb2N1bWVudH0sdC5wcm90b3R5cGUuZ2V0U2VsZWN0ZWREb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBvc2l0aW9uLmdldFNlbGVjdGVkRG9jdW1lbnQoKX0sdC5wcm90b3R5cGUuZ2V0U25hcHNob3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5nZXRTbmFwc2hvdCgpfSx0LnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTbmFwc2hvdCgpfSx0LnByb3RvdHlwZS5kZWxldGVJbkRpcmVjdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5kZWxldGVJbkRpcmVjdGlvbih0KX0sdC5wcm90b3R5cGUuaW5zZXJ0QXR0YWNobWVudD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5pbnNlcnRBdHRhY2htZW50KHQpfSx0LnByb3RvdHlwZS5pbnNlcnRBdHRhY2htZW50cz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5pbnNlcnRBdHRhY2htZW50cyh0KX0sdC5wcm90b3R5cGUuaW5zZXJ0RG9jdW1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcG9zaXRpb24uaW5zZXJ0RG9jdW1lbnQodCl9LHQucHJvdG90eXBlLmluc2VydEZpbGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcG9zaXRpb24uaW5zZXJ0RmlsZSh0KX0sdC5wcm90b3R5cGUuaW5zZXJ0RmlsZXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcG9zaXRpb24uaW5zZXJ0RmlsZXModCl9LHQucHJvdG90eXBlLmluc2VydEhUTUw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcG9zaXRpb24uaW5zZXJ0SFRNTCh0KX0sdC5wcm90b3R5cGUuaW5zZXJ0U3RyaW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbXBvc2l0aW9uLmluc2VydFN0cmluZyh0KX0sdC5wcm90b3R5cGUuaW5zZXJ0VGV4dD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5pbnNlcnRUZXh0KHQpfSx0LnByb3RvdHlwZS5pbnNlcnRMaW5lQnJlYWs9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5pbnNlcnRMaW5lQnJlYWsoKX0sdC5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRSYW5nZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBvc2l0aW9uLmdldFNlbGVjdGVkUmFuZ2UoKX0sdC5wcm90b3R5cGUuZ2V0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5nZXRQb3NpdGlvbigpfSx0LnByb3RvdHlwZS5nZXRDbGllbnRSZWN0QXRQb3NpdGlvbj1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT10aGlzLmdldERvY3VtZW50KCkubG9jYXRpb25SYW5nZUZyb21SYW5nZShbdCx0KzFdKSx0aGlzLnNlbGVjdGlvbk1hbmFnZXIuZ2V0Q2xpZW50UmVjdEF0TG9jYXRpb25SYW5nZShlKX0sdC5wcm90b3R5cGUuZXhwYW5kU2VsZWN0aW9uSW5EaXJlY3Rpb249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcG9zaXRpb24uZXhwYW5kU2VsZWN0aW9uSW5EaXJlY3Rpb24odCl9LHQucHJvdG90eXBlLm1vdmVDdXJzb3JJbkRpcmVjdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5tb3ZlQ3Vyc29ySW5EaXJlY3Rpb24odCl9LHQucHJvdG90eXBlLnNldFNlbGVjdGVkUmFuZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcG9zaXRpb24uc2V0U2VsZWN0ZWRSYW5nZSh0KX0sdC5wcm90b3R5cGUuYWN0aXZhdGVBdHRyaWJ1dGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbD09ZSYmKGU9ITApLHRoaXMuY29tcG9zaXRpb24uc2V0Q3VycmVudEF0dHJpYnV0ZSh0LGUpfSx0LnByb3RvdHlwZS5hdHRyaWJ1dGVJc0FjdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5oYXNDdXJyZW50QXR0cmlidXRlKHQpfSx0LnByb3RvdHlwZS5jYW5BY3RpdmF0ZUF0dHJpYnV0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5jYW5TZXRDdXJyZW50QXR0cmlidXRlKHQpfSx0LnByb3RvdHlwZS5kZWFjdGl2YXRlQXR0cmlidXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbXBvc2l0aW9uLnJlbW92ZUN1cnJlbnRBdHRyaWJ1dGUodCl9LHQucHJvdG90eXBlLmNhbkRlY3JlYXNlTmVzdGluZ0xldmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcG9zaXRpb24uY2FuRGVjcmVhc2VOZXN0aW5nTGV2ZWwoKX0sdC5wcm90b3R5cGUuY2FuSW5jcmVhc2VOZXN0aW5nTGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5jYW5JbmNyZWFzZU5lc3RpbmdMZXZlbCgpfSx0LnByb3RvdHlwZS5kZWNyZWFzZU5lc3RpbmdMZXZlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbkRlY3JlYXNlTmVzdGluZ0xldmVsKCk/dGhpcy5jb21wb3NpdGlvbi5kZWNyZWFzZU5lc3RpbmdMZXZlbCgpOnZvaWQgMH0sdC5wcm90b3R5cGUuaW5jcmVhc2VOZXN0aW5nTGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW5JbmNyZWFzZU5lc3RpbmdMZXZlbCgpP3RoaXMuY29tcG9zaXRpb24uaW5jcmVhc2VOZXN0aW5nTGV2ZWwoKTp2b2lkIDB9LHQucHJvdG90eXBlLmNhblJlZG89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmRvTWFuYWdlci5jYW5SZWRvKCl9LHQucHJvdG90eXBlLmNhblVuZG89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmRvTWFuYWdlci5jYW5VbmRvKCl9LHQucHJvdG90eXBlLnJlY29yZFVuZG9FbnRyeT1mdW5jdGlvbih0LGUpe3ZhciBuLHIsaTtyZXR1cm4gcj0oaT1udWxsIT1lP2U6e30pLmNvbnRleHQsbj1pLmNvbnNvbGlkYXRhYmxlLHRoaXMudW5kb01hbmFnZXIucmVjb3JkVW5kb0VudHJ5KHQse2NvbnRleHQ6cixjb25zb2xpZGF0YWJsZTpufSl9LHQucHJvdG90eXBlLnJlZG89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW5SZWRvKCk/dGhpcy51bmRvTWFuYWdlci5yZWRvKCk6dm9pZCAwfSx0LnByb3RvdHlwZS51bmRvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FuVW5kbygpP3RoaXMudW5kb01hbmFnZXIudW5kbygpOnZvaWQgMH0sdH0oKX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIGkgaW4gbillLmNhbGwobixpKSYmKHRbaV09bltpXSk7cmV0dXJuIHIucHJvdG90eXBlPW4ucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyByLHQuX19zdXBlcl9fPW4ucHJvdG90eXBlLHR9LGU9e30uaGFzT3duUHJvcGVydHk7ci5NYW5hZ2VkQXR0YWNobWVudD1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKHQsZSl7dmFyIG47dGhpcy5hdHRhY2htZW50TWFuYWdlcj10LHRoaXMuYXR0YWNobWVudD1lLG49dGhpcy5hdHRhY2htZW50LHRoaXMuaWQ9bi5pZCx0aGlzLmZpbGU9bi5maWxlfXJldHVybiB0KG4sZSksbi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0YWNobWVudE1hbmFnZXIucmVxdWVzdFJlbW92YWxPZkF0dGFjaG1lbnQodGhpcy5hdHRhY2htZW50KX0sbi5wcm94eU1ldGhvZChcImF0dGFjaG1lbnQuZ2V0QXR0cmlidXRlXCIpLG4ucHJveHlNZXRob2QoXCJhdHRhY2htZW50Lmhhc0F0dHJpYnV0ZVwiKSxuLnByb3h5TWV0aG9kKFwiYXR0YWNobWVudC5zZXRBdHRyaWJ1dGVcIiksbi5wcm94eU1ldGhvZChcImF0dGFjaG1lbnQuZ2V0QXR0cmlidXRlc1wiKSxuLnByb3h5TWV0aG9kKFwiYXR0YWNobWVudC5zZXRBdHRyaWJ1dGVzXCIpLG4ucHJveHlNZXRob2QoXCJhdHRhY2htZW50LmlzUGVuZGluZ1wiKSxuLnByb3h5TWV0aG9kKFwiYXR0YWNobWVudC5pc1ByZXZpZXdhYmxlXCIpLG4ucHJveHlNZXRob2QoXCJhdHRhY2htZW50LmdldFVSTFwiKSxuLnByb3h5TWV0aG9kKFwiYXR0YWNobWVudC5nZXRIcmVmXCIpLG4ucHJveHlNZXRob2QoXCJhdHRhY2htZW50LmdldEZpbGVuYW1lXCIpLG4ucHJveHlNZXRob2QoXCJhdHRhY2htZW50LmdldEZpbGVzaXplXCIpLG4ucHJveHlNZXRob2QoXCJhdHRhY2htZW50LmdldEZvcm1hdHRlZEZpbGVzaXplXCIpLG4ucHJveHlNZXRob2QoXCJhdHRhY2htZW50LmdldEV4dGVuc2lvblwiKSxuLnByb3h5TWV0aG9kKFwiYXR0YWNobWVudC5nZXRDb250ZW50VHlwZVwiKSxuLnByb3h5TWV0aG9kKFwiYXR0YWNobWVudC5nZXRGaWxlXCIpLG4ucHJveHlNZXRob2QoXCJhdHRhY2htZW50LnNldEZpbGVcIiksbi5wcm94eU1ldGhvZChcImF0dGFjaG1lbnQucmVsZWFzZUZpbGVcIiksbi5wcm94eU1ldGhvZChcImF0dGFjaG1lbnQuZ2V0VXBsb2FkUHJvZ3Jlc3NcIiksbi5wcm94eU1ldGhvZChcImF0dGFjaG1lbnQuc2V0VXBsb2FkUHJvZ3Jlc3NcIiksbn0oci5CYXNpY09iamVjdCl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbih0LG4pe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciBpIGluIG4pZS5jYWxsKG4saSkmJih0W2ldPW5baV0pO3JldHVybiByLnByb3RvdHlwZT1uLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgcix0Ll9fc3VwZXJfXz1uLnByb3RvdHlwZSx0fSxlPXt9Lmhhc093blByb3BlcnR5O3IuQXR0YWNobWVudE1hbmFnZXI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbih0KXt2YXIgZSxuLHI7Zm9yKG51bGw9PXQmJih0PVtdKSx0aGlzLm1hbmFnZWRBdHRhY2htZW50cz17fSxuPTAscj10Lmxlbmd0aDtyPm47bisrKWU9dFtuXSx0aGlzLm1hbmFnZUF0dGFjaG1lbnQoZSl9cmV0dXJuIHQobixlKSxuLnByb3RvdHlwZS5nZXRBdHRhY2htZW50cz1mdW5jdGlvbigpe3ZhciB0LGUsbixyO2ZvcihlIGluIHI9W10sbj10aGlzLm1hbmFnZWRBdHRhY2htZW50cyl0PW5bZV0sci5wdXNoKHQpO3JldHVybiByfSxuLnByb3RvdHlwZS5tYW5hZ2VBdHRhY2htZW50PWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIG51bGwhPShlPXRoaXMubWFuYWdlZEF0dGFjaG1lbnRzKVtuPXQuaWRdP2Vbbl06ZVtuXT1uZXcgci5NYW5hZ2VkQXR0YWNobWVudCh0aGlzLHQpfSxuLnByb3RvdHlwZS5hdHRhY2htZW50SXNNYW5hZ2VkPWZ1bmN0aW9uKHQpe3JldHVybiB0LmlkIGluIHRoaXMubWFuYWdlZEF0dGFjaG1lbnRzfSxuLnByb3RvdHlwZS5yZXF1ZXN0UmVtb3ZhbE9mQXR0YWNobWVudD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdGhpcy5hdHRhY2htZW50SXNNYW5hZ2VkKHQpJiZudWxsIT0oZT10aGlzLmRlbGVnYXRlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5hdHRhY2htZW50TWFuYWdlckRpZFJlcXVlc3RSZW1vdmFsT2ZBdHRhY2htZW50P2UuYXR0YWNobWVudE1hbmFnZXJEaWRSZXF1ZXN0UmVtb3ZhbE9mQXR0YWNobWVudCh0KTp2b2lkIDB9LG4ucHJvdG90eXBlLnVubWFuYWdlQXR0YWNobWVudD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT10aGlzLm1hbmFnZWRBdHRhY2htZW50c1t0LmlkXSxkZWxldGUgdGhpcy5tYW5hZ2VkQXR0YWNobWVudHNbdC5pZF0sZX0sbn0oci5CYXNpY09iamVjdCl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxvLGEscyx1LGMsbCxoO3Q9ci5lbGVtZW50Q29udGFpbnNOb2RlLGU9ci5maW5kQ2hpbGRJbmRleE9mTm9kZSxvPXIubm9kZUlzQmxvY2tTdGFydCxhPXIubm9kZUlzQmxvY2tTdGFydENvbW1lbnQsaT1yLm5vZGVJc0Jsb2NrQ29udGFpbmVyLHM9ci5ub2RlSXNDdXJzb3JUYXJnZXQsdT1yLm5vZGVJc0VtcHR5VGV4dE5vZGUsYz1yLm5vZGVJc1RleHROb2RlLG49ci5ub2RlSXNBdHRhY2htZW50RWxlbWVudCxsPXIudGFnTmFtZSxoPXIud2Fsa1RyZWUsci5Mb2NhdGlvbk1hcHBlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHIodCl7dGhpcy5lbGVtZW50PXR9dmFyIHAsZCxmLGc7cmV0dXJuIHIucHJvdG90eXBlLmZpbmRMb2NhdGlvbkZyb21Db250YWluZXJBbmRPZmZzZXQ9ZnVuY3Rpb24obixyLGkpe3ZhciBhLHUsbCxwLGcsbSx2O2ZvcihtPShudWxsIT1pP2k6e3N0cmljdDohMH0pLnN0cmljdCx1PTAsbD0hMSxwPXtpbmRleDowLG9mZnNldDowfSwoYT10aGlzLmZpbmRBdHRhY2htZW50RWxlbWVudFBhcmVudEZvck5vZGUobikpJiYobj1hLnBhcmVudE5vZGUscj1lKGEpKSx2PWgodGhpcy5lbGVtZW50LHt1c2luZ0ZpbHRlcjpmfSk7di5uZXh0Tm9kZSgpOyl7aWYoKGc9di5jdXJyZW50Tm9kZSk9PT1uJiZjKG4pKXtzKGcpfHwocC5vZmZzZXQrPXIpO2JyZWFrfWlmKGcucGFyZW50Tm9kZT09PW4pe2lmKHUrKz09PXIpYnJlYWt9ZWxzZSBpZighdChuLGcpJiZ1PjApYnJlYWs7byhnLHtzdHJpY3Q6bX0pPyhsJiZwLmluZGV4KysscC5vZmZzZXQ9MCxsPSEwKTpwLm9mZnNldCs9ZChnKX1yZXR1cm4gcH0sci5wcm90b3R5cGUuZmluZENvbnRhaW5lckFuZE9mZnNldEZyb21Mb2NhdGlvbj1mdW5jdGlvbih0KXt2YXIgbixyLGEsdSxsO2lmKDA9PT10LmluZGV4JiYwPT09dC5vZmZzZXQpe2ZvcihuPXRoaXMuZWxlbWVudCx1PTA7bi5maXJzdENoaWxkOylpZihuPW4uZmlyc3RDaGlsZCxpKG4pKXt1PTE7YnJlYWt9cmV0dXJuW24sdV19aWYocj0obD10aGlzLmZpbmROb2RlQW5kT2Zmc2V0RnJvbUxvY2F0aW9uKHQpKVswXSxhPWxbMV0scil7aWYoYyhyKSkwPT09ZChyKT8obj1yLnBhcmVudE5vZGUucGFyZW50Tm9kZSx1PWUoci5wYXJlbnROb2RlKSxzKHIse25hbWU6XCJyaWdodFwifSkmJnUrKyk6KG49cix1PXQub2Zmc2V0LWEpO2Vsc2V7aWYobj1yLnBhcmVudE5vZGUsIW8oci5wcmV2aW91c1NpYmxpbmcpJiYhaShuKSlmb3IoO3I9PT1uLmxhc3RDaGlsZCYmKHI9bixuPW4ucGFyZW50Tm9kZSwhaShuKSk7KTt1PWUociksMCE9PXQub2Zmc2V0JiZ1Kyt9cmV0dXJuW24sdV19fSxyLnByb3RvdHlwZS5maW5kTm9kZUFuZE9mZnNldEZyb21Mb2NhdGlvbj1mdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEsdSxsO2Zvcih1PTAsbj0wLHI9KGw9dGhpcy5nZXRTaWduaWZpY2FudE5vZGVzRm9ySW5kZXgodC5pbmRleCkpLmxlbmd0aDtyPm47bisrKXtpZihlPWxbbl0saT1kKGUpLHQub2Zmc2V0PD11K2kpaWYoYyhlKSl7aWYobz1lLGE9dSx0Lm9mZnNldD09PWEmJnMobykpYnJlYWt9ZWxzZSBvfHwobz1lLGE9dSk7aWYoKHUrPWkpPnQub2Zmc2V0KWJyZWFrfXJldHVybltvLGFdfSxyLnByb3RvdHlwZS5maW5kQXR0YWNobWVudEVsZW1lbnRQYXJlbnRGb3JOb2RlPWZ1bmN0aW9uKHQpe2Zvcig7dCYmdCE9PXRoaXMuZWxlbWVudDspe2lmKG4odCkpcmV0dXJuIHQ7dD10LnBhcmVudE5vZGV9fSxyLnByb3RvdHlwZS5nZXRTaWduaWZpY2FudE5vZGVzRm9ySW5kZXg9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbztmb3Iocj1bXSxvPWgodGhpcy5lbGVtZW50LHt1c2luZ0ZpbHRlcjpwfSksaT0hMTtvLm5leHROb2RlKCk7KWlmKG49by5jdXJyZW50Tm9kZSxhKG4pKXtpZihudWxsIT1lP2UrKzplPTAsZT09PXQpaT0hMDtlbHNlIGlmKGkpYnJlYWt9ZWxzZSBpJiZyLnB1c2gobik7cmV0dXJuIHJ9LGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQubm9kZVR5cGU9PT1Ob2RlLlRFWFRfTk9ERT9zKHQpPzA6dC50ZXh0Q29udGVudC5sZW5ndGg6XCJiclwiPT09bCh0KXx8bih0KT8xOjB9LHA9ZnVuY3Rpb24odCl7cmV0dXJuIGcodCk9PT1Ob2RlRmlsdGVyLkZJTFRFUl9BQ0NFUFQ/Zih0KTpOb2RlRmlsdGVyLkZJTFRFUl9SRUpFQ1R9LGc9ZnVuY3Rpb24odCl7cmV0dXJuIHUodCk/Tm9kZUZpbHRlci5GSUxURVJfUkVKRUNUOk5vZGVGaWx0ZXIuRklMVEVSX0FDQ0VQVH0sZj1mdW5jdGlvbih0KXtyZXR1cm4gbih0LnBhcmVudE5vZGUpP05vZGVGaWx0ZXIuRklMVEVSX1JFSkVDVDpOb2RlRmlsdGVyLkZJTFRFUl9BQ0NFUFR9LHJ9KCl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdCxlLG49W10uc2xpY2U7dD1yLmdldERPTVJhbmdlLGU9ci5zZXRET01SYW5nZSxyLlBvaW50TWFwcGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcigpe31yZXR1cm4gci5wcm90b3R5cGUuY3JlYXRlRE9NUmFuZ2VGcm9tUG9pbnQ9ZnVuY3Rpb24obil7dmFyIHIsaSxvLGEscyx1LGMsbDtpZihjPW4ueCxsPW4ueSxkb2N1bWVudC5jYXJldFBvc2l0aW9uRnJvbVBvaW50KXJldHVybiBvPShzPWRvY3VtZW50LmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQoYyxsKSkub2Zmc2V0Tm9kZSxpPXMub2Zmc2V0LChyPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCkpLnNldFN0YXJ0KG8saSkscjtpZihkb2N1bWVudC5jYXJldFJhbmdlRnJvbVBvaW50KXJldHVybiBkb2N1bWVudC5jYXJldFJhbmdlRnJvbVBvaW50KGMsbCk7aWYoZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2Upe2E9dCgpO3RyeXsodT1kb2N1bWVudC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpKS5tb3ZlVG9Qb2ludChjLGwpLHUuc2VsZWN0KCl9Y2F0Y2godCl7fXJldHVybiByPXQoKSxlKGEpLHJ9fSxyLnByb3RvdHlwZS5nZXRDbGllbnRSZWN0c0ZvckRPTVJhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVyblsoZT1uLmNhbGwodC5nZXRDbGllbnRSZWN0cygpKSlbMF0sZVtlLmxlbmd0aC0xXV19LHJ9KCl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgdCxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX0sbj1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpaS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiBuLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbix0Ll9fc3VwZXJfXz1lLnByb3RvdHlwZSx0fSxpPXt9Lmhhc093blByb3BlcnR5LG89W10uaW5kZXhPZnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLmxlbmd0aDtuPmU7ZSsrKWlmKGUgaW4gdGhpcyYmdGhpc1tlXT09PXQpcmV0dXJuIGU7cmV0dXJuLTF9O3Q9ci5nZXRET01SYW5nZSxyLlNlbGVjdGlvbkNoYW5nZU9ic2VydmVyPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIGkoKXt0aGlzLnJ1bj1lKHRoaXMucnVuLHRoaXMpLHRoaXMudXBkYXRlPWUodGhpcy51cGRhdGUsdGhpcyksdGhpcy5zZWxlY3Rpb25NYW5hZ2Vycz1bXX12YXIgYTtyZXR1cm4gbihpLHIpLGkucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnRlZD92b2lkIDA6KHRoaXMuc3RhcnRlZD0hMCxcIm9uc2VsZWN0aW9uY2hhbmdlXCJpbiBkb2N1bWVudD9kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2VsZWN0aW9uY2hhbmdlXCIsdGhpcy51cGRhdGUsITApOnRoaXMucnVuKCkpfSxpLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnRlZD8odGhpcy5zdGFydGVkPSExLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzZWxlY3Rpb25jaGFuZ2VcIix0aGlzLnVwZGF0ZSwhMCkpOnZvaWQgMH0saS5wcm90b3R5cGUucmVnaXN0ZXJTZWxlY3Rpb25NYW5hZ2VyPWZ1bmN0aW9uKHQpe3JldHVybiBvLmNhbGwodGhpcy5zZWxlY3Rpb25NYW5hZ2Vycyx0KTwwPyh0aGlzLnNlbGVjdGlvbk1hbmFnZXJzLnB1c2godCksdGhpcy5zdGFydCgpKTp2b2lkIDB9LGkucHJvdG90eXBlLnVucmVnaXN0ZXJTZWxlY3Rpb25NYW5hZ2VyPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB0aGlzLnNlbGVjdGlvbk1hbmFnZXJzPWZ1bmN0aW9uKCl7dmFyIG4scixpLG87Zm9yKG89W10sbj0wLHI9KGk9dGhpcy5zZWxlY3Rpb25NYW5hZ2VycykubGVuZ3RoO3I+bjtuKyspKGU9aVtuXSkhPT10JiZvLnB1c2goZSk7cmV0dXJuIG99LmNhbGwodGhpcyksMD09PXRoaXMuc2VsZWN0aW9uTWFuYWdlcnMubGVuZ3RoP3RoaXMuc3RvcCgpOnZvaWQgMH0saS5wcm90b3R5cGUubm90aWZ5U2VsZWN0aW9uTWFuYWdlcnNPZlNlbGVjdGlvbkNoYW5nZT1mdW5jdGlvbigpe3ZhciB0LGUsbixyLGk7Zm9yKHI9W10sdD0wLGU9KG49dGhpcy5zZWxlY3Rpb25NYW5hZ2VycykubGVuZ3RoO2U+dDt0KyspaT1uW3RdLHIucHVzaChpLnNlbGVjdGlvbkRpZENoYW5nZSgpKTtyZXR1cm4gcn0saS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGU9dCgpLGEoZSx0aGlzLmRvbVJhbmdlKT92b2lkIDA6KHRoaXMuZG9tUmFuZ2U9ZSx0aGlzLm5vdGlmeVNlbGVjdGlvbk1hbmFnZXJzT2ZTZWxlY3Rpb25DaGFuZ2UoKSl9LGkucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tUmFuZ2U9bnVsbCx0aGlzLnVwZGF0ZSgpfSxpLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFydGVkPyh0aGlzLnVwZGF0ZSgpLHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnJ1bikpOnZvaWQgMH0sYT1mdW5jdGlvbih0LGUpe3JldHVybihudWxsIT10P3Quc3RhcnRDb250YWluZXI6dm9pZCAwKT09PShudWxsIT1lP2Uuc3RhcnRDb250YWluZXI6dm9pZCAwKSYmKG51bGwhPXQ/dC5zdGFydE9mZnNldDp2b2lkIDApPT09KG51bGwhPWU/ZS5zdGFydE9mZnNldDp2b2lkIDApJiYobnVsbCE9dD90LmVuZENvbnRhaW5lcjp2b2lkIDApPT09KG51bGwhPWU/ZS5lbmRDb250YWluZXI6dm9pZCAwKSYmKG51bGwhPXQ/dC5lbmRPZmZzZXQ6dm9pZCAwKT09PShudWxsIT1lP2UuZW5kT2Zmc2V0OnZvaWQgMCl9LGl9KHIuQmFzaWNPYmplY3QpLG51bGw9PXIuc2VsZWN0aW9uQ2hhbmdlT2JzZXJ2ZXImJihyLnNlbGVjdGlvbkNoYW5nZU9ic2VydmVyPW5ldyByLlNlbGVjdGlvbkNoYW5nZU9ic2VydmVyKX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciB0LGUsbixpLG8sYSxzLHUsYyxsLGg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLGFyZ3VtZW50cyl9fSxwPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSlkLmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIG4ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQuX19zdXBlcl9fPWUucHJvdG90eXBlLHR9LGQ9e30uaGFzT3duUHJvcGVydHk7bj1yLmdldERPTVNlbGVjdGlvbixlPXIuZ2V0RE9NUmFuZ2UsbD1yLnNldERPTVJhbmdlLHQ9ci5lbGVtZW50Q29udGFpbnNOb2RlLGE9ci5ub2RlSXNDdXJzb3JUYXJnZXQsbz1yLmlubmVyRWxlbWVudElzQWN0aXZlLGk9ci5oYW5kbGVFdmVudCxzPXIubm9ybWFsaXplUmFuZ2UsdT1yLnJhbmdlSXNDb2xsYXBzZWQsYz1yLnJhbmdlc0FyZUVxdWFsLHIuU2VsZWN0aW9uTWFuYWdlcj1mdW5jdGlvbihkKXtmdW5jdGlvbiBmKHQpe3RoaXMuZWxlbWVudD10LHRoaXMuc2VsZWN0aW9uRGlkQ2hhbmdlPWgodGhpcy5zZWxlY3Rpb25EaWRDaGFuZ2UsdGhpcyksdGhpcy5kaWRNb3VzZURvd249aCh0aGlzLmRpZE1vdXNlRG93bix0aGlzKSx0aGlzLmxvY2F0aW9uTWFwcGVyPW5ldyByLkxvY2F0aW9uTWFwcGVyKHRoaXMuZWxlbWVudCksdGhpcy5wb2ludE1hcHBlcj1uZXcgci5Qb2ludE1hcHBlcix0aGlzLmxvY2tDb3VudD0wLGkoXCJtb3VzZWRvd25cIix7b25FbGVtZW50OnRoaXMuZWxlbWVudCx3aXRoQ2FsbGJhY2s6dGhpcy5kaWRNb3VzZURvd259KX1yZXR1cm4gcChmLGQpLGYucHJvdG90eXBlLmdldExvY2F0aW9uUmFuZ2U9ZnVuY3Rpb24odCl7dmFyIG47cmV0dXJuIG51bGw9PXQmJih0PXt9KSwhMT09PXQuc3RyaWN0P3RoaXMuY3JlYXRlTG9jYXRpb25SYW5nZUZyb21ET01SYW5nZShlKCkse3N0cmljdDohMX0pOnQuaWdub3JlTG9jaz90aGlzLmN1cnJlbnRMb2NhdGlvblJhbmdlOm51bGwhPShuPXRoaXMubG9ja2VkTG9jYXRpb25SYW5nZSk/bjp0aGlzLmN1cnJlbnRMb2NhdGlvblJhbmdlfSxmLnByb3RvdHlwZS5zZXRMb2NhdGlvblJhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlO2lmKCF0aGlzLmxvY2tlZExvY2F0aW9uUmFuZ2UpcmV0dXJuIHQ9cyh0KSwoZT10aGlzLmNyZWF0ZURPTVJhbmdlRnJvbUxvY2F0aW9uUmFuZ2UodCkpPyhsKGUpLHRoaXMudXBkYXRlQ3VycmVudExvY2F0aW9uUmFuZ2UodCkpOnZvaWQgMH0sZi5wcm90b3R5cGUuc2V0TG9jYXRpb25SYW5nZUZyb21Qb2ludFJhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIHQ9cyh0KSxuPXRoaXMuZ2V0TG9jYXRpb25BdFBvaW50KHRbMF0pLGU9dGhpcy5nZXRMb2NhdGlvbkF0UG9pbnQodFsxXSksdGhpcy5zZXRMb2NhdGlvblJhbmdlKFtuLGVdKX0sZi5wcm90b3R5cGUuZ2V0Q2xpZW50UmVjdEF0TG9jYXRpb25SYW5nZT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4oZT10aGlzLmNyZWF0ZURPTVJhbmdlRnJvbUxvY2F0aW9uUmFuZ2UodCkpP3RoaXMuZ2V0Q2xpZW50UmVjdHNGb3JET01SYW5nZShlKVsxXTp2b2lkIDB9LGYucHJvdG90eXBlLmxvY2F0aW9uSXNDdXJzb3JUYXJnZXQ9ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gZT0obj10aGlzLmZpbmROb2RlQW5kT2Zmc2V0RnJvbUxvY2F0aW9uKHQpKVswXSxuWzFdLGEoZSl9LGYucHJvdG90eXBlLmxvY2s9ZnVuY3Rpb24oKXtyZXR1cm4gMD09dGhpcy5sb2NrQ291bnQrKz8odGhpcy51cGRhdGVDdXJyZW50TG9jYXRpb25SYW5nZSgpLHRoaXMubG9ja2VkTG9jYXRpb25SYW5nZT10aGlzLmdldExvY2F0aW9uUmFuZ2UoKSk6dm9pZCAwfSxmLnByb3RvdHlwZS51bmxvY2s9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gMD09LS10aGlzLmxvY2tDb3VudCYmKHQ9dGhpcy5sb2NrZWRMb2NhdGlvblJhbmdlLHRoaXMubG9ja2VkTG9jYXRpb25SYW5nZT1udWxsLG51bGwhPXQpP3RoaXMuc2V0TG9jYXRpb25SYW5nZSh0KTp2b2lkIDB9LGYucHJvdG90eXBlLmNsZWFyU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PW4oKSk/dC5yZW1vdmVBbGxSYW5nZXMoKTp2b2lkIDB9LGYucHJvdG90eXBlLnNlbGVjdGlvbklzQ29sbGFwc2VkPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuITA9PT0obnVsbCE9KHQ9ZSgpKT90LmNvbGxhcHNlZDp2b2lkIDApfSxmLnByb3RvdHlwZS5zZWxlY3Rpb25Jc0V4cGFuZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuc2VsZWN0aW9uSXNDb2xsYXBzZWQoKX0sZi5wcm90b3R5cGUuY3JlYXRlTG9jYXRpb25SYW5nZUZyb21ET01SYW5nZT1mdW5jdGlvbih0LGUpe3ZhciBuLHI7aWYobnVsbCE9dCYmdGhpcy5kb21SYW5nZVdpdGhpbkVsZW1lbnQodCkmJihyPXRoaXMuZmluZExvY2F0aW9uRnJvbUNvbnRhaW5lckFuZE9mZnNldCh0LnN0YXJ0Q29udGFpbmVyLHQuc3RhcnRPZmZzZXQsZSkpKXJldHVybiB0LmNvbGxhcHNlZHx8KG49dGhpcy5maW5kTG9jYXRpb25Gcm9tQ29udGFpbmVyQW5kT2Zmc2V0KHQuZW5kQ29udGFpbmVyLHQuZW5kT2Zmc2V0LGUpKSxzKFtyLG5dKX0sZi5wcm94eU1ldGhvZChcImxvY2F0aW9uTWFwcGVyLmZpbmRMb2NhdGlvbkZyb21Db250YWluZXJBbmRPZmZzZXRcIiksZi5wcm94eU1ldGhvZChcImxvY2F0aW9uTWFwcGVyLmZpbmRDb250YWluZXJBbmRPZmZzZXRGcm9tTG9jYXRpb25cIiksZi5wcm94eU1ldGhvZChcImxvY2F0aW9uTWFwcGVyLmZpbmROb2RlQW5kT2Zmc2V0RnJvbUxvY2F0aW9uXCIpLGYucHJveHlNZXRob2QoXCJwb2ludE1hcHBlci5jcmVhdGVET01SYW5nZUZyb21Qb2ludFwiKSxmLnByb3h5TWV0aG9kKFwicG9pbnRNYXBwZXIuZ2V0Q2xpZW50UmVjdHNGb3JET01SYW5nZVwiKSxmLnByb3RvdHlwZS5kaWRNb3VzZURvd249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXVzZVRlbXBvcmFyaWx5KCl9LGYucHJvdG90eXBlLnBhdXNlVGVtcG9yYXJpbHk9ZnVuY3Rpb24oKXt2YXIgZSxuLHIsbztyZXR1cm4gdGhpcy5wYXVzZWQ9ITAsbj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbixpO2ZvcihlLnBhdXNlZD0hMSxjbGVhclRpbWVvdXQobyksbj0wLGk9ci5sZW5ndGg7aT5uO24rKylyW25dLmRlc3Ryb3koKTtyZXR1cm4gdChkb2N1bWVudCxlLmVsZW1lbnQpP2Uuc2VsZWN0aW9uRGlkQ2hhbmdlKCk6dm9pZCAwfX0odGhpcyksbz1zZXRUaW1lb3V0KG4sMjAwKSxyPWZ1bmN0aW9uKCl7dmFyIHQscixvLGE7Zm9yKGE9W10sdD0wLHI9KG89W1wibW91c2Vtb3ZlXCIsXCJrZXlkb3duXCJdKS5sZW5ndGg7cj50O3QrKyllPW9bdF0sYS5wdXNoKGkoZSx7b25FbGVtZW50OmRvY3VtZW50LHdpdGhDYWxsYmFjazpufSkpO3JldHVybiBhfSgpfSxmLnByb3RvdHlwZS5zZWxlY3Rpb25EaWRDaGFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXVzZWR8fG8odGhpcy5lbGVtZW50KT92b2lkIDA6dGhpcy51cGRhdGVDdXJyZW50TG9jYXRpb25SYW5nZSgpfSxmLnByb3RvdHlwZS51cGRhdGVDdXJyZW50TG9jYXRpb25SYW5nZT1mdW5jdGlvbih0KXt2YXIgbjtyZXR1cm4obnVsbCE9dD90OnQ9dGhpcy5jcmVhdGVMb2NhdGlvblJhbmdlRnJvbURPTVJhbmdlKGUoKSkpJiYhYyh0LHRoaXMuY3VycmVudExvY2F0aW9uUmFuZ2UpPyh0aGlzLmN1cnJlbnRMb2NhdGlvblJhbmdlPXQsbnVsbCE9KG49dGhpcy5kZWxlZ2F0ZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIG4ubG9jYXRpb25SYW5nZURpZENoYW5nZT9uLmxvY2F0aW9uUmFuZ2VEaWRDaGFuZ2UodGhpcy5jdXJyZW50TG9jYXRpb25SYW5nZS5zbGljZSgwKSk6dm9pZCAwKTp2b2lkIDB9LGYucHJvdG90eXBlLmNyZWF0ZURPTVJhbmdlRnJvbUxvY2F0aW9uUmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGk7cmV0dXJuIHI9dGhpcy5maW5kQ29udGFpbmVyQW5kT2Zmc2V0RnJvbUxvY2F0aW9uKHRbMF0pLG49dSh0KT9yOm51bGwhPShpPXRoaXMuZmluZENvbnRhaW5lckFuZE9mZnNldEZyb21Mb2NhdGlvbih0WzFdKSk/aTpyLG51bGwhPXImJm51bGwhPW4/KChlPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCkpLnNldFN0YXJ0LmFwcGx5KGUsciksZS5zZXRFbmQuYXBwbHkoZSxuKSxlKTp2b2lkIDB9LGYucHJvdG90eXBlLmdldExvY2F0aW9uQXRQb2ludD1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybihlPXRoaXMuY3JlYXRlRE9NUmFuZ2VGcm9tUG9pbnQodCkpJiZudWxsIT0obj10aGlzLmNyZWF0ZUxvY2F0aW9uUmFuZ2VGcm9tRE9NUmFuZ2UoZSkpP25bMF06dm9pZCAwfSxmLnByb3RvdHlwZS5kb21SYW5nZVdpdGhpbkVsZW1lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29sbGFwc2VkP3QodGhpcy5lbGVtZW50LGUuc3RhcnRDb250YWluZXIpOnQodGhpcy5lbGVtZW50LGUuc3RhcnRDb250YWluZXIpJiZ0KHRoaXMuZWxlbWVudCxlLmVuZENvbnRhaW5lcil9LGZ9KHIuQmFzaWNPYmplY3QpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQsZSxuLGksbz1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpYS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiBuLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbix0Ll9fc3VwZXJfXz1lLnByb3RvdHlwZSx0fSxhPXt9Lmhhc093blByb3BlcnR5LHM9W10uc2xpY2U7bj1yLnJhbmdlSXNDb2xsYXBzZWQsaT1yLnJhbmdlc0FyZUVxdWFsLGU9ci5vYmplY3RzQXJlRXF1YWwsdD1yLmdldEJsb2NrQ29uZmlnLHIuRWRpdG9yQ29udHJvbGxlcj1mdW5jdGlvbihhKXtmdW5jdGlvbiB1KHQpe3ZhciBlLG47dGhpcy5lZGl0b3JFbGVtZW50PXQuZWRpdG9yRWxlbWVudCxlPXQuZG9jdW1lbnQsbj10Lmh0bWwsdGhpcy5zZWxlY3Rpb25NYW5hZ2VyPW5ldyByLlNlbGVjdGlvbk1hbmFnZXIodGhpcy5lZGl0b3JFbGVtZW50KSx0aGlzLnNlbGVjdGlvbk1hbmFnZXIuZGVsZWdhdGU9dGhpcyx0aGlzLmNvbXBvc2l0aW9uPW5ldyByLkNvbXBvc2l0aW9uLHRoaXMuY29tcG9zaXRpb24uZGVsZWdhdGU9dGhpcyx0aGlzLmF0dGFjaG1lbnRNYW5hZ2VyPW5ldyByLkF0dGFjaG1lbnRNYW5hZ2VyKHRoaXMuY29tcG9zaXRpb24uZ2V0QXR0YWNobWVudHMoKSksdGhpcy5hdHRhY2htZW50TWFuYWdlci5kZWxlZ2F0ZT10aGlzLHRoaXMuaW5wdXRDb250cm9sbGVyPW5ldyhyW1wiTGV2ZWxcIityLmNvbmZpZy5pbnB1dC5nZXRMZXZlbCgpK1wiSW5wdXRDb250cm9sbGVyXCJdKSh0aGlzLmVkaXRvckVsZW1lbnQpLHRoaXMuaW5wdXRDb250cm9sbGVyLmRlbGVnYXRlPXRoaXMsdGhpcy5pbnB1dENvbnRyb2xsZXIucmVzcG9uZGVyPXRoaXMuY29tcG9zaXRpb24sdGhpcy5jb21wb3NpdGlvbkNvbnRyb2xsZXI9bmV3IHIuQ29tcG9zaXRpb25Db250cm9sbGVyKHRoaXMuZWRpdG9yRWxlbWVudCx0aGlzLmNvbXBvc2l0aW9uKSx0aGlzLmNvbXBvc2l0aW9uQ29udHJvbGxlci5kZWxlZ2F0ZT10aGlzLHRoaXMudG9vbGJhckNvbnRyb2xsZXI9bmV3IHIuVG9vbGJhckNvbnRyb2xsZXIodGhpcy5lZGl0b3JFbGVtZW50LnRvb2xiYXJFbGVtZW50KSx0aGlzLnRvb2xiYXJDb250cm9sbGVyLmRlbGVnYXRlPXRoaXMsdGhpcy5lZGl0b3I9bmV3IHIuRWRpdG9yKHRoaXMuY29tcG9zaXRpb24sdGhpcy5zZWxlY3Rpb25NYW5hZ2VyLHRoaXMuZWRpdG9yRWxlbWVudCksbnVsbCE9ZT90aGlzLmVkaXRvci5sb2FkRG9jdW1lbnQoZSk6dGhpcy5lZGl0b3IubG9hZEhUTUwobil9dmFyIGM7cmV0dXJuIG8odSxhKSx1LnByb3RvdHlwZS5yZWdpc3RlclNlbGVjdGlvbk1hbmFnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gci5zZWxlY3Rpb25DaGFuZ2VPYnNlcnZlci5yZWdpc3RlclNlbGVjdGlvbk1hbmFnZXIodGhpcy5zZWxlY3Rpb25NYW5hZ2VyKX0sdS5wcm90b3R5cGUudW5yZWdpc3RlclNlbGVjdGlvbk1hbmFnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gci5zZWxlY3Rpb25DaGFuZ2VPYnNlcnZlci51bnJlZ2lzdGVyU2VsZWN0aW9uTWFuYWdlcih0aGlzLnNlbGVjdGlvbk1hbmFnZXIpfSx1LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbkNvbnRyb2xsZXIucmVuZGVyKCl9LHUucHJvdG90eXBlLnJlcGFyc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi5yZXBsYWNlSFRNTCh0aGlzLmVkaXRvckVsZW1lbnQuaW5uZXJIVE1MKX0sdS5wcm90b3R5cGUuY29tcG9zaXRpb25EaWRDaGFuZ2VEb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vdGlmeUVkaXRvckVsZW1lbnQoXCJkb2N1bWVudC1jaGFuZ2VcIiksdGhpcy5oYW5kbGluZ0lucHV0P3ZvaWQgMDp0aGlzLnJlbmRlcigpfSx1LnByb3RvdHlwZS5jb21wb3NpdGlvbkRpZENoYW5nZUN1cnJlbnRBdHRyaWJ1dGVzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmN1cnJlbnRBdHRyaWJ1dGVzPXQsdGhpcy50b29sYmFyQ29udHJvbGxlci51cGRhdGVBdHRyaWJ1dGVzKHRoaXMuY3VycmVudEF0dHJpYnV0ZXMpLHRoaXMudXBkYXRlQ3VycmVudEFjdGlvbnMoKSx0aGlzLm5vdGlmeUVkaXRvckVsZW1lbnQoXCJhdHRyaWJ1dGVzLWNoYW5nZVwiLHthdHRyaWJ1dGVzOnRoaXMuY3VycmVudEF0dHJpYnV0ZXN9KX0sdS5wcm90b3R5cGUuY29tcG9zaXRpb25EaWRQZXJmb3JtSW5zZXJ0aW9uQXRSYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wYXN0aW5nP3RoaXMucGFzdGVkUmFuZ2U9dDp2b2lkIDB9LHUucHJvdG90eXBlLmNvbXBvc2l0aW9uU2hvdWxkQWNjZXB0RmlsZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5ub3RpZnlFZGl0b3JFbGVtZW50KFwiZmlsZS1hY2NlcHRcIix7ZmlsZTp0fSl9LHUucHJvdG90eXBlLmNvbXBvc2l0aW9uRGlkQWRkQXR0YWNobWVudD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT10aGlzLmF0dGFjaG1lbnRNYW5hZ2VyLm1hbmFnZUF0dGFjaG1lbnQodCksdGhpcy5ub3RpZnlFZGl0b3JFbGVtZW50KFwiYXR0YWNobWVudC1hZGRcIix7YXR0YWNobWVudDplfSl9LHUucHJvdG90eXBlLmNvbXBvc2l0aW9uRGlkRWRpdEF0dGFjaG1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHRoaXMuY29tcG9zaXRpb25Db250cm9sbGVyLnJlcmVuZGVyVmlld0Zvck9iamVjdCh0KSxlPXRoaXMuYXR0YWNobWVudE1hbmFnZXIubWFuYWdlQXR0YWNobWVudCh0KSx0aGlzLm5vdGlmeUVkaXRvckVsZW1lbnQoXCJhdHRhY2htZW50LWVkaXRcIix7YXR0YWNobWVudDplfSksdGhpcy5ub3RpZnlFZGl0b3JFbGVtZW50KFwiY2hhbmdlXCIpfSx1LnByb3RvdHlwZS5jb21wb3NpdGlvbkRpZENoYW5nZUF0dGFjaG1lbnRQcmV2aWV3VVJMPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbXBvc2l0aW9uQ29udHJvbGxlci5pbnZhbGlkYXRlVmlld0Zvck9iamVjdCh0KSx0aGlzLm5vdGlmeUVkaXRvckVsZW1lbnQoXCJjaGFuZ2VcIil9LHUucHJvdG90eXBlLmNvbXBvc2l0aW9uRGlkUmVtb3ZlQXR0YWNobWVudD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT10aGlzLmF0dGFjaG1lbnRNYW5hZ2VyLnVubWFuYWdlQXR0YWNobWVudCh0KSx0aGlzLm5vdGlmeUVkaXRvckVsZW1lbnQoXCJhdHRhY2htZW50LXJlbW92ZVwiLHthdHRhY2htZW50OmV9KX0sdS5wcm90b3R5cGUuY29tcG9zaXRpb25EaWRTdGFydEVkaXRpbmdBdHRhY2htZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYXR0YWNobWVudExvY2F0aW9uUmFuZ2U9dGhpcy5jb21wb3NpdGlvbi5kb2N1bWVudC5nZXRMb2NhdGlvblJhbmdlT2ZBdHRhY2htZW50KHQpLHRoaXMuY29tcG9zaXRpb25Db250cm9sbGVyLmluc3RhbGxBdHRhY2htZW50RWRpdG9yRm9yQXR0YWNobWVudCh0LGUpLHRoaXMuc2VsZWN0aW9uTWFuYWdlci5zZXRMb2NhdGlvblJhbmdlKHRoaXMuYXR0YWNobWVudExvY2F0aW9uUmFuZ2UpfSx1LnByb3RvdHlwZS5jb21wb3NpdGlvbkRpZFN0b3BFZGl0aW5nQXR0YWNobWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBvc2l0aW9uQ29udHJvbGxlci51bmluc3RhbGxBdHRhY2htZW50RWRpdG9yKCksdGhpcy5hdHRhY2htZW50TG9jYXRpb25SYW5nZT1udWxsfSx1LnByb3RvdHlwZS5jb21wb3NpdGlvbkRpZFJlcXVlc3RDaGFuZ2luZ1NlbGVjdGlvblRvTG9jYXRpb25SYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4hdGhpcy5sb2FkaW5nU25hcHNob3R8fHRoaXMuaXNGb2N1c2VkKCk/KHRoaXMucmVxdWVzdGVkTG9jYXRpb25SYW5nZT10LHRoaXMuY29tcG9zaXRpb25SZXZpc2lvbldoZW5Mb2NhdGlvblJhbmdlUmVxdWVzdGVkPXRoaXMuY29tcG9zaXRpb24ucmV2aXNpb24sdGhpcy5oYW5kbGluZ0lucHV0P3ZvaWQgMDp0aGlzLnJlbmRlcigpKTp2b2lkIDB9LHUucHJvdG90eXBlLmNvbXBvc2l0aW9uV2lsbExvYWRTbmFwc2hvdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvYWRpbmdTbmFwc2hvdD0hMH0sdS5wcm90b3R5cGUuY29tcG9zaXRpb25EaWRMb2FkU25hcHNob3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbkNvbnRyb2xsZXIucmVmcmVzaFZpZXdDYWNoZSgpLHRoaXMucmVuZGVyKCksdGhpcy5sb2FkaW5nU25hcHNob3Q9ITF9LHUucHJvdG90eXBlLmdldFNlbGVjdGlvbk1hbmFnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3Rpb25NYW5hZ2VyfSx1LnByb3h5TWV0aG9kKFwiZ2V0U2VsZWN0aW9uTWFuYWdlcigpLnNldExvY2F0aW9uUmFuZ2VcIiksdS5wcm94eU1ldGhvZChcImdldFNlbGVjdGlvbk1hbmFnZXIoKS5nZXRMb2NhdGlvblJhbmdlXCIpLHUucHJvdG90eXBlLmF0dGFjaG1lbnRNYW5hZ2VyRGlkUmVxdWVzdFJlbW92YWxPZkF0dGFjaG1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmVtb3ZlQXR0YWNobWVudCh0KX0sdS5wcm90b3R5cGUuY29tcG9zaXRpb25Db250cm9sbGVyV2lsbFN5bmNEb2N1bWVudFZpZXc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnB1dENvbnRyb2xsZXIuZWRpdG9yV2lsbFN5bmNEb2N1bWVudFZpZXcoKSx0aGlzLnNlbGVjdGlvbk1hbmFnZXIubG9jaygpLHRoaXMuc2VsZWN0aW9uTWFuYWdlci5jbGVhclNlbGVjdGlvbigpfSx1LnByb3RvdHlwZS5jb21wb3NpdGlvbkNvbnRyb2xsZXJEaWRTeW5jRG9jdW1lbnRWaWV3PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5wdXRDb250cm9sbGVyLmVkaXRvckRpZFN5bmNEb2N1bWVudFZpZXcoKSx0aGlzLnNlbGVjdGlvbk1hbmFnZXIudW5sb2NrKCksdGhpcy51cGRhdGVDdXJyZW50QWN0aW9ucygpLHRoaXMubm90aWZ5RWRpdG9yRWxlbWVudChcInN5bmNcIil9LHUucHJvdG90eXBlLmNvbXBvc2l0aW9uQ29udHJvbGxlckRpZFJlbmRlcj1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLnJlcXVlc3RlZExvY2F0aW9uUmFuZ2UmJih0aGlzLmNvbXBvc2l0aW9uUmV2aXNpb25XaGVuTG9jYXRpb25SYW5nZVJlcXVlc3RlZD09PXRoaXMuY29tcG9zaXRpb24ucmV2aXNpb24mJnRoaXMuc2VsZWN0aW9uTWFuYWdlci5zZXRMb2NhdGlvblJhbmdlKHRoaXMucmVxdWVzdGVkTG9jYXRpb25SYW5nZSksdGhpcy5yZXF1ZXN0ZWRMb2NhdGlvblJhbmdlPW51bGwsdGhpcy5jb21wb3NpdGlvblJldmlzaW9uV2hlbkxvY2F0aW9uUmFuZ2VSZXF1ZXN0ZWQ9bnVsbCksdGhpcy5yZW5kZXJlZENvbXBvc2l0aW9uUmV2aXNpb24hPT10aGlzLmNvbXBvc2l0aW9uLnJldmlzaW9uJiYodGhpcy5ydW5FZGl0b3JGaWx0ZXJzKCksdGhpcy5jb21wb3NpdGlvbi51cGRhdGVDdXJyZW50QXR0cmlidXRlcygpLHRoaXMubm90aWZ5RWRpdG9yRWxlbWVudChcInJlbmRlclwiKSksdGhpcy5yZW5kZXJlZENvbXBvc2l0aW9uUmV2aXNpb249dGhpcy5jb21wb3NpdGlvbi5yZXZpc2lvbn0sdS5wcm90b3R5cGUuY29tcG9zaXRpb25Db250cm9sbGVyRGlkRm9jdXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b29sYmFyQ29udHJvbGxlci5oaWRlRGlhbG9nKCksdGhpcy5ub3RpZnlFZGl0b3JFbGVtZW50KFwiZm9jdXNcIil9LHUucHJvdG90eXBlLmNvbXBvc2l0aW9uQ29udHJvbGxlckRpZEJsdXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub3RpZnlFZGl0b3JFbGVtZW50KFwiYmx1clwiKX0sdS5wcm90b3R5cGUuY29tcG9zaXRpb25Db250cm9sbGVyRGlkU2VsZWN0QXR0YWNobWVudD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnRvb2xiYXJDb250cm9sbGVyLmhpZGVEaWFsb2coKSx0aGlzLmNvbXBvc2l0aW9uLmVkaXRBdHRhY2htZW50KHQsZSl9LHUucHJvdG90eXBlLmNvbXBvc2l0aW9uQ29udHJvbGxlckRpZFJlcXVlc3REZXNlbGVjdGluZ0F0dGFjaG1lbnQ9ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gZT1udWxsIT0obj10aGlzLmF0dGFjaG1lbnRMb2NhdGlvblJhbmdlKT9uOnRoaXMuY29tcG9zaXRpb24uZG9jdW1lbnQuZ2V0TG9jYXRpb25SYW5nZU9mQXR0YWNobWVudCh0KSx0aGlzLnNlbGVjdGlvbk1hbmFnZXIuc2V0TG9jYXRpb25SYW5nZShlWzFdKX0sdS5wcm90b3R5cGUuY29tcG9zaXRpb25Db250cm9sbGVyV2lsbFVwZGF0ZUF0dGFjaG1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWRpdG9yLnJlY29yZFVuZG9FbnRyeShcIkVkaXQgQXR0YWNobWVudFwiLHtjb250ZXh0OnQuaWQsY29uc29saWRhdGFibGU6ITB9KX0sdS5wcm90b3R5cGUuY29tcG9zaXRpb25Db250cm9sbGVyRGlkUmVxdWVzdFJlbW92YWxPZkF0dGFjaG1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmVtb3ZlQXR0YWNobWVudCh0KX0sdS5wcm90b3R5cGUuaW5wdXRDb250cm9sbGVyV2lsbEhhbmRsZUlucHV0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFuZGxpbmdJbnB1dD0hMCx0aGlzLnJlcXVlc3RlZFJlbmRlcj0hMX0sdS5wcm90b3R5cGUuaW5wdXRDb250cm9sbGVyRGlkUmVxdWVzdFJlbmRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcXVlc3RlZFJlbmRlcj0hMH0sdS5wcm90b3R5cGUuaW5wdXRDb250cm9sbGVyRGlkSGFuZGxlSW5wdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYW5kbGluZ0lucHV0PSExLHRoaXMucmVxdWVzdGVkUmVuZGVyPyh0aGlzLnJlcXVlc3RlZFJlbmRlcj0hMSx0aGlzLnJlbmRlcigpKTp2b2lkIDB9LHUucHJvdG90eXBlLmlucHV0Q29udHJvbGxlckRpZEFsbG93VW5oYW5kbGVkSW5wdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub3RpZnlFZGl0b3JFbGVtZW50KFwiY2hhbmdlXCIpfSx1LnByb3RvdHlwZS5pbnB1dENvbnRyb2xsZXJEaWRSZXF1ZXN0UmVwYXJzZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcGFyc2UoKX0sdS5wcm90b3R5cGUuaW5wdXRDb250cm9sbGVyV2lsbFBlcmZvcm1UeXBpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWNvcmRUeXBpbmdVbmRvRW50cnkoKX0sdS5wcm90b3R5cGUuaW5wdXRDb250cm9sbGVyV2lsbFBlcmZvcm1Gb3JtYXR0aW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJlY29yZEZvcm1hdHRpbmdVbmRvRW50cnkodCl9LHUucHJvdG90eXBlLmlucHV0Q29udHJvbGxlcldpbGxDdXRUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLnJlY29yZFVuZG9FbnRyeShcIkN1dFwiKX0sdS5wcm90b3R5cGUuaW5wdXRDb250cm9sbGVyV2lsbFBhc3RlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVkaXRvci5yZWNvcmRVbmRvRW50cnkoXCJQYXN0ZVwiKSx0aGlzLnBhc3Rpbmc9ITAsdGhpcy5ub3RpZnlFZGl0b3JFbGVtZW50KFwiYmVmb3JlLXBhc3RlXCIse3Bhc3RlOnR9KX0sdS5wcm90b3R5cGUuaW5wdXRDb250cm9sbGVyRGlkUGFzdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmFuZ2U9dGhpcy5wYXN0ZWRSYW5nZSx0aGlzLnBhc3RlZFJhbmdlPW51bGwsdGhpcy5wYXN0aW5nPW51bGwsdGhpcy5ub3RpZnlFZGl0b3JFbGVtZW50KFwicGFzdGVcIix7cGFzdGU6dH0pfSx1LnByb3RvdHlwZS5pbnB1dENvbnRyb2xsZXJXaWxsTW92ZVRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGl0b3IucmVjb3JkVW5kb0VudHJ5KFwiTW92ZVwiKX0sdS5wcm90b3R5cGUuaW5wdXRDb250cm9sbGVyV2lsbEF0dGFjaEZpbGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLnJlY29yZFVuZG9FbnRyeShcIkRyb3AgRmlsZXNcIil9LHUucHJvdG90eXBlLmlucHV0Q29udHJvbGxlcldpbGxQZXJmb3JtVW5kbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvci51bmRvKCl9LHUucHJvdG90eXBlLmlucHV0Q29udHJvbGxlcldpbGxQZXJmb3JtUmVkbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvci5yZWRvKCl9LHUucHJvdG90eXBlLmlucHV0Q29udHJvbGxlckRpZFJlY2VpdmVLZXlib2FyZENvbW1hbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudG9vbGJhckNvbnRyb2xsZXIuYXBwbHlLZXlib2FyZENvbW1hbmQodCl9LHUucHJvdG90eXBlLmlucHV0Q29udHJvbGxlckRpZFN0YXJ0RHJhZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2F0aW9uUmFuZ2VCZWZvcmVEcmFnPXRoaXMuc2VsZWN0aW9uTWFuYWdlci5nZXRMb2NhdGlvblJhbmdlKCl9LHUucHJvdG90eXBlLmlucHV0Q29udHJvbGxlckRpZFJlY2VpdmVEcmFnT3ZlclBvaW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNlbGVjdGlvbk1hbmFnZXIuc2V0TG9jYXRpb25SYW5nZUZyb21Qb2ludFJhbmdlKHQpfSx1LnByb3RvdHlwZS5pbnB1dENvbnRyb2xsZXJEaWRDYW5jZWxEcmFnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uTWFuYWdlci5zZXRMb2NhdGlvblJhbmdlKHRoaXMubG9jYXRpb25SYW5nZUJlZm9yZURyYWcpLHRoaXMubG9jYXRpb25SYW5nZUJlZm9yZURyYWc9bnVsbH0sdS5wcm90b3R5cGUubG9jYXRpb25SYW5nZURpZENoYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wb3NpdGlvbi51cGRhdGVDdXJyZW50QXR0cmlidXRlcygpLHRoaXMudXBkYXRlQ3VycmVudEFjdGlvbnMoKSx0aGlzLmF0dGFjaG1lbnRMb2NhdGlvblJhbmdlJiYhaSh0aGlzLmF0dGFjaG1lbnRMb2NhdGlvblJhbmdlLHQpJiZ0aGlzLmNvbXBvc2l0aW9uLnN0b3BFZGl0aW5nQXR0YWNobWVudCgpLHRoaXMubm90aWZ5RWRpdG9yRWxlbWVudChcInNlbGVjdGlvbi1jaGFuZ2VcIil9LHUucHJvdG90eXBlLnRvb2xiYXJEaWRDbGlja0J1dHRvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldExvY2F0aW9uUmFuZ2UoKT92b2lkIDA6dGhpcy5zZXRMb2NhdGlvblJhbmdlKHtpbmRleDowLG9mZnNldDowfSl9LHUucHJvdG90eXBlLnRvb2xiYXJEaWRJbnZva2VBY3Rpb249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaW52b2tlQWN0aW9uKHQpfSx1LnByb3RvdHlwZS50b29sYmFyRGlkVG9nZ2xlQXR0cmlidXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJlY29yZEZvcm1hdHRpbmdVbmRvRW50cnkodCksdGhpcy5jb21wb3NpdGlvbi50b2dnbGVDdXJyZW50QXR0cmlidXRlKHQpLHRoaXMucmVuZGVyKCksdGhpcy5zZWxlY3Rpb25Gcm96ZW4/dm9pZCAwOnRoaXMuZWRpdG9yRWxlbWVudC5mb2N1cygpfSx1LnByb3RvdHlwZS50b29sYmFyRGlkVXBkYXRlQXR0cmlidXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucmVjb3JkRm9ybWF0dGluZ1VuZG9FbnRyeSh0KSx0aGlzLmNvbXBvc2l0aW9uLnNldEN1cnJlbnRBdHRyaWJ1dGUodCxlKSx0aGlzLnJlbmRlcigpLHRoaXMuc2VsZWN0aW9uRnJvemVuP3ZvaWQgMDp0aGlzLmVkaXRvckVsZW1lbnQuZm9jdXMoKX0sdS5wcm90b3R5cGUudG9vbGJhckRpZFJlbW92ZUF0dHJpYnV0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yZWNvcmRGb3JtYXR0aW5nVW5kb0VudHJ5KHQpLHRoaXMuY29tcG9zaXRpb24ucmVtb3ZlQ3VycmVudEF0dHJpYnV0ZSh0KSx0aGlzLnJlbmRlcigpLHRoaXMuc2VsZWN0aW9uRnJvemVuP3ZvaWQgMDp0aGlzLmVkaXRvckVsZW1lbnQuZm9jdXMoKX0sdS5wcm90b3R5cGUudG9vbGJhcldpbGxTaG93RGlhbG9nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcG9zaXRpb24uZXhwYW5kU2VsZWN0aW9uRm9yRWRpdGluZygpLHRoaXMuZnJlZXplU2VsZWN0aW9uKCl9LHUucHJvdG90eXBlLnRvb2xiYXJEaWRTaG93RGlhbG9nPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5vdGlmeUVkaXRvckVsZW1lbnQoXCJ0b29sYmFyLWRpYWxvZy1zaG93XCIse2RpYWxvZ05hbWU6dH0pfSx1LnByb3RvdHlwZS50b29sYmFyRGlkSGlkZURpYWxvZz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aGF3U2VsZWN0aW9uKCksdGhpcy5lZGl0b3JFbGVtZW50LmZvY3VzKCksdGhpcy5ub3RpZnlFZGl0b3JFbGVtZW50KFwidG9vbGJhci1kaWFsb2ctaGlkZVwiLHtkaWFsb2dOYW1lOnR9KX0sdS5wcm90b3R5cGUuZnJlZXplU2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uRnJvemVuP3ZvaWQgMDoodGhpcy5zZWxlY3Rpb25NYW5hZ2VyLmxvY2soKSx0aGlzLmNvbXBvc2l0aW9uLmZyZWV6ZVNlbGVjdGlvbigpLHRoaXMuc2VsZWN0aW9uRnJvemVuPSEwLHRoaXMucmVuZGVyKCkpfSx1LnByb3RvdHlwZS50aGF3U2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uRnJvemVuPyh0aGlzLmNvbXBvc2l0aW9uLnRoYXdTZWxlY3Rpb24oKSx0aGlzLnNlbGVjdGlvbk1hbmFnZXIudW5sb2NrKCksdGhpcy5zZWxlY3Rpb25Gcm96ZW49ITEsdGhpcy5yZW5kZXIoKSk6dm9pZCAwfSx1LnByb3RvdHlwZS5hY3Rpb25zPXt1bmRvOnt0ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLmNhblVuZG8oKX0scGVyZm9ybTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvci51bmRvKCl9fSxyZWRvOnt0ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLmNhblJlZG8oKX0scGVyZm9ybTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvci5yZWRvKCl9fSxsaW5rOnt0ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLmNhbkFjdGl2YXRlQXR0cmlidXRlKFwiaHJlZlwiKX19LGluY3JlYXNlTmVzdGluZ0xldmVsOnt0ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLmNhbkluY3JlYXNlTmVzdGluZ0xldmVsKCl9LHBlcmZvcm06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGl0b3IuaW5jcmVhc2VOZXN0aW5nTGV2ZWwoKSYmdGhpcy5yZW5kZXIoKX19LGRlY3JlYXNlTmVzdGluZ0xldmVsOnt0ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLmNhbkRlY3JlYXNlTmVzdGluZ0xldmVsKCl9LHBlcmZvcm06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGl0b3IuZGVjcmVhc2VOZXN0aW5nTGV2ZWwoKSYmdGhpcy5yZW5kZXIoKX19LGF0dGFjaEZpbGVzOnt0ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuITB9LHBlcmZvcm06ZnVuY3Rpb24oKXtyZXR1cm4gci5jb25maWcuaW5wdXQucGlja0ZpbGVzKHRoaXMuZWRpdG9yLmluc2VydEZpbGVzKX19fSx1LnByb3RvdHlwZS5jYW5JbnZva2VBY3Rpb249ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4hIXRoaXMuYWN0aW9uSXNFeHRlcm5hbCh0KXx8ISEobnVsbCE9KGU9dGhpcy5hY3Rpb25zW3RdKSYmbnVsbCE9KG49ZS50ZXN0KT9uLmNhbGwodGhpcyk6dm9pZCAwKX0sdS5wcm90b3R5cGUuaW52b2tlQWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIHRoaXMuYWN0aW9uSXNFeHRlcm5hbCh0KT90aGlzLm5vdGlmeUVkaXRvckVsZW1lbnQoXCJhY3Rpb24taW52b2tlXCIse2FjdGlvbk5hbWU6dH0pOm51bGwhPShlPXRoaXMuYWN0aW9uc1t0XSkmJm51bGwhPShuPWUucGVyZm9ybSk/bi5jYWxsKHRoaXMpOnZvaWQgMH0sdS5wcm90b3R5cGUuYWN0aW9uSXNFeHRlcm5hbD1mdW5jdGlvbih0KXtyZXR1cm4vXngtLi8udGVzdCh0KX0sdS5wcm90b3R5cGUuZ2V0Q3VycmVudEFjdGlvbnM9ZnVuY3Rpb24oKXt2YXIgdCxlO2Zvcih0IGluIGU9e30sdGhpcy5hY3Rpb25zKWVbdF09dGhpcy5jYW5JbnZva2VBY3Rpb24odCk7cmV0dXJuIGV9LHUucHJvdG90eXBlLnVwZGF0ZUN1cnJlbnRBY3Rpb25zPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHQ9dGhpcy5nZXRDdXJyZW50QWN0aW9ucygpLGUodCx0aGlzLmN1cnJlbnRBY3Rpb25zKT92b2lkIDA6KHRoaXMuY3VycmVudEFjdGlvbnM9dCx0aGlzLnRvb2xiYXJDb250cm9sbGVyLnVwZGF0ZUFjdGlvbnModGhpcy5jdXJyZW50QWN0aW9ucyksdGhpcy5ub3RpZnlFZGl0b3JFbGVtZW50KFwiYWN0aW9ucy1jaGFuZ2VcIix7YWN0aW9uczp0aGlzLmN1cnJlbnRBY3Rpb25zfSkpfSx1LnByb3RvdHlwZS5ydW5FZGl0b3JGaWx0ZXJzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLHIsaSxvLGEscztmb3Iocz10aGlzLmNvbXBvc2l0aW9uLmdldFNuYXBzaG90KCksbj0wLHI9KGk9dGhpcy5lZGl0b3IuZmlsdGVycykubGVuZ3RoO3I+bjtuKyspZT1pW25dLHQ9cy5kb2N1bWVudCxhPXMuc2VsZWN0ZWRSYW5nZSxudWxsPT0ocz1udWxsIT0obz1lLmNhbGwodGhpcy5lZGl0b3IscykpP286e30pLmRvY3VtZW50JiYocy5kb2N1bWVudD10KSxudWxsPT1zLnNlbGVjdGVkUmFuZ2UmJihzLnNlbGVjdGVkUmFuZ2U9YSk7cmV0dXJuIGMocyx0aGlzLmNvbXBvc2l0aW9uLmdldFNuYXBzaG90KCkpP3ZvaWQgMDp0aGlzLmNvbXBvc2l0aW9uLmxvYWRTbmFwc2hvdChzKX0sYz1mdW5jdGlvbih0LGUpe3JldHVybiBpKHQuc2VsZWN0ZWRSYW5nZSxlLnNlbGVjdGVkUmFuZ2UpJiZ0LmRvY3VtZW50LmlzRXF1YWxUbyhlLmRvY3VtZW50KX0sdS5wcm90b3R5cGUudXBkYXRlSW5wdXRFbGVtZW50PWZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4gdD10aGlzLmNvbXBvc2l0aW9uQ29udHJvbGxlci5nZXRTZXJpYWxpemFibGVFbGVtZW50KCksZT1yLnNlcmlhbGl6ZVRvQ29udGVudFR5cGUodCxcInRleHQvaHRtbFwiKSx0aGlzLmVkaXRvckVsZW1lbnQuc2V0SW5wdXRFbGVtZW50VmFsdWUoZSl9LHUucHJvdG90eXBlLm5vdGlmeUVkaXRvckVsZW1lbnQ9ZnVuY3Rpb24odCxlKXtzd2l0Y2godCl7Y2FzZVwiZG9jdW1lbnQtY2hhbmdlXCI6dGhpcy5kb2N1bWVudENoYW5nZWRTaW5jZUxhc3RSZW5kZXI9ITA7YnJlYWs7Y2FzZVwicmVuZGVyXCI6dGhpcy5kb2N1bWVudENoYW5nZWRTaW5jZUxhc3RSZW5kZXImJih0aGlzLmRvY3VtZW50Q2hhbmdlZFNpbmNlTGFzdFJlbmRlcj0hMSx0aGlzLm5vdGlmeUVkaXRvckVsZW1lbnQoXCJjaGFuZ2VcIikpO2JyZWFrO2Nhc2VcImNoYW5nZVwiOmNhc2VcImF0dGFjaG1lbnQtYWRkXCI6Y2FzZVwiYXR0YWNobWVudC1lZGl0XCI6Y2FzZVwiYXR0YWNobWVudC1yZW1vdmVcIjp0aGlzLnVwZGF0ZUlucHV0RWxlbWVudCgpfXJldHVybiB0aGlzLmVkaXRvckVsZW1lbnQubm90aWZ5KHQsZSl9LHUucHJvdG90eXBlLnJlbW92ZUF0dGFjaG1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWRpdG9yLnJlY29yZFVuZG9FbnRyeShcIkRlbGV0ZSBBdHRhY2htZW50XCIpLHRoaXMuY29tcG9zaXRpb24ucmVtb3ZlQXR0YWNobWVudCh0KSx0aGlzLnJlbmRlcigpfSx1LnByb3RvdHlwZS5yZWNvcmRGb3JtYXR0aW5nVW5kb0VudHJ5PWZ1bmN0aW9uKGUpe3ZhciByLGk7cmV0dXJuIHI9dChlKSxpPXRoaXMuc2VsZWN0aW9uTWFuYWdlci5nZXRMb2NhdGlvblJhbmdlKCkscnx8IW4oaSk/dGhpcy5lZGl0b3IucmVjb3JkVW5kb0VudHJ5KFwiRm9ybWF0dGluZ1wiLHtjb250ZXh0OnRoaXMuZ2V0VW5kb0NvbnRleHQoKSxjb25zb2xpZGF0YWJsZTohMH0pOnZvaWQgMH0sdS5wcm90b3R5cGUucmVjb3JkVHlwaW5nVW5kb0VudHJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLnJlY29yZFVuZG9FbnRyeShcIlR5cGluZ1wiLHtjb250ZXh0OnRoaXMuZ2V0VW5kb0NvbnRleHQodGhpcy5jdXJyZW50QXR0cmlidXRlcyksY29uc29saWRhdGFibGU6ITB9KX0sdS5wcm90b3R5cGUuZ2V0VW5kb0NvbnRleHQ9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gdD0xPD1hcmd1bWVudHMubGVuZ3RoP3MuY2FsbChhcmd1bWVudHMsMCk6W10sW3RoaXMuZ2V0TG9jYXRpb25Db250ZXh0KCksdGhpcy5nZXRUaW1lQ29udGV4dCgpXS5jb25jYXQocy5jYWxsKHQpKX0sdS5wcm90b3R5cGUuZ2V0TG9jYXRpb25Db250ZXh0PWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHQ9dGhpcy5zZWxlY3Rpb25NYW5hZ2VyLmdldExvY2F0aW9uUmFuZ2UoKSxuKHQpP3RbMF0uaW5kZXg6dH0sdS5wcm90b3R5cGUuZ2V0VGltZUNvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gci5jb25maWcudW5kb0ludGVydmFsPjA/TWF0aC5mbG9vcigobmV3IERhdGUpLmdldFRpbWUoKS9yLmNvbmZpZy51bmRvSW50ZXJ2YWwpOjB9LHUucHJvdG90eXBlLmlzRm9jdXNlZD1mdW5jdGlvbigpe3ZhciB0O3JldHVybiB0aGlzLmVkaXRvckVsZW1lbnQ9PT0obnVsbCE9KHQ9dGhpcy5lZGl0b3JFbGVtZW50Lm93bmVyRG9jdW1lbnQpP3QuYWN0aXZlRWxlbWVudDp2b2lkIDApfSx1fShyLkNvbnRyb2xsZXIpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIHQsZSxuLGksbyxhLHMsdSxjLGwsaCxwLGQsZjtlPXIuYnJvd3NlcixvPXIubWFrZUVsZW1lbnQsYT1yLnRyaWdnZXJFdmVudCxuPXIuaGFuZGxlRXZlbnQsaT1yLmhhbmRsZUV2ZW50T25jZSx0PXIuQXR0YWNobWVudFZpZXcuYXR0YWNobWVudFNlbGVjdG9yLHIucmVnaXN0ZXJFbGVtZW50KFwidHJpeC1lZGl0b3JcIiwocD0wLHU9ZnVuY3Rpb24odCl7cmV0dXJuIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCI6Zm9jdXNcIikmJnQuaGFzQXR0cmlidXRlKFwiYXV0b2ZvY3VzXCIpJiZkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2F1dG9mb2N1c11cIik9PT10P3QuZm9jdXMoKTp2b2lkIDB9LGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpP3ZvaWQgMDoodC5zZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIixcIlwiKSxpKFwiZm9jdXNcIix7b25FbGVtZW50OnQsd2l0aENhbGxiYWNrOmZ1bmN0aW9uKCl7cmV0dXJuIGModCl9fSkpfSxzPWZ1bmN0aW9uKHQpe3JldHVybiB0Lmhhc0F0dHJpYnV0ZShcInJvbGVcIik/dm9pZCAwOnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwidGV4dGJveFwiKX0sYz1mdW5jdGlvbih0KXtyZXR1cm4gaCh0KSxmKHQpfSxoPWZ1bmN0aW9uKHQpe3JldHVybihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQ/ZG9jdW1lbnQucXVlcnlDb21tYW5kU3VwcG9ydGVkKFwiZW5hYmxlT2JqZWN0UmVzaXppbmdcIik6dm9pZCAwKT8oZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJlbmFibGVPYmplY3RSZXNpemluZ1wiLCExLCExKSxuKFwibXNjb250cm9sc2VsZWN0XCIse29uRWxlbWVudDp0LHByZXZlbnREZWZhdWx0OiEwfSkpOnZvaWQgMH0sZj1mdW5jdGlvbigpe3ZhciB0O3JldHVybiEoXCJmdW5jdGlvblwiPT10eXBlb2YgZG9jdW1lbnQucXVlcnlDb21tYW5kU3VwcG9ydGVkP2RvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZChcIkRlZmF1bHRQYXJhZ3JhcGhTZXBhcmF0b3JcIik6dm9pZCAwKXx8XCJkaXZcIiE9PSh0PXIuY29uZmlnLmJsb2NrQXR0cmlidXRlcy5kZWZhdWx0LnRhZ05hbWUpJiZcInBcIiE9PXQ/dm9pZCAwOmRvY3VtZW50LmV4ZWNDb21tYW5kKFwiRGVmYXVsdFBhcmFncmFwaFNlcGFyYXRvclwiLCExLHQpfSxsPWUuZm9yY2VzT2JqZWN0UmVzaXppbmc/e2Rpc3BsYXk6XCJpbmxpbmVcIix3aWR0aDpcImF1dG9cIn06e2Rpc3BsYXk6XCJpbmxpbmUtYmxvY2tcIix3aWR0aDpcIjFweFwifSx7ZGVmYXVsdENTUzpcIiV0IHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG5cXG4ldDplbXB0eTpub3QoOmZvY3VzKTo6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IGF0dHIocGxhY2Vob2xkZXIpO1xcbiAgY29sb3I6IGdyYXl0ZXh0O1xcbiAgY3Vyc29yOiB0ZXh0O1xcbn1cXG5cXG4ldCBhW2NvbnRlbnRlZGl0YWJsZT1mYWxzZV0ge1xcbiAgY3Vyc29yOiB0ZXh0O1xcbn1cXG5cXG4ldCBpbWcge1xcbiAgbWF4LXdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiBhdXRvO1xcbn1cXG5cXG4ldCBcIit0K1wiIGZpZ2NhcHRpb24gdGV4dGFyZWEge1xcbiAgcmVzaXplOiBub25lO1xcbn1cXG5cXG4ldCBcIit0K1wiIGZpZ2NhcHRpb24gdGV4dGFyZWEudHJpeC1hdXRvcmVzaXplLWNsb25lIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGxlZnQ6IC05OTk5cHg7XFxuICBtYXgtaGVpZ2h0OiAwcHg7XFxufVxcblxcbiV0IFwiK3QrXCIgZmlnY2FwdGlvbltkYXRhLXRyaXgtcGxhY2Vob2xkZXJdOmVtcHR5OjpiZWZvcmUge1xcbiAgY29udGVudDogYXR0cihkYXRhLXRyaXgtcGxhY2Vob2xkZXIpO1xcbiAgY29sb3I6IGdyYXl0ZXh0O1xcbn1cXG5cXG4ldCBbZGF0YS10cml4LWN1cnNvci10YXJnZXRdIHtcXG4gIGRpc3BsYXk6IFwiK2wuZGlzcGxheStcIiAhaW1wb3J0YW50O1xcbiAgd2lkdGg6IFwiK2wud2lkdGgrXCIgIWltcG9ydGFudDtcXG4gIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcXG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xcbiAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7XFxufVxcblxcbiV0IFtkYXRhLXRyaXgtY3Vyc29yLXRhcmdldD1sZWZ0XSB7XFxuICB2ZXJ0aWNhbC1hbGlnbjogdG9wICFpbXBvcnRhbnQ7XFxuICBtYXJnaW4tbGVmdDogLTFweCAhaW1wb3J0YW50O1xcbn1cXG5cXG4ldCBbZGF0YS10cml4LWN1cnNvci10YXJnZXQ9cmlnaHRdIHtcXG4gIHZlcnRpY2FsLWFsaWduOiBib3R0b20gIWltcG9ydGFudDtcXG4gIG1hcmdpbi1yaWdodDogLTFweCAhaW1wb3J0YW50O1xcbn1cIix0cml4SWQ6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc0F0dHJpYnV0ZShcInRyaXgtaWRcIik/dGhpcy5nZXRBdHRyaWJ1dGUoXCJ0cml4LWlkXCIpOih0aGlzLnNldEF0dHJpYnV0ZShcInRyaXgtaWRcIiwrK3ApLHRoaXMudHJpeElkKX19LHRvb2xiYXJFbGVtZW50OntnZXQ6ZnVuY3Rpb24oKXt2YXIgdCxlLG47cmV0dXJuIHRoaXMuaGFzQXR0cmlidXRlKFwidG9vbGJhclwiKT9udWxsIT0oZT10aGlzLm93bmVyRG9jdW1lbnQpP2UuZ2V0RWxlbWVudEJ5SWQodGhpcy5nZXRBdHRyaWJ1dGUoXCJ0b29sYmFyXCIpKTp2b2lkIDA6dGhpcy5wYXJlbnROb2RlPyhuPVwidHJpeC10b29sYmFyLVwiK3RoaXMudHJpeElkLHRoaXMuc2V0QXR0cmlidXRlKFwidG9vbGJhclwiLG4pLHQ9byhcInRyaXgtdG9vbGJhclwiLHtpZDpufSksdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0LHRoaXMpLHQpOnZvaWQgMH19LGlucHV0RWxlbWVudDp7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQsZSxuO3JldHVybiB0aGlzLmhhc0F0dHJpYnV0ZShcImlucHV0XCIpP251bGwhPShuPXRoaXMub3duZXJEb2N1bWVudCk/bi5nZXRFbGVtZW50QnlJZCh0aGlzLmdldEF0dHJpYnV0ZShcImlucHV0XCIpKTp2b2lkIDA6dGhpcy5wYXJlbnROb2RlPyhlPVwidHJpeC1pbnB1dC1cIit0aGlzLnRyaXhJZCx0aGlzLnNldEF0dHJpYnV0ZShcImlucHV0XCIsZSksdD1vKFwiaW5wdXRcIix7dHlwZTpcImhpZGRlblwiLGlkOmV9KSx0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHQsdGhpcy5uZXh0RWxlbWVudFNpYmxpbmcpLHQpOnZvaWQgMH19LGVkaXRvcjp7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PXRoaXMuZWRpdG9yQ29udHJvbGxlcik/dC5lZGl0b3I6dm9pZCAwfX0sbmFtZTp7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PXRoaXMuaW5wdXRFbGVtZW50KT90Lm5hbWU6dm9pZCAwfX0sdmFsdWU6e2dldDpmdW5jdGlvbigpe3ZhciB0O3JldHVybiBudWxsIT0odD10aGlzLmlucHV0RWxlbWVudCk/dC52YWx1ZTp2b2lkIDB9LHNldDpmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdGhpcy5kZWZhdWx0VmFsdWU9dCxudWxsIT0oZT10aGlzLmVkaXRvcik/ZS5sb2FkSFRNTCh0aGlzLmRlZmF1bHRWYWx1ZSk6dm9pZCAwfX0sbm90aWZ5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZWRpdG9yQ29udHJvbGxlcj9hKFwidHJpeC1cIit0LHtvbkVsZW1lbnQ6dGhpcyxhdHRyaWJ1dGVzOmV9KTp2b2lkIDB9LHNldElucHV0RWxlbWVudFZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBudWxsIT0oZT10aGlzLmlucHV0RWxlbWVudCk/ZS52YWx1ZT10OnZvaWQgMH0saW5pdGlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiBkKHRoaXMpLHModGhpcyl9LGNvbm5lY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYXNBdHRyaWJ1dGUoXCJkYXRhLXRyaXgtaW50ZXJuYWxcIik/dm9pZCAwOih0aGlzLmVkaXRvckNvbnRyb2xsZXJ8fChhKFwidHJpeC1iZWZvcmUtaW5pdGlhbGl6ZVwiLHtvbkVsZW1lbnQ6dGhpc30pLHRoaXMuZWRpdG9yQ29udHJvbGxlcj1uZXcgci5FZGl0b3JDb250cm9sbGVyKHtlZGl0b3JFbGVtZW50OnRoaXMsaHRtbDp0aGlzLmRlZmF1bHRWYWx1ZT10aGlzLnZhbHVlfSkscmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhKFwidHJpeC1pbml0aWFsaXplXCIse29uRWxlbWVudDp0fSl9fSh0aGlzKSkpLHRoaXMuZWRpdG9yQ29udHJvbGxlci5yZWdpc3RlclNlbGVjdGlvbk1hbmFnZXIoKSx0aGlzLnJlZ2lzdGVyUmVzZXRMaXN0ZW5lcigpLHUodGhpcykpfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIG51bGwhPSh0PXRoaXMuZWRpdG9yQ29udHJvbGxlcikmJnQudW5yZWdpc3RlclNlbGVjdGlvbk1hbmFnZXIoKSx0aGlzLnVucmVnaXN0ZXJSZXNldExpc3RlbmVyKCl9LHJlZ2lzdGVyUmVzZXRMaXN0ZW5lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc2V0TGlzdGVuZXI9dGhpcy5yZXNldEJ1YmJsZWQuYmluZCh0aGlzKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2V0XCIsdGhpcy5yZXNldExpc3RlbmVyLCExKX0sdW5yZWdpc3RlclJlc2V0TGlzdGVuZXI6ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNldFwiLHRoaXMucmVzZXRMaXN0ZW5lciwhMSl9LHJlc2V0QnViYmxlZDpmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdC50YXJnZXQhPT0obnVsbCE9KGU9dGhpcy5pbnB1dEVsZW1lbnQpP2UuZm9ybTp2b2lkIDApfHx0LmRlZmF1bHRQcmV2ZW50ZWQ/dm9pZCAwOnRoaXMucmVzZXQoKX0scmVzZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZT10aGlzLmRlZmF1bHRWYWx1ZX19KSl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt9LmNhbGwodGhpcyl9KS5jYWxsKHRoaXMpLHQuZXhwb3J0cz90LmV4cG9ydHM9cjp2b2lkIDA9PT0obz1cImZ1bmN0aW9uXCI9PXR5cGVvZihpPXIpP2kuY2FsbChlLG4sZSx0KTppKXx8KHQuZXhwb3J0cz1vKX0uY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxuKDUpLnNldEltbWVkaWF0ZSl9LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24odCl7dmFyIHI9dm9pZCAwIT09dCYmdHx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGZ8fHdpbmRvdyxpPUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtmdW5jdGlvbiBvKHQsZSl7dGhpcy5faWQ9dCx0aGlzLl9jbGVhckZuPWV9ZS5zZXRUaW1lb3V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvKGkuY2FsbChzZXRUaW1lb3V0LHIsYXJndW1lbnRzKSxjbGVhclRpbWVvdXQpfSxlLnNldEludGVydmFsPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvKGkuY2FsbChzZXRJbnRlcnZhbCxyLGFyZ3VtZW50cyksY2xlYXJJbnRlcnZhbCl9LGUuY2xlYXJUaW1lb3V0PWUuY2xlYXJJbnRlcnZhbD1mdW5jdGlvbih0KXt0JiZ0LmNsb3NlKCl9LG8ucHJvdG90eXBlLnVucmVmPW8ucHJvdG90eXBlLnJlZj1mdW5jdGlvbigpe30sby5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckZuLmNhbGwocix0aGlzLl9pZCl9LGUuZW5yb2xsPWZ1bmN0aW9uKHQsZSl7Y2xlYXJUaW1lb3V0KHQuX2lkbGVUaW1lb3V0SWQpLHQuX2lkbGVUaW1lb3V0PWV9LGUudW5lbnJvbGw9ZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KHQuX2lkbGVUaW1lb3V0SWQpLHQuX2lkbGVUaW1lb3V0PS0xfSxlLl91bnJlZkFjdGl2ZT1lLmFjdGl2ZT1mdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodC5faWRsZVRpbWVvdXRJZCk7dmFyIGU9dC5faWRsZVRpbWVvdXQ7ZT49MCYmKHQuX2lkbGVUaW1lb3V0SWQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0Ll9vblRpbWVvdXQmJnQuX29uVGltZW91dCgpfSksZSkpfSxuKDYpLGUuc2V0SW1tZWRpYXRlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLnNldEltbWVkaWF0ZXx8dm9pZCAwIT09dCYmdC5zZXRJbW1lZGlhdGV8fHRoaXMmJnRoaXMuc2V0SW1tZWRpYXRlLGUuY2xlYXJJbW1lZGlhdGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuY2xlYXJJbW1lZGlhdGV8fHZvaWQgMCE9PXQmJnQuY2xlYXJJbW1lZGlhdGV8fHRoaXMmJnRoaXMuY2xlYXJJbW1lZGlhdGV9KS5jYWxsKHRoaXMsbigyKSl9LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24odCxlKXshZnVuY3Rpb24odCxuKXtcInVzZSBzdHJpY3RcIjtpZighdC5zZXRJbW1lZGlhdGUpe3ZhciByLGksbyxhLHMsdT0xLGM9e30sbD0hMSxoPXQuZG9jdW1lbnQscD1PYmplY3QuZ2V0UHJvdG90eXBlT2YmJk9iamVjdC5nZXRQcm90b3R5cGVPZih0KTtwPXAmJnAuc2V0VGltZW91dD9wOnQsXCJbb2JqZWN0IHByb2Nlc3NdXCI9PT17fS50b1N0cmluZy5jYWxsKHQucHJvY2Vzcyk/cj1mdW5jdGlvbih0KXtlLm5leHRUaWNrKChmdW5jdGlvbigpe2YodCl9KSl9OiFmdW5jdGlvbigpe2lmKHQucG9zdE1lc3NhZ2UmJiF0LmltcG9ydFNjcmlwdHMpe3ZhciBlPSEwLG49dC5vbm1lc3NhZ2U7cmV0dXJuIHQub25tZXNzYWdlPWZ1bmN0aW9uKCl7ZT0hMX0sdC5wb3N0TWVzc2FnZShcIlwiLFwiKlwiKSx0Lm9ubWVzc2FnZT1uLGV9fSgpP3QuTWVzc2FnZUNoYW5uZWw/KChvPW5ldyBNZXNzYWdlQ2hhbm5lbCkucG9ydDEub25tZXNzYWdlPWZ1bmN0aW9uKHQpe2YodC5kYXRhKX0scj1mdW5jdGlvbih0KXtvLnBvcnQyLnBvc3RNZXNzYWdlKHQpfSk6aCYmXCJvbnJlYWR5c3RhdGVjaGFuZ2VcImluIGguY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKT8oaT1oLmRvY3VtZW50RWxlbWVudCxyPWZ1bmN0aW9uKHQpe3ZhciBlPWguY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtlLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2YodCksZS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxpLnJlbW92ZUNoaWxkKGUpLGU9bnVsbH0saS5hcHBlbmRDaGlsZChlKX0pOnI9ZnVuY3Rpb24odCl7c2V0VGltZW91dChmLDAsdCl9OihhPVwic2V0SW1tZWRpYXRlJFwiK01hdGgucmFuZG9tKCkrXCIkXCIscz1mdW5jdGlvbihlKXtlLnNvdXJjZT09PXQmJlwic3RyaW5nXCI9PXR5cGVvZiBlLmRhdGEmJjA9PT1lLmRhdGEuaW5kZXhPZihhKSYmZigrZS5kYXRhLnNsaWNlKGEubGVuZ3RoKSl9LHQuYWRkRXZlbnRMaXN0ZW5lcj90LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIscywhMSk6dC5hdHRhY2hFdmVudChcIm9ubWVzc2FnZVwiLHMpLHI9ZnVuY3Rpb24oZSl7dC5wb3N0TWVzc2FnZShhK2UsXCIqXCIpfSkscC5zZXRJbW1lZGlhdGU9ZnVuY3Rpb24odCl7XCJmdW5jdGlvblwiIT10eXBlb2YgdCYmKHQ9bmV3IEZ1bmN0aW9uKFwiXCIrdCkpO2Zvcih2YXIgZT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKSxuPTA7bjxlLmxlbmd0aDtuKyspZVtuXT1hcmd1bWVudHNbbisxXTt2YXIgaT17Y2FsbGJhY2s6dCxhcmdzOmV9O3JldHVybiBjW3VdPWkscih1KSx1Kyt9LHAuY2xlYXJJbW1lZGlhdGU9ZH1mdW5jdGlvbiBkKHQpe2RlbGV0ZSBjW3RdfWZ1bmN0aW9uIGYodCl7aWYobClzZXRUaW1lb3V0KGYsMCx0KTtlbHNle3ZhciBlPWNbdF07aWYoZSl7bD0hMDt0cnl7IWZ1bmN0aW9uKHQpe3ZhciBlPXQuY2FsbGJhY2ssbj10LmFyZ3M7c3dpdGNoKG4ubGVuZ3RoKXtjYXNlIDA6ZSgpO2JyZWFrO2Nhc2UgMTplKG5bMF0pO2JyZWFrO2Nhc2UgMjplKG5bMF0sblsxXSk7YnJlYWs7Y2FzZSAzOmUoblswXSxuWzFdLG5bMl0pO2JyZWFrO2RlZmF1bHQ6ZS5hcHBseSh2b2lkIDAsbil9fShlKX1maW5hbGx5e2QodCksbD0hMX19fX19KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzZWxmP3ZvaWQgMD09PXQ/dGhpczp0OnNlbGYpfSkuY2FsbCh0aGlzLG4oMiksbig3KSl9LGZ1bmN0aW9uKHQsZSl7dmFyIG4scixpPXQuZXhwb3J0cz17fTtmdW5jdGlvbiBvKCl7dGhyb3cgbmV3IEVycm9yKFwic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBhKCl7dGhyb3cgbmV3IEVycm9yKFwiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIHModCl7aWYobj09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQodCwwKTtpZigobj09PW98fCFuKSYmc2V0VGltZW91dClyZXR1cm4gbj1zZXRUaW1lb3V0LHNldFRpbWVvdXQodCwwKTt0cnl7cmV0dXJuIG4odCwwKX1jYXRjaChlKXt0cnl7cmV0dXJuIG4uY2FsbChudWxsLHQsMCl9Y2F0Y2goZSl7cmV0dXJuIG4uY2FsbCh0aGlzLHQsMCl9fX0hZnVuY3Rpb24oKXt0cnl7bj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBzZXRUaW1lb3V0P3NldFRpbWVvdXQ6b31jYXRjaCh0KXtuPW99dHJ5e3I9XCJmdW5jdGlvblwiPT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDphfWNhdGNoKHQpe3I9YX19KCk7dmFyIHUsYz1bXSxsPSExLGg9LTE7ZnVuY3Rpb24gcCgpe2wmJnUmJihsPSExLHUubGVuZ3RoP2M9dS5jb25jYXQoYyk6aD0tMSxjLmxlbmd0aCYmZCgpKX1mdW5jdGlvbiBkKCl7aWYoIWwpe3ZhciB0PXMocCk7bD0hMDtmb3IodmFyIGU9Yy5sZW5ndGg7ZTspe2Zvcih1PWMsYz1bXTsrK2g8ZTspdSYmdVtoXS5ydW4oKTtoPS0xLGU9Yy5sZW5ndGh9dT1udWxsLGw9ITEsZnVuY3Rpb24odCl7aWYocj09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KHQpO2lmKChyPT09YXx8IXIpJiZjbGVhclRpbWVvdXQpcmV0dXJuIHI9Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dCh0KTt0cnl7cih0KX1jYXRjaChlKXt0cnl7cmV0dXJuIHIuY2FsbChudWxsLHQpfWNhdGNoKGUpe3JldHVybiByLmNhbGwodGhpcyx0KX19fSh0KX19ZnVuY3Rpb24gZih0LGUpe3RoaXMuZnVuPXQsdGhpcy5hcnJheT1lfWZ1bmN0aW9uIGcoKXt9aS5uZXh0VGljaz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllW24tMV09YXJndW1lbnRzW25dO2MucHVzaChuZXcgZih0LGUpKSwxIT09Yy5sZW5ndGh8fGx8fHMoZCl9LGYucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LGkudGl0bGU9XCJicm93c2VyXCIsaS5icm93c2VyPSEwLGkuZW52PXt9LGkuYXJndj1bXSxpLnZlcnNpb249XCJcIixpLnZlcnNpb25zPXt9LGkub249ZyxpLmFkZExpc3RlbmVyPWcsaS5vbmNlPWcsaS5vZmY9ZyxpLnJlbW92ZUxpc3RlbmVyPWcsaS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZyxpLmVtaXQ9ZyxpLnByZXBlbmRMaXN0ZW5lcj1nLGkucHJlcGVuZE9uY2VMaXN0ZW5lcj1nLGkubGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3JldHVybltdfSxpLmJpbmRpbmc9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LGkuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9LGkuY2hkaXI9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfSxpLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big5KTtmdW5jdGlvbiBpKCl7fWZ1bmN0aW9uIG8oKXt9by5yZXNldFdhcm5pbmdDYWNoZT1pLHQuZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4saSxvLGEpe2lmKGEhPT1yKXt2YXIgcz1uZXcgRXJyb3IoXCJDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiBVc2UgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCkgdG8gY2FsbCB0aGVtLiBSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzXCIpO3Rocm93IHMubmFtZT1cIkludmFyaWFudCBWaW9sYXRpb25cIixzfX1mdW5jdGlvbiBlKCl7cmV0dXJuIHR9dC5pc1JlcXVpcmVkPXQ7dmFyIG49e2FycmF5OnQsYm9vbDp0LGZ1bmM6dCxudW1iZXI6dCxvYmplY3Q6dCxzdHJpbmc6dCxzeW1ib2w6dCxhbnk6dCxhcnJheU9mOmUsZWxlbWVudDp0LGVsZW1lbnRUeXBlOnQsaW5zdGFuY2VPZjplLG5vZGU6dCxvYmplY3RPZjplLG9uZU9mOmUsb25lT2ZUeXBlOmUsc2hhcGU6ZSxleGFjdDplLGNoZWNrUHJvcFR5cGVzOm8scmVzZXRXYXJuaW5nQ2FjaGU6aX07cmV0dXJuIG4uUHJvcFR5cGVzPW4sbn19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9XCJTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRFwifSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMSk7XCJzdHJpbmdcIj09dHlwZW9mIHImJihyPVtbdC5pLHIsXCJcIl1dKTt2YXIgaT17aG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMTMpKHIsaSk7ci5sb2NhbHMmJih0LmV4cG9ydHM9ci5sb2NhbHMpfSxmdW5jdGlvbih0LGUsbil7KHQuZXhwb3J0cz1uKDEyKSghMSkpLnB1c2goW3QuaSwndHJpeC1lZGl0b3J7Ym9yZGVyOjFweCBzb2xpZCAjYmJiO2JvcmRlci1yYWRpdXM6M3B4O21hcmdpbjowO3BhZGRpbmc6MC40ZW0gMC42ZW07bWluLWhlaWdodDo1ZW07b3V0bGluZTpub25lfXRyaXgtdG9vbGJhciAqe2JveC1zaXppbmc6Ym9yZGVyLWJveH10cml4LXRvb2xiYXIgLnRyaXgtYnV0dG9uLXJvd3tkaXNwbGF5OmZsZXg7ZmxleC13cmFwOm5vd3JhcDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjtvdmVyZmxvdy14OmF1dG99dHJpeC10b29sYmFyIC50cml4LWJ1dHRvbi1ncm91cHtkaXNwbGF5OmZsZXg7bWFyZ2luLWJvdHRvbToxMHB4O2JvcmRlcjoxcHggc29saWQgI2JiYjtib3JkZXItdG9wLWNvbG9yOiNjY2M7Ym9yZGVyLWJvdHRvbS1jb2xvcjojODg4O2JvcmRlci1yYWRpdXM6M3B4fXRyaXgtdG9vbGJhciAudHJpeC1idXR0b24tZ3JvdXA6bm90KDpmaXJzdC1jaGlsZCl7bWFyZ2luLWxlZnQ6MS41dnd9QG1lZGlhIChtYXgtZGV2aWNlLXdpZHRoOiA3NjhweCl7dHJpeC10b29sYmFyIC50cml4LWJ1dHRvbi1ncm91cDpub3QoOmZpcnN0LWNoaWxkKXttYXJnaW4tbGVmdDowfX10cml4LXRvb2xiYXIgLnRyaXgtYnV0dG9uLWdyb3VwLXNwYWNlcntmbGV4LWdyb3c6MX1AbWVkaWEgKG1heC1kZXZpY2Utd2lkdGg6IDc2OHB4KXt0cml4LXRvb2xiYXIgLnRyaXgtYnV0dG9uLWdyb3VwLXNwYWNlcntkaXNwbGF5Om5vbmV9fXRyaXgtdG9vbGJhciAudHJpeC1idXR0b257cG9zaXRpb246cmVsYXRpdmU7ZmxvYXQ6bGVmdDtjb2xvcjpyZ2JhKDAsMCwwLDAuNik7Zm9udC1zaXplOjAuNzVlbTtmb250LXdlaWdodDo2MDA7d2hpdGUtc3BhY2U6bm93cmFwO3BhZGRpbmc6MCAwLjVlbTttYXJnaW46MDtvdXRsaW5lOm5vbmU7Ym9yZGVyOm5vbmU7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2RkZDtib3JkZXItcmFkaXVzOjA7YmFja2dyb3VuZDp0cmFuc3BhcmVudH10cml4LXRvb2xiYXIgLnRyaXgtYnV0dG9uOm5vdCg6Zmlyc3QtY2hpbGQpe2JvcmRlci1sZWZ0OjFweCBzb2xpZCAjY2NjfXRyaXgtdG9vbGJhciAudHJpeC1idXR0b24udHJpeC1hY3RpdmV7YmFja2dyb3VuZDojY2JlZWZhO2NvbG9yOmJsYWNrfXRyaXgtdG9vbGJhciAudHJpeC1idXR0b246bm90KDpkaXNhYmxlZCl7Y3Vyc29yOnBvaW50ZXJ9dHJpeC10b29sYmFyIC50cml4LWJ1dHRvbjpkaXNhYmxlZHtjb2xvcjpyZ2JhKDAsMCwwLDAuMTI1KX1AbWVkaWEgKG1heC1kZXZpY2Utd2lkdGg6IDc2OHB4KXt0cml4LXRvb2xiYXIgLnRyaXgtYnV0dG9ue2xldHRlci1zcGFjaW5nOi0wLjAxZW07cGFkZGluZzowIDAuM2VtfX10cml4LXRvb2xiYXIgLnRyaXgtYnV0dG9uLS1pY29ue2ZvbnQtc2l6ZTppbmhlcml0O3dpZHRoOjIuNmVtO2hlaWdodDoxLjZlbTttYXgtd2lkdGg6Y2FsYygwLjhlbSArIDR2dyk7dGV4dC1pbmRlbnQ6LTk5OTlweH1AbWVkaWEgKG1heC1kZXZpY2Utd2lkdGg6IDc2OHB4KXt0cml4LXRvb2xiYXIgLnRyaXgtYnV0dG9uLS1pY29ue2hlaWdodDoyZW07bWF4LXdpZHRoOmNhbGMoMC44ZW0gKyAzLjV2dyl9fXRyaXgtdG9vbGJhciAudHJpeC1idXR0b24tLWljb246OmJlZm9yZXtkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtyaWdodDowO2JvdHRvbTowO2xlZnQ6MDtvcGFjaXR5OjAuNjtjb250ZW50OlwiXCI7YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXI7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtc2l6ZTpjb250YWlufUBtZWRpYSAobWF4LWRldmljZS13aWR0aDogNzY4cHgpe3RyaXgtdG9vbGJhciAudHJpeC1idXR0b24tLWljb246OmJlZm9yZXtyaWdodDo2JTtsZWZ0OjYlfX10cml4LXRvb2xiYXIgLnRyaXgtYnV0dG9uLS1pY29uLnRyaXgtYWN0aXZlOjpiZWZvcmV7b3BhY2l0eToxfXRyaXgtdG9vbGJhciAudHJpeC1idXR0b24tLWljb246ZGlzYWJsZWQ6OmJlZm9yZXtvcGFjaXR5OjAuMTI1fXRyaXgtdG9vbGJhciAudHJpeC1idXR0b24tLWljb24tYXR0YWNoOjpiZWZvcmV7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjIyNCUyMiUyMGhlaWdodCUzRCUyMjI0JTIyJTNFJTNDcGF0aCUyMGQlM0QlMjJNMTYuNSUyMDZ2MTEuNWE0JTIwNCUyMDAlMjAxJTIwMS04JTIwMFY1YTIuNSUyMDIuNSUyMDAlMjAwJTIwMSUyMDUlMjAwdjEwLjVhMSUyMDElMjAwJTIwMSUyMDEtMiUyMDBWNkgxMHY5LjVhMi41JTIwMi41JTIwMCUyMDAlMjAwJTIwNSUyMDBWNWE0JTIwNCUyMDAlMjAxJTIwMC04JTIwMHYxMi41YTUuNSUyMDUuNSUyMDAlMjAwJTIwMCUyMDExJTIwMFY2aC0xLjV6JTIyJTJGJTNFJTNDJTJGc3ZnJTNFKTt0b3A6OCU7Ym90dG9tOjQlfXRyaXgtdG9vbGJhciAudHJpeC1idXR0b24tLWljb24tYm9sZDo6YmVmb3Jle2JhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmclMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyMjQlMjIlMjBoZWlnaHQlM0QlMjIyNCUyMiUzRSUzQ3BhdGglMjBkJTNEJTIyTTE1LjYlMjAxMS44YzEtLjclMjAxLjYtMS44JTIwMS42LTIuOGE0JTIwNCUyMDAlMjAwJTIwMC00LTRIN3YxNGg3YzIuMSUyMDAlMjAzLjctMS43JTIwMy43LTMuOCUyMDAtMS41LS44LTIuOC0yLjEtMy40ek0xMCUyMDcuNWgzYTEuNSUyMDEuNSUyMDAlMjAxJTIwMSUyMDAlMjAzaC0zdi0zem0zLjUlMjA5SDEwdi0zaDMuNWExLjUlMjAxLjUlMjAwJTIwMSUyMDElMjAwJTIwM3olMjIlMkYlM0UlM0MlMkZzdmclM0UpfXRyaXgtdG9vbGJhciAudHJpeC1idXR0b24tLWljb24taXRhbGljOjpiZWZvcmV7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjIyNCUyMiUyMGhlaWdodCUzRCUyMjI0JTIyJTNFJTNDcGF0aCUyMGQlM0QlMjJNMTAlMjA1djNoMi4ybC0zLjQlMjA4SDZ2M2g4di0zaC0yLjJsMy40LThIMThWNWgtOHolMjIlMkYlM0UlM0MlMkZzdmclM0UpfXRyaXgtdG9vbGJhciAudHJpeC1idXR0b24tLWljb24tbGluazo6YmVmb3Jle2JhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmclMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyMjQlMjIlMjBoZWlnaHQlM0QlMjIyNCUyMiUzRSUzQ3BhdGglMjBkJTNEJTIyTTkuODglMjAxMy43YTQuMyUyMDQuMyUyMDAlMjAwJTIwMSUyMDAtNi4wN2wzLjM3LTMuMzdhNC4yNiUyMDQuMjYlMjAwJTIwMCUyMDElMjA2LjA3JTIwMCUyMDQuMyUyMDQuMyUyMDAlMjAwJTIwMSUyMDAlMjA2LjA2bC0xLjk2JTIwMS43MmEuOTEuOTElMjAwJTIwMSUyMDEtMS4zLTEuM2wxLjk3LTEuNzFhMi40NiUyMDIuNDYlMjAwJTIwMCUyMDAtMy40OC0zLjQ4bC0zLjM4JTIwMy4zN2EyLjQ2JTIwMi40NiUyMDAlMjAwJTIwMCUyMDAlMjAzLjQ4LjkxLjkxJTIwMCUyMDElMjAxLTEuMyUyMDEuM3olMjIlMkYlM0UlM0NwYXRoJTIwZCUzRCUyMk00LjI1JTIwMTkuNDZhNC4zJTIwNC4zJTIwMCUyMDAlMjAxJTIwMC02LjA3bDEuOTMtMS45YS45MS45MSUyMDAlMjAxJTIwMSUyMDEuMyUyMDEuM2wtMS45MyUyMDEuOWEyLjQ2JTIwMi40NiUyMDAlMjAwJTIwMCUyMDMuNDglMjAzLjQ4bDMuMzctMy4zOGMuOTYtLjk2Ljk2LTIuNTIlMjAwLTMuNDhhLjkxLjkxJTIwMCUyMDElMjAxJTIwMS4zLTEuMyUyMDQuMyUyMDQuMyUyMDAlMjAwJTIwMSUyMDAlMjA2LjA3bC0zLjM4JTIwMy4zOGE0LjI2JTIwNC4yNiUyMDAlMjAwJTIwMS02LjA3JTIwMHolMjIlMkYlM0UlM0MlMkZzdmclM0UpfXRyaXgtdG9vbGJhciAudHJpeC1idXR0b24tLWljb24tc3RyaWtlOjpiZWZvcmV7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjIyNCUyMiUyMGhlaWdodCUzRCUyMjI0JTIyJTNFJTNDcGF0aCUyMGQlM0QlMjJNMTIuNzMlMjAxNGwuMjguMTRjLjI2LjE1LjQ1LjMuNTcuNDQuMTIuMTQuMTguMy4xOC41JTIwMCUyMC4zLS4xNS41Ni0uNDQuNzUtLjMuMi0uNzYuMy0xLjM5LjNBMTMuNTIlMjAxMy41MiUyMDAlMjAwJTIwMSUyMDclMjAxNC45NXYzLjM3YTEwLjY0JTIwMTAuNjQlMjAwJTIwMCUyMDAlMjA0Ljg0Ljg4YzEuMjYlMjAwJTIwMi4zNS0uMTklMjAzLjI4LS41Ni45My0uMzclMjAxLjY0LS45JTIwMi4xNC0xLjU3cy43NC0xLjQ1Ljc0LTIuMzJjMC0uMjYtLjAyLS41MS0uMDYtLjc1aC01LjIxem0tNS41LTRjLS4wOC0uMzQtLjEyLS43LS4xMi0xLjElMjAwLTEuMjkuNTItMi4zJTIwMS41OC0zLjAyJTIwMS4wNS0uNzIlMjAyLjUtMS4wOCUyMDQuMzQtMS4wOCUyMDEuNjIlMjAwJTIwMy4yOC4zNCUyMDQuOTclMjAxbC0xLjMlMjAyLjkzYy0xLjQ3LS42LTIuNzMtLjktMy44LS45LS41NSUyMDAtLjk2LjA4LTEuMi4yNi0uMjYuMTctLjM4LjM4LS4zOC42NCUyMDAlMjAuMjcuMTYuNTIuNDguNzQuMTcuMTIuNTMuMyUyMDEuMDUuNTNINy4yM3pNMyUyMDEzaDE4di0ySDN2MnolMjIlMkYlM0UlM0MlMkZzdmclM0UpfXRyaXgtdG9vbGJhciAudHJpeC1idXR0b24tLWljb24tcXVvdGU6OmJlZm9yZXtiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIwdmVyc2lvbiUzRCUyMjElMjIlMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyMjQlMjIlMjBoZWlnaHQlM0QlMjIyNCUyMiUzRSUzQ3BhdGglMjBkJTNEJTIyTTYlMjAxN2gzbDItNFY3SDV2Nmgzem04JTIwMGgzbDItNFY3aC02djZoM3olMjIlMkYlM0UlM0MlMkZzdmclM0UpfXRyaXgtdG9vbGJhciAudHJpeC1idXR0b24tLWljb24taGVhZGluZy0xOjpiZWZvcmV7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHZlcnNpb24lM0QlMjIxJTIyJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB3aWR0aCUzRCUyMjI0JTIyJTIwaGVpZ2h0JTNEJTIyMjQlMjIlM0UlM0NwYXRoJTIwZCUzRCUyMk0xMiUyMDl2M0g5djdINnYtN0gzVjloOXpNOCUyMDRoMTR2M2gtNnYxMmgtM1Y3SDhWNHolMjIlMkYlM0UlM0MlMkZzdmclM0UpfXRyaXgtdG9vbGJhciAudHJpeC1idXR0b24tLWljb24tY29kZTo6YmVmb3Jle2JhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmclMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyMjQlMjIlMjBoZWlnaHQlM0QlMjIyNCUyMiUzRSUzQ3BhdGglMjBkJTNEJTIyTTE4LjIlMjAxMkwxNSUyMDE1LjJsMS40JTIwMS40TDIxJTIwMTJsLTQuNi00LjZMMTUlMjA4LjhsMy4yJTIwMy4yek01LjglMjAxMkw5JTIwOC44JTIwNy42JTIwNy40JTIwMyUyMDEybDQuNiUyMDQuNkw5JTIwMTUuMiUyMDUuOCUyMDEyeiUyMiUyRiUzRSUzQyUyRnN2ZyUzRSl9dHJpeC10b29sYmFyIC50cml4LWJ1dHRvbi0taWNvbi1idWxsZXQtbGlzdDo6YmVmb3Jle2JhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmclMjB2ZXJzaW9uJTNEJTIyMSUyMiUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjIyNCUyMiUyMGhlaWdodCUzRCUyMjI0JTIyJTNFJTNDcGF0aCUyMGQlM0QlMjJNNCUyMDRhMiUyMDIlMjAwJTIwMSUyMDAlMjAwJTIwNCUyMDIlMjAyJTIwMCUyMDAlMjAwJTIwMC00em0wJTIwNmEyJTIwMiUyMDAlMjAxJTIwMCUyMDAlMjA0JTIwMiUyMDIlMjAwJTIwMCUyMDAlMjAwLTR6bTAlMjA2YTIlMjAyJTIwMCUyMDElMjAwJTIwMCUyMDQlMjAyJTIwMiUyMDAlMjAwJTIwMCUyMDAtNHptNCUyMDNoMTR2LTJIOHYyem0wLTZoMTR2LTJIOHYyem0wLTh2MmgxNFY1SDh6JTIyJTJGJTNFJTNDJTJGc3ZnJTNFKX10cml4LXRvb2xiYXIgLnRyaXgtYnV0dG9uLS1pY29uLW51bWJlci1saXN0OjpiZWZvcmV7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjIyNCUyMiUyMGhlaWdodCUzRCUyMjI0JTIyJTNFJTNDcGF0aCUyMGQlM0QlMjJNMiUyMDE3aDJ2LjVIM3YxaDF2LjVIMnYxaDN2LTRIMnYxem0xLTloMVY0SDJ2MWgxdjN6bS0xJTIwM2gxLjhMMiUyMDEzLjF2LjloM3YtMUgzLjJMNSUyMDEwLjlWMTBIMnYxem01LTZ2MmgxNFY1SDd6bTAlMjAxNGgxNHYtMkg3djJ6bTAtNmgxNHYtMkg3djJ6JTIyJTJGJTNFJTNDJTJGc3ZnJTNFKX10cml4LXRvb2xiYXIgLnRyaXgtYnV0dG9uLS1pY29uLXVuZG86OmJlZm9yZXtiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB3aWR0aCUzRCUyMjI0JTIyJTIwaGVpZ2h0JTNEJTIyMjQlMjIlM0UlM0NwYXRoJTIwZCUzRCUyMk0xMi41JTIwOGMtMi42JTIwMC01JTIwMS02LjklMjAyLjZMMiUyMDd2OWg5bC0zLjYtMy42QTglMjA4JTIwMCUyMDAlMjAxJTIwMjAlMjAxNmwyLjQtLjhhMTAuNSUyMDEwLjUlMjAwJTIwMCUyMDAtMTAtNy4yeiUyMiUyRiUzRSUzQyUyRnN2ZyUzRSl9dHJpeC10b29sYmFyIC50cml4LWJ1dHRvbi0taWNvbi1yZWRvOjpiZWZvcmV7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjIyNCUyMiUyMGhlaWdodCUzRCUyMjI0JTIyJTNFJTNDcGF0aCUyMGQlM0QlMjJNMTguNCUyMDEwLjZhMTAuNSUyMDEwLjUlMjAwJTIwMCUyMDAtMTYuOSUyMDQuNkw0JTIwMTZhOCUyMDglMjAwJTIwMCUyMDElMjAxMi43LTMuNkwxMyUyMDE2aDlWN2wtMy42JTIwMy42eiUyMiUyRiUzRSUzQyUyRnN2ZyUzRSl9dHJpeC10b29sYmFyIC50cml4LWJ1dHRvbi0taWNvbi1kZWNyZWFzZS1uZXN0aW5nLWxldmVsOjpiZWZvcmV7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIwd2lkdGglM0QlMjIyNCUyMiUyMGhlaWdodCUzRCUyMjI0JTIyJTNFJTNDcGF0aCUyMGQlM0QlMjJNMyUyMDE5aDE5di0ySDN2MnptNy02aDEydi0ySDEwdjJ6bS04LjMtLjNsMi44JTIwMi45TDYlMjAxNC4yJTIwNCUyMDEybDItMi0xLjQtMS41TDElMjAxMmwuNy43ek0zJTIwNXYyaDE5VjVIM3olMjIlMkYlM0UlM0MlMkZzdmclM0UpfXRyaXgtdG9vbGJhciAudHJpeC1idXR0b24tLWljb24taW5jcmVhc2UtbmVzdGluZy1sZXZlbDo6YmVmb3Jle2JhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmclMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyMjQlMjIlMjBoZWlnaHQlM0QlMjIyNCUyMiUzRSUzQ3BhdGglMjBkJTNEJTIyTTMlMjAxOWgxOXYtMkgzdjJ6bTctNmgxMnYtMkgxMHYyem0tNi45LTFMMSUyMDE0LjJsMS40JTIwMS40TDYlMjAxMmwtLjctLjctMi44LTIuOEwxJTIwOS45JTIwMy4xJTIwMTJ6TTMlMjA1djJoMTlWNUgzeiUyMiUyRiUzRSUzQyUyRnN2ZyUzRSl9dHJpeC10b29sYmFyIC50cml4LWRpYWxvZ3N7cG9zaXRpb246cmVsYXRpdmV9dHJpeC10b29sYmFyIC50cml4LWRpYWxvZ3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDtmb250LXNpemU6MC43NWVtO3BhZGRpbmc6MTVweCAxMHB4O2JhY2tncm91bmQ6I2ZmZjtib3gtc2hhZG93OjAgMC4zZW0gMWVtICNjY2M7Ym9yZGVyLXRvcDoycHggc29saWQgIzg4ODtib3JkZXItcmFkaXVzOjVweDt6LWluZGV4OjV9dHJpeC10b29sYmFyIC50cml4LWlucHV0LS1kaWFsb2d7Zm9udC1zaXplOmluaGVyaXQ7Zm9udC13ZWlnaHQ6bm9ybWFsO3BhZGRpbmc6MC41ZW0gMC44ZW07bWFyZ2luOjAgMTBweCAwIDA7Ym9yZGVyLXJhZGl1czozcHg7Ym9yZGVyOjFweCBzb2xpZCAjYmJiO2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3gtc2hhZG93Om5vbmU7b3V0bGluZTpub25lOy13ZWJraXQtYXBwZWFyYW5jZTpub25lOy1tb3otYXBwZWFyYW5jZTpub25lfXRyaXgtdG9vbGJhciAudHJpeC1pbnB1dC0tZGlhbG9nLnZhbGlkYXRlOmludmFsaWR7Ym94LXNoYWRvdzojRjAwIDBweCAwcHggMS41cHggMXB4fXRyaXgtdG9vbGJhciAudHJpeC1idXR0b24tLWRpYWxvZ3tmb250LXNpemU6aW5oZXJpdDtwYWRkaW5nOjAuNWVtO2JvcmRlci1ib3R0b206bm9uZX10cml4LXRvb2xiYXIgLnRyaXgtZGlhbG9nLS1saW5re21heC13aWR0aDo2MDBweH10cml4LXRvb2xiYXIgLnRyaXgtZGlhbG9nX19saW5rLWZpZWxkc3tkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6YmFzZWxpbmV9dHJpeC10b29sYmFyIC50cml4LWRpYWxvZ19fbGluay1maWVsZHMgLnRyaXgtaW5wdXR7ZmxleDoxfXRyaXgtdG9vbGJhciAudHJpeC1kaWFsb2dfX2xpbmstZmllbGRzIC50cml4LWJ1dHRvbi1ncm91cHtmbGV4OjAgMCBjb250ZW50O21hcmdpbjowfXRyaXgtZWRpdG9yIFtkYXRhLXRyaXgtbXV0YWJsZV06bm90KC5hdHRhY2htZW50X19jYXB0aW9uLWVkaXRvcil7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfXRyaXgtZWRpdG9yIFtkYXRhLXRyaXgtbXV0YWJsZV06Oi1tb3otc2VsZWN0aW9uLHRyaXgtZWRpdG9yIFtkYXRhLXRyaXgtY3Vyc29yLXRhcmdldF06Oi1tb3otc2VsZWN0aW9uLHRyaXgtZWRpdG9yIFtkYXRhLXRyaXgtbXV0YWJsZV0gOjotbW96LXNlbGVjdGlvbntiYWNrZ3JvdW5kOm5vbmV9dHJpeC1lZGl0b3IgW2RhdGEtdHJpeC1tdXRhYmxlXTo6c2VsZWN0aW9uLHRyaXgtZWRpdG9yIFtkYXRhLXRyaXgtY3Vyc29yLXRhcmdldF06OnNlbGVjdGlvbix0cml4LWVkaXRvciBbZGF0YS10cml4LW11dGFibGVdIDo6c2VsZWN0aW9ue2JhY2tncm91bmQ6bm9uZX10cml4LWVkaXRvciBbZGF0YS10cml4LW11dGFibGVdLmF0dGFjaG1lbnRfX2NhcHRpb24tZWRpdG9yOmZvY3VzOjotbW96LXNlbGVjdGlvbntiYWNrZ3JvdW5kOmhpZ2hsaWdodH10cml4LWVkaXRvciBbZGF0YS10cml4LW11dGFibGVdLmF0dGFjaG1lbnRfX2NhcHRpb24tZWRpdG9yOmZvY3VzOjpzZWxlY3Rpb257YmFja2dyb3VuZDpoaWdobGlnaHR9dHJpeC1lZGl0b3IgW2RhdGEtdHJpeC1tdXRhYmxlXS5hdHRhY2htZW50LmF0dGFjaG1lbnQtLWZpbGV7Ym94LXNoYWRvdzowIDAgMCAycHggaGlnaGxpZ2h0O2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudH10cml4LWVkaXRvciBbZGF0YS10cml4LW11dGFibGVdLmF0dGFjaG1lbnQgaW1ne2JveC1zaGFkb3c6MCAwIDAgMnB4IGhpZ2hsaWdodH10cml4LWVkaXRvciAuYXR0YWNobWVudHtwb3NpdGlvbjpyZWxhdGl2ZX10cml4LWVkaXRvciAuYXR0YWNobWVudDpob3ZlcntjdXJzb3I6ZGVmYXVsdH10cml4LWVkaXRvciAuYXR0YWNobWVudC0tcHJldmlldyAuYXR0YWNobWVudF9fY2FwdGlvbjpob3ZlcntjdXJzb3I6dGV4dH10cml4LWVkaXRvciAuYXR0YWNobWVudF9fcHJvZ3Jlc3N7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxO2hlaWdodDoyMHB4O3RvcDpjYWxjKDUwJSAtIDEwcHgpO2xlZnQ6NSU7d2lkdGg6OTAlO29wYWNpdHk6MC45O3RyYW5zaXRpb246b3BhY2l0eSAyMDBtcyBlYXNlLWlufXRyaXgtZWRpdG9yIC5hdHRhY2htZW50X19wcm9ncmVzc1t2YWx1ZT1cIjEwMFwiXXtvcGFjaXR5OjB9dHJpeC1lZGl0b3IgLmF0dGFjaG1lbnRfX2NhcHRpb24tZWRpdG9ye2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjEwMCU7bWFyZ2luOjA7cGFkZGluZzowO2ZvbnQtc2l6ZTppbmhlcml0O2ZvbnQtZmFtaWx5OmluaGVyaXQ7bGluZS1oZWlnaHQ6aW5oZXJpdDtjb2xvcjppbmhlcml0O3RleHQtYWxpZ246Y2VudGVyO3ZlcnRpY2FsLWFsaWduOnRvcDtib3JkZXI6bm9uZTtvdXRsaW5lOm5vbmU7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7LW1vei1hcHBlYXJhbmNlOm5vbmV9dHJpeC1lZGl0b3IgLmF0dGFjaG1lbnRfX3Rvb2xiYXJ7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxO3RvcDotMC45ZW07bGVmdDowO3dpZHRoOjEwMCU7dGV4dC1hbGlnbjpjZW50ZXJ9dHJpeC1lZGl0b3IgLnRyaXgtYnV0dG9uLWdyb3Vwe2Rpc3BsYXk6aW5saW5lLWZsZXh9dHJpeC1lZGl0b3IgLnRyaXgtYnV0dG9ue3Bvc2l0aW9uOnJlbGF0aXZlO2Zsb2F0OmxlZnQ7Y29sb3I6IzY2Njt3aGl0ZS1zcGFjZTpub3dyYXA7Zm9udC1zaXplOjgwJTtwYWRkaW5nOjAgMC44ZW07bWFyZ2luOjA7b3V0bGluZTpub25lO2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6MDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50fXRyaXgtZWRpdG9yIC50cml4LWJ1dHRvbjpub3QoOmZpcnN0LWNoaWxkKXtib3JkZXItbGVmdDoxcHggc29saWQgI2NjY310cml4LWVkaXRvciAudHJpeC1idXR0b24udHJpeC1hY3RpdmV7YmFja2dyb3VuZDojY2JlZWZhfXRyaXgtZWRpdG9yIC50cml4LWJ1dHRvbjpub3QoOmRpc2FibGVkKXtjdXJzb3I6cG9pbnRlcn10cml4LWVkaXRvciAudHJpeC1idXR0b24tLXJlbW92ZXt0ZXh0LWluZGVudDotOTk5OXB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3BhZGRpbmc6MDtvdXRsaW5lOm5vbmU7d2lkdGg6MS44ZW07aGVpZ2h0OjEuOGVtO2xpbmUtaGVpZ2h0OjEuOGVtO2JvcmRlci1yYWRpdXM6NTAlO2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXI6MnB4IHNvbGlkIGhpZ2hsaWdodDtib3gtc2hhZG93OjFweCAxcHggNnB4IHJnYmEoMCwwLDAsMC4yNSl9dHJpeC1lZGl0b3IgLnRyaXgtYnV0dG9uLS1yZW1vdmU6OmJlZm9yZXtkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtyaWdodDowO2JvdHRvbTowO2xlZnQ6MDtvcGFjaXR5OjAuNztjb250ZW50OlwiXCI7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMGhlaWdodCUzRCUyMjI0JTIyJTIwd2lkdGglM0QlMjIyNCUyMiUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTNFJTNDcGF0aCUyMGQlM0QlMjJNMTklMjA2LjRMMTcuNiUyMDUlMjAxMiUyMDEwLjYlMjA2LjQlMjA1JTIwNSUyMDYuNGw1LjYlMjA1LjZMNSUyMDE3LjYlMjA2LjQlMjAxOWw1LjYtNS42JTIwNS42JTIwNS42JTIwMS40LTEuNC01LjYtNS42eiUyMiUyRiUzRSUzQ3BhdGglMjBkJTNEJTIyTTAlMjAwaDI0djI0SDB6JTIyJTIwZmlsbCUzRCUyMm5vbmUlMjIlMkYlM0UlM0MlMkZzdmclM0UpO2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXNpemU6OTAlfXRyaXgtZWRpdG9yIC50cml4LWJ1dHRvbi0tcmVtb3ZlOmhvdmVye2JvcmRlci1jb2xvcjojMzMzfXRyaXgtZWRpdG9yIC50cml4LWJ1dHRvbi0tcmVtb3ZlOmhvdmVyOjpiZWZvcmV7b3BhY2l0eToxfXRyaXgtZWRpdG9yIC5hdHRhY2htZW50X19tZXRhZGF0YS1jb250YWluZXJ7cG9zaXRpb246cmVsYXRpdmV9dHJpeC1lZGl0b3IgLmF0dGFjaG1lbnRfX21ldGFkYXRhe3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO3RvcDoyZW07dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLCAwKTttYXgtd2lkdGg6OTAlO3BhZGRpbmc6MC4xZW0gMC42ZW07Zm9udC1zaXplOjAuOGVtO2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLDAuNyk7Ym9yZGVyLXJhZGl1czozcHh9dHJpeC1lZGl0b3IgLmF0dGFjaG1lbnRfX21ldGFkYXRhIC5hdHRhY2htZW50X19uYW1le2Rpc3BsYXk6aW5saW5lLWJsb2NrO21heC13aWR0aDoxMDAlO3ZlcnRpY2FsLWFsaWduOmJvdHRvbTtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpczt3aGl0ZS1zcGFjZTpub3dyYXB9dHJpeC1lZGl0b3IgLmF0dGFjaG1lbnRfX21ldGFkYXRhIC5hdHRhY2htZW50X19zaXple21hcmdpbi1sZWZ0OjAuMmVtO3doaXRlLXNwYWNlOm5vd3JhcH0udHJpeC1jb250ZW50e2xpbmUtaGVpZ2h0OjEuNX0udHJpeC1jb250ZW50ICp7Ym94LXNpemluZzpib3JkZXItYm94fS50cml4LWNvbnRlbnQgaDF7Zm9udC1zaXplOjEuMmVtO2xpbmUtaGVpZ2h0OjEuMjttYXJnaW46MH0udHJpeC1jb250ZW50IGJsb2NrcXVvdGV7bWFyZ2luOjAgMCAwIDAuM2VtO3BhZGRpbmc6MCAwIDAgMC42ZW07Ym9yZGVyLWxlZnQ6MC4zZW0gc29saWQgI2NjY30udHJpeC1jb250ZW50IHByZXtkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDoxMDAlO3ZlcnRpY2FsLWFsaWduOnRvcDtmb250LWZhbWlseTptb25vc3BhY2U7Zm9udC1zaXplOjAuOWVtO21hcmdpbjowO3BhZGRpbmc6MC41ZW07d2hpdGUtc3BhY2U6cHJlO2JhY2tncm91bmQtY29sb3I6I2VlZTtvdmVyZmxvdy14OmF1dG99LnRyaXgtY29udGVudCB1bCwudHJpeC1jb250ZW50IG9sLC50cml4LWNvbnRlbnQgbGl7bWFyZ2luOjA7cGFkZGluZzowfS50cml4LWNvbnRlbnQgdWwgbGksLnRyaXgtY29udGVudCBvbCBsaSwudHJpeC1jb250ZW50IGxpIGxpe21hcmdpbi1sZWZ0OjFlbX0udHJpeC1jb250ZW50IGltZ3ttYXgtd2lkdGg6MTAwJTtoZWlnaHQ6YXV0b30udHJpeC1jb250ZW50IC5hdHRhY2htZW50e2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO21heC13aWR0aDoxMDAlO21hcmdpbjowO3BhZGRpbmc6MH0udHJpeC1jb250ZW50IC5hdHRhY2htZW50IGF7Y29sb3I6aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246bm9uZX0udHJpeC1jb250ZW50IC5hdHRhY2htZW50IGE6aG92ZXIsLnRyaXgtY29udGVudCAuYXR0YWNobWVudCBhOnZpc2l0ZWQ6aG92ZXJ7Y29sb3I6aW5oZXJpdH0udHJpeC1jb250ZW50IC5hdHRhY2htZW50X19jYXB0aW9ue3BhZGRpbmc6MDt0ZXh0LWFsaWduOmNlbnRlcn0udHJpeC1jb250ZW50IC5hdHRhY2htZW50X19jYXB0aW9uIC5hdHRhY2htZW50X19uYW1lKy5hdHRhY2htZW50X19zaXplOjpiZWZvcmV7Y29udGVudDpcXCcgXFxcXEI3ICAgXFwnfS50cml4LWNvbnRlbnQgLmF0dGFjaG1lbnQtLXByZXZpZXd7d2lkdGg6MTAwJTt0ZXh0LWFsaWduOmNlbnRlcn0udHJpeC1jb250ZW50IC5hdHRhY2htZW50LS1wcmV2aWV3IC5hdHRhY2htZW50X19jYXB0aW9ue2NvbG9yOiM2NjY7Zm9udC1zaXplOjAuOWVtO2xpbmUtaGVpZ2h0OjEuMn0udHJpeC1jb250ZW50IC5hdHRhY2htZW50LS1maWxle2NvbG9yOiMzMzM7bGluZS1oZWlnaHQ6MTttYXJnaW46MCAycHggMnB4IDA7cGFkZGluZzowLjRlbSAxZW07Ym9yZGVyOjFweCBzb2xpZCAjYmJiO2JvcmRlci1yYWRpdXM6NXB4fS50cml4LWNvbnRlbnQgLmF0dGFjaG1lbnQtZ2FsbGVyeXtkaXNwbGF5OmZsZXg7ZmxleC13cmFwOndyYXA7cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luOjA7cGFkZGluZzowfS50cml4LWNvbnRlbnQgLmF0dGFjaG1lbnQtZ2FsbGVyeSAuYXR0YWNobWVudHtmbGV4OjEgMCAzMyU7cGFkZGluZzowIDAuNWVtO21heC13aWR0aDozMyV9LnRyaXgtY29udGVudCAuYXR0YWNobWVudC1nYWxsZXJ5LmF0dGFjaG1lbnQtZ2FsbGVyeS0tMiAuYXR0YWNobWVudCwudHJpeC1jb250ZW50IC5hdHRhY2htZW50LWdhbGxlcnkuYXR0YWNobWVudC1nYWxsZXJ5LS00IC5hdHRhY2htZW50e2ZsZXgtYmFzaXM6NTAlO21heC13aWR0aDo1MCV9XFxuJyxcIlwiXSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKChmdW5jdGlvbihlKXt2YXIgbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRbMV18fFwiXCIscj10WzNdO2lmKCFyKXJldHVybiBuO2lmKGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGJ0b2Epe3ZhciBpPShhPXIsXCIvKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIrYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoYSkpKSkrXCIgKi9cIiksbz1yLnNvdXJjZXMubWFwKChmdW5jdGlvbih0KXtyZXR1cm5cIi8qIyBzb3VyY2VVUkw9XCIrci5zb3VyY2VSb290K3QrXCIgKi9cIn0pKTtyZXR1cm5bbl0uY29uY2F0KG8pLmNvbmNhdChbaV0pLmpvaW4oXCJcXG5cIil9dmFyIGE7cmV0dXJuW25dLmpvaW4oXCJcXG5cIil9KGUsdCk7cmV0dXJuIGVbMl0/XCJAbWVkaWEgXCIrZVsyXStcIntcIituK1wifVwiOm59KSkuam9pbihcIlwiKX0sZS5pPWZ1bmN0aW9uKHQsbil7XCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PVtbbnVsbCx0LFwiXCJdXSk7Zm9yKHZhciByPXt9LGk9MDtpPHRoaXMubGVuZ3RoO2krKyl7dmFyIG89dGhpc1tpXVswXTtcIm51bWJlclwiPT10eXBlb2YgbyYmKHJbb109ITApfWZvcihpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBhPXRbaV07XCJudW1iZXJcIj09dHlwZW9mIGFbMF0mJnJbYVswXV18fChuJiYhYVsyXT9hWzJdPW46biYmKGFbMl09XCIoXCIrYVsyXStcIikgYW5kIChcIituK1wiKVwiKSxlLnB1c2goYSkpfX0sZX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpLG89e30sYT0ocj1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cmJmRvY3VtZW50JiZkb2N1bWVudC5hbGwmJiF3aW5kb3cuYXRvYn0sZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9ci5hcHBseSh0aGlzLGFyZ3VtZW50cykpLGl9KSxzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/ZS5xdWVyeVNlbGVjdG9yKHQpOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodCl9LHU9ZnVuY3Rpb24odCl7dmFyIGU9e307cmV0dXJuIGZ1bmN0aW9uKHQsbil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdClyZXR1cm4gdCgpO2lmKHZvaWQgMD09PWVbdF0pe3ZhciByPXMuY2FsbCh0aGlzLHQsbik7aWYod2luZG93LkhUTUxJRnJhbWVFbGVtZW50JiZyIGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KXRyeXtyPXIuY29udGVudERvY3VtZW50LmhlYWR9Y2F0Y2godCl7cj1udWxsfWVbdF09cn1yZXR1cm4gZVt0XX19KCksYz1udWxsLGw9MCxoPVtdLHA9bigxNCk7ZnVuY3Rpb24gZCh0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dLGk9b1tyLmlkXTtpZihpKXtpLnJlZnMrKztmb3IodmFyIGE9MDthPGkucGFydHMubGVuZ3RoO2ErKylpLnBhcnRzW2FdKHIucGFydHNbYV0pO2Zvcig7YTxyLnBhcnRzLmxlbmd0aDthKyspaS5wYXJ0cy5wdXNoKGIoci5wYXJ0c1thXSxlKSl9ZWxzZXt2YXIgcz1bXTtmb3IoYT0wO2E8ci5wYXJ0cy5sZW5ndGg7YSsrKXMucHVzaChiKHIucGFydHNbYV0sZSkpO29bci5pZF09e2lkOnIuaWQscmVmczoxLHBhcnRzOnN9fX19ZnVuY3Rpb24gZih0LGUpe2Zvcih2YXIgbj1bXSxyPXt9LGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG89dFtpXSxhPWUuYmFzZT9vWzBdK2UuYmFzZTpvWzBdLHM9e2NzczpvWzFdLG1lZGlhOm9bMl0sc291cmNlTWFwOm9bM119O3JbYV0/clthXS5wYXJ0cy5wdXNoKHMpOm4ucHVzaChyW2FdPXtpZDphLHBhcnRzOltzXX0pfXJldHVybiBufWZ1bmN0aW9uIGcodCxlKXt2YXIgbj11KHQuaW5zZXJ0SW50byk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7dmFyIHI9aFtoLmxlbmd0aC0xXTtpZihcInRvcFwiPT09dC5pbnNlcnRBdClyP3IubmV4dFNpYmxpbmc/bi5pbnNlcnRCZWZvcmUoZSxyLm5leHRTaWJsaW5nKTpuLmFwcGVuZENoaWxkKGUpOm4uaW5zZXJ0QmVmb3JlKGUsbi5maXJzdENoaWxkKSxoLnB1c2goZSk7ZWxzZSBpZihcImJvdHRvbVwiPT09dC5pbnNlcnRBdCluLmFwcGVuZENoaWxkKGUpO2Vsc2V7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHQuaW5zZXJ0QXR8fCF0Lmluc2VydEF0LmJlZm9yZSl0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTt2YXIgaT11KHQuaW5zZXJ0QXQuYmVmb3JlLG4pO24uaW5zZXJ0QmVmb3JlKGUsaSl9fWZ1bmN0aW9uIG0odCl7aWYobnVsbD09PXQucGFyZW50Tm9kZSlyZXR1cm4hMTt0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCk7dmFyIGU9aC5pbmRleE9mKHQpO2U+PTAmJmguc3BsaWNlKGUsMSl9ZnVuY3Rpb24gdih0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7aWYodm9pZCAwPT09dC5hdHRycy50eXBlJiYodC5hdHRycy50eXBlPVwidGV4dC9jc3NcIiksdm9pZCAwPT09dC5hdHRycy5ub25jZSl7dmFyIHI9ZnVuY3Rpb24oKXswO3JldHVybiBuLm5jfSgpO3ImJih0LmF0dHJzLm5vbmNlPXIpfXJldHVybiB5KGUsdC5hdHRycyksZyh0LGUpLGV9ZnVuY3Rpb24geSh0LGUpe09iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3Quc2V0QXR0cmlidXRlKG4sZVtuXSl9KSl9ZnVuY3Rpb24gYih0LGUpe3ZhciBuLHIsaSxvO2lmKGUudHJhbnNmb3JtJiZ0LmNzcyl7aWYoIShvPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUudHJhbnNmb3JtP2UudHJhbnNmb3JtKHQuY3NzKTplLnRyYW5zZm9ybS5kZWZhdWx0KHQuY3NzKSkpcmV0dXJuIGZ1bmN0aW9uKCl7fTt0LmNzcz1vfWlmKGUuc2luZ2xldG9uKXt2YXIgYT1sKys7bj1jfHwoYz12KGUpKSxyPXcuYmluZChudWxsLG4sYSwhMSksaT13LmJpbmQobnVsbCxuLGEsITApfWVsc2UgdC5zb3VyY2VNYXAmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgQmxvYiYmXCJmdW5jdGlvblwiPT10eXBlb2YgYnRvYT8obj1mdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtyZXR1cm4gdm9pZCAwPT09dC5hdHRycy50eXBlJiYodC5hdHRycy50eXBlPVwidGV4dC9jc3NcIiksdC5hdHRycy5yZWw9XCJzdHlsZXNoZWV0XCIseShlLHQuYXR0cnMpLGcodCxlKSxlfShlKSxyPUUuYmluZChudWxsLG4sZSksaT1mdW5jdGlvbigpe20obiksbi5ocmVmJiZVUkwucmV2b2tlT2JqZWN0VVJMKG4uaHJlZil9KToobj12KGUpLHI9Qy5iaW5kKG51bGwsbiksaT1mdW5jdGlvbigpe20obil9KTtyZXR1cm4gcih0KSxmdW5jdGlvbihlKXtpZihlKXtpZihlLmNzcz09PXQuY3NzJiZlLm1lZGlhPT09dC5tZWRpYSYmZS5zb3VyY2VNYXA9PT10LnNvdXJjZU1hcClyZXR1cm47cih0PWUpfWVsc2UgaSgpfX10LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgREVCVUcmJkRFQlVHJiZcIm9iamVjdFwiIT10eXBlb2YgZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpOyhlPWV8fHt9KS5hdHRycz1cIm9iamVjdFwiPT10eXBlb2YgZS5hdHRycz9lLmF0dHJzOnt9LGUuc2luZ2xldG9ufHxcImJvb2xlYW5cIj09dHlwZW9mIGUuc2luZ2xldG9ufHwoZS5zaW5nbGV0b249YSgpKSxlLmluc2VydEludG98fChlLmluc2VydEludG89XCJoZWFkXCIpLGUuaW5zZXJ0QXR8fChlLmluc2VydEF0PVwiYm90dG9tXCIpO3ZhciBuPWYodCxlKTtyZXR1cm4gZChuLGUpLGZ1bmN0aW9uKHQpe2Zvcih2YXIgcj1bXSxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciBhPW5baV07KHM9b1thLmlkXSkucmVmcy0tLHIucHVzaChzKX10JiZkKGYodCxlKSxlKTtmb3IoaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgcztpZigwPT09KHM9cltpXSkucmVmcyl7Zm9yKHZhciB1PTA7dTxzLnBhcnRzLmxlbmd0aDt1Kyspcy5wYXJ0c1t1XSgpO2RlbGV0ZSBvW3MuaWRdfX19fTt2YXIgeCxBPSh4PVtdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHhbdF09ZSx4LmZpbHRlcihCb29sZWFuKS5qb2luKFwiXFxuXCIpfSk7ZnVuY3Rpb24gdyh0LGUsbixyKXt2YXIgaT1uP1wiXCI6ci5jc3M7aWYodC5zdHlsZVNoZWV0KXQuc3R5bGVTaGVldC5jc3NUZXh0PUEoZSxpKTtlbHNle3ZhciBvPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGkpLGE9dC5jaGlsZE5vZGVzO2FbZV0mJnQucmVtb3ZlQ2hpbGQoYVtlXSksYS5sZW5ndGg/dC5pbnNlcnRCZWZvcmUobyxhW2VdKTp0LmFwcGVuZENoaWxkKG8pfX1mdW5jdGlvbiBDKHQsZSl7dmFyIG49ZS5jc3Mscj1lLm1lZGlhO2lmKHImJnQuc2V0QXR0cmlidXRlKFwibWVkaWFcIixyKSx0LnN0eWxlU2hlZXQpdC5zdHlsZVNoZWV0LmNzc1RleHQ9bjtlbHNle2Zvcig7dC5maXJzdENoaWxkOyl0LnJlbW92ZUNoaWxkKHQuZmlyc3RDaGlsZCk7dC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuKSl9fWZ1bmN0aW9uIEUodCxlLG4pe3ZhciByPW4uY3NzLGk9bi5zb3VyY2VNYXAsbz12b2lkIDA9PT1lLmNvbnZlcnRUb0Fic29sdXRlVXJscyYmaTsoZS5jb252ZXJ0VG9BYnNvbHV0ZVVybHN8fG8pJiYocj1wKHIpKSxpJiYocis9XCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiK2J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGkpKSkpK1wiICovXCIpO3ZhciBhPW5ldyBCbG9iKFtyXSx7dHlwZTpcInRleHQvY3NzXCJ9KSxzPXQuaHJlZjt0LmhyZWY9VVJMLmNyZWF0ZU9iamVjdFVSTChhKSxzJiZVUkwucmV2b2tlT2JqZWN0VVJMKHMpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LmxvY2F0aW9uO2lmKCFlKXRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO2lmKCF0fHxcInN0cmluZ1wiIT10eXBlb2YgdClyZXR1cm4gdDt2YXIgbj1lLnByb3RvY29sK1wiLy9cIitlLmhvc3Qscj1uK2UucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLFwiL1wiKTtyZXR1cm4gdC5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwoZnVuY3Rpb24odCxlKXt2YXIgaSxvPWUudHJpbSgpLnJlcGxhY2UoL15cIiguKilcIiQvLChmdW5jdGlvbih0LGUpe3JldHVybiBlfSkpLnJlcGxhY2UoL14nKC4qKSckLywoZnVuY3Rpb24odCxlKXtyZXR1cm4gZX0pKTtyZXR1cm4vXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KG8pP3Q6KGk9MD09PW8uaW5kZXhPZihcIi8vXCIpP286MD09PW8uaW5kZXhPZihcIi9cIik/bitvOnIrby5yZXBsYWNlKC9eXFwuXFwvLyxcIlwiKSxcInVybChcIitKU09OLnN0cmluZ2lmeShpKStcIilcIil9KSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKGUpLG4uZChlLFwiUmVhY3RUcml4UlRFSW5wdXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKSxuLmQoZSxcIlJlYWN0VHJpeFJURVRvb2xiYXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ3R9KSk7big0KTt2YXIgcj1uKDEpLGk9bi5uKHIpLG89bigwKSxhPW4ubihvKTtuKDEwKTtmdW5jdGlvbiBzKCl7cmV0dXJuKHM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYodFtyXT1uW3JdKX1yZXR1cm4gdH0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB1KHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHR9KHQpfHxmdW5jdGlvbih0LGUpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBTeW1ib2x8fCEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdCh0KSkpcmV0dXJuO3ZhciBuPVtdLHI9ITAsaT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBhLHM9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShhPXMubmV4dCgpKS5kb25lKSYmKG4ucHVzaChhLnZhbHVlKSwhZXx8bi5sZW5ndGghPT1lKTtyPSEwKTt9Y2F0Y2godCl7aT0hMCxvPXR9ZmluYWxseXt0cnl7cnx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IG99fXJldHVybiBufSh0LGUpfHxmdW5jdGlvbih0LGUpe2lmKCF0KXJldHVybjtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gYyh0LGUpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKTtcIk9iamVjdFwiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKTtpZihcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4pcmV0dXJuIEFycmF5LmZyb20odCk7aWYoXCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBjKHQsZSl9KHQsZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX0oKX1mdW5jdGlvbiBjKHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkoZSk7bjxlO24rKylyW25dPXRbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gbCh0KXt2YXIgZT10LmRlZmF1bHRWYWx1ZSxuPXZvaWQgMD09PWU/XCJcIjplLHI9dC50b29sYmFySWQsaT10Lm9uQmx1cixjPXQub25Gb2N1cyxsPXQub25DaGFuZ2UsaD10Lm9uSW5pdGlhbGl6ZSxwPXQub25GaWxlQWNjZXB0ZWQsZD10Lm9uQXR0YWNobWVudEFkZCxmPXQub25BdHRhY2htZW50UmVtb3ZlLGc9dC5vblNlbGVjdGlvbkNoYW5nZSxtPXQub25CZWZvcmVJbml0aWFsaXplLHY9dC50cml4SW5wdXRSZWYseT10LmlzUmFpbHNEaXJlY3RVcGxvYWQsYj12b2lkIDAhPT15JiZ5LHg9dC5wbGFjZWhvbGRlcixBPXQuYXV0b2ZvY3VzLHc9dnx8T2JqZWN0KG8udXNlUmVmKSgpLEM9dShPYmplY3Qoby51c2VTdGF0ZSkobiksMiksRT1DWzBdLGs9Q1sxXSxTPShuZXcgRGF0ZSkuZ2V0VGltZSgpLEQ9XCJyZWFjdC10cml4LXJ0ZS1pbnB1dC1cIi5jb25jYXQoUyksUj1iP3tcImRhdGEtZGlyZWN0LXVwbG9hZC11cmxcIjpcIi9yYWlscy9hY3RpdmVfc3RvcmFnZS9kaXJlY3RfdXBsb2Fkc1wiLFwiZGF0YS1ibG9iLXVybC10ZW1wbGF0ZVwiOlwiL3JhaWxzL2FjdGl2ZV9zdG9yYWdlL2Jsb2JzLzpzaWduZWRfaWQvKmZpbGVuYW1lXCJ9Ont9LEw9e307ZnVuY3Rpb24gVCh0KXt2YXIgZT10LnRhcmdldC52YWx1ZTtrKGUpLGwmJmwodCxlKX1yZXR1cm4gQSYmKEwuYXV0b2ZvY3VzPSEwKSxPYmplY3Qoby51c2VFZmZlY3QpKChmdW5jdGlvbigpe3JldHVybiB3LmN1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRyaXgtY2hhbmdlXCIsVCksYyYmdy5jdXJyZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0cml4LWZvY3VzXCIsYyksaSYmdy5jdXJyZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0cml4LWJsdXJcIixpKSxoJiZ3LmN1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRyaXgtaW5pdGlhbGl6ZVwiLGgpLHAmJncuY3VycmVudC5hZGRFdmVudExpc3RlbmVyKFwidHJpeC1maWxlLWFjY2VwdFwiLHApLGQmJncuY3VycmVudC5hZGRFdmVudExpc3RlbmVyKFwidHJpeC1hdHRhY2htZW50LWFkZFwiLGQpLGYmJncuY3VycmVudC5hZGRFdmVudExpc3RlbmVyKFwidHJpeC1hdHRhY2htZW50LXJlbW92ZVwiLGQpLGcmJncuY3VycmVudC5hZGRFdmVudExpc3RlbmVyKFwidHJpeC1zZWxlY3Rpb24tY2hhbmdlXCIsZyksbSYmdy5jdXJyZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0cml4LWJlZm9yZS1pbml0aWFsaXplXCIsbSksZnVuY3Rpb24oKXt3LmN1cnJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyaXgtY2hhbmdlXCIsVCksYyYmdy5jdXJyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cml4LWZvY3VzXCIsYyksaSYmdy5jdXJyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cml4LWJsdXJcIixpKSxoJiZ3LmN1cnJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyaXgtaW5pdGlhbGl6ZVwiLGgpLHAmJncuY3VycmVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJpeC1maWxlLWFjY2VwdFwiLHApLGQmJncuY3VycmVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJpeC1hdHRhY2htZW50LWFkZFwiLGQpLGcmJncuY3VycmVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJpeC1zZWxlY3Rpb24tY2hhbmdlXCIsZyksZiYmdy5jdXJyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cml4LWF0dGFjaG1lbnQtcmVtb3ZlXCIsZCksbSYmdy5jdXJyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cml4LWJlZm9yZS1pbml0aWFsaXplXCIsbSl9fSksW10pLGEuYS5jcmVhdGVFbGVtZW50KG8uRnJhZ21lbnQsbnVsbCxhLmEuY3JlYXRlRWxlbWVudChcImlucHV0XCIse2lkOkQsdmFsdWU6RSx0eXBlOlwiaGlkZGVuXCIsbmFtZTpcImNvbnRlbnRcIn0pLGEuYS5jcmVhdGVFbGVtZW50KFwidHJpeC1lZGl0b3JcIixzKHt0b29sYmFyOnIscGxhY2Vob2xkZXI6eCxyZWY6dyxpbnB1dDpEfSxSLEwpKSl9bC5wcm9wVHlwZXM9e3Rvb2xiYXJJZDppLmEuc3RyaW5nLGRlZmF1bHRWYWx1ZTppLmEuc3RyaW5nLG9uQ2hhbmdlOmkuYS5mdW5jLG9uQmx1cjppLmEuZnVuYyxvbkZvY3VzOmkuYS5mdW5jLG9uRmlsZUFjY2VwdGVkOmkuYS5mdW5jLG9uQXR0YWNobWVudEFkZDppLmEuZnVuYyxvbkF0dGFjaG1lbnRSZW1vdmU6aS5hLmZ1bmMsb25TZWxlY3Rpb25DaGFuZ2U6aS5hLmZ1bmMsb25Jbml0aWFsaXplOmkuYS5mdW5jLG9uQmVmb3JlSW5pdGlhbGl6ZTppLmEuZnVuYyx0cml4SW5wdXRSZWY6aS5hLmZ1bmMsaXNSYWlsc0RpcmVjdFVwbG9hZDppLmEuYm9vbCxwbGFjZWhvbGRlcjppLmEuc3RyaW5nLGF1dG9mb2N1czppLmEuYm9vbH07dmFyIGg9bDtmdW5jdGlvbiBwKHQpe3JldHVybiBudWxsIT10JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmITA9PT10W1wiQEBmdW5jdGlvbmFsL3BsYWNlaG9sZGVyXCJdfWZ1bmN0aW9uIGQodCl7cmV0dXJuIGZ1bmN0aW9uIGUobil7cmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RofHxwKG4pP2U6dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fXZhciBmPWQoKGZ1bmN0aW9uKHQpe3JldHVybiF0fSkpO2Z1bmN0aW9uIGcodCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9dmFyIG09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyx2PWZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IEFyZ3VtZW50c11cIj09PW0uY2FsbChhcmd1bWVudHMpP2Z1bmN0aW9uKHQpe3JldHVyblwiW29iamVjdCBBcmd1bWVudHNdXCI9PT1tLmNhbGwodCl9OmZ1bmN0aW9uKHQpe3JldHVybiBnKFwiY2FsbGVlXCIsdCl9fSgpLHk9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQmJnQubGVuZ3RoPj0wJiZcIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9O2Z1bmN0aW9uIGIodCl7cmV0dXJuXCJbb2JqZWN0IFN0cmluZ11cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX12YXIgeD1kKChmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdFtcImZhbnRhc3ktbGFuZC9lbXB0eVwiXT90W1wiZmFudGFzeS1sYW5kL2VtcHR5XCJdKCk6bnVsbCE9dCYmbnVsbCE9dC5jb25zdHJ1Y3RvciYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5jb25zdHJ1Y3RvcltcImZhbnRhc3ktbGFuZC9lbXB0eVwiXT90LmNvbnN0cnVjdG9yW1wiZmFudGFzeS1sYW5kL2VtcHR5XCJdKCk6bnVsbCE9dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5lbXB0eT90LmVtcHR5KCk6bnVsbCE9dCYmbnVsbCE9dC5jb25zdHJ1Y3RvciYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5jb25zdHJ1Y3Rvci5lbXB0eT90LmNvbnN0cnVjdG9yLmVtcHR5KCk6eSh0KT9bXTpiKHQpP1wiXCI6ZnVuY3Rpb24odCl7cmV0dXJuXCJbb2JqZWN0IE9iamVjdF1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX0odCk/e306dih0KT9mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCk6dm9pZCAwfSkpO2Z1bmN0aW9uIEEodCl7cmV0dXJuIGZ1bmN0aW9uIGUobixyKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBlO2Nhc2UgMTpyZXR1cm4gcChuKT9lOmQoKGZ1bmN0aW9uKGUpe3JldHVybiB0KG4sZSl9KSk7ZGVmYXVsdDpyZXR1cm4gcChuKSYmcChyKT9lOnAobik/ZCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSxyKX0pKTpwKHIpP2QoKGZ1bmN0aW9uKGUpe3JldHVybiB0KG4sZSl9KSk6dChuLHIpfX19ZnVuY3Rpb24gdyh0KXtmb3IodmFyIGUsbj1bXTshKGU9dC5uZXh0KCkpLmRvbmU7KW4ucHVzaChlLnZhbHVlKTtyZXR1cm4gbn1mdW5jdGlvbiBDKHQsZSxuKXtmb3IodmFyIHI9MCxpPW4ubGVuZ3RoO3I8aTspe2lmKHQoZSxuW3JdKSlyZXR1cm4hMDtyKz0xfXJldHVybiExfXZhciBFPVwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5pcz9PYmplY3QuaXM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWU/MCE9PXR8fDEvdD09MS9lOnQhPXQmJmUhPWV9LGs9IXt0b1N0cmluZzpudWxsfS5wcm9wZXJ0eUlzRW51bWVyYWJsZShcInRvU3RyaW5nXCIpLFM9W1wiY29uc3RydWN0b3JcIixcInZhbHVlT2ZcIixcImlzUHJvdG90eXBlT2ZcIixcInRvU3RyaW5nXCIsXCJwcm9wZXJ0eUlzRW51bWVyYWJsZVwiLFwiaGFzT3duUHJvcGVydHlcIixcInRvTG9jYWxlU3RyaW5nXCJdLEQ9ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLnByb3BlcnR5SXNFbnVtZXJhYmxlKFwibGVuZ3RoXCIpfSgpLFI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoOyl7aWYodFtuXT09PWUpcmV0dXJuITA7bis9MX1yZXR1cm4hMX0sTD1cImZ1bmN0aW9uXCIhPXR5cGVvZiBPYmplY3Qua2V5c3x8RD9kKChmdW5jdGlvbih0KXtpZihPYmplY3QodCkhPT10KXJldHVybltdO3ZhciBlLG4scj1bXSxpPUQmJnYodCk7Zm9yKGUgaW4gdCkhZyhlLHQpfHxpJiZcImxlbmd0aFwiPT09ZXx8KHJbci5sZW5ndGhdPWUpO2lmKGspZm9yKG49Uy5sZW5ndGgtMTtuPj0wOylnKGU9U1tuXSx0KSYmIVIocixlKSYmKHJbci5sZW5ndGhdPWUpLG4tPTE7cmV0dXJuIHJ9KSk6ZCgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdCh0KSE9PXQ/W106T2JqZWN0LmtleXModCl9KSksVD1kKChmdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09PXQ/XCJOdWxsXCI6dm9pZCAwPT09dD9cIlVuZGVmaW5lZFwiOk9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKX0pKTtmdW5jdGlvbiBPKHQsZSxuLHIpe3ZhciBpPXcodCk7ZnVuY3Rpb24gbyh0LGUpe3JldHVybiBfKHQsZSxuLnNsaWNlKCksci5zbGljZSgpKX1yZXR1cm4hQygoZnVuY3Rpb24odCxlKXtyZXR1cm4hQyhvLGUsdCl9KSx3KGUpLGkpfWZ1bmN0aW9uIF8odCxlLG4scil7aWYoRSh0LGUpKXJldHVybiEwO3ZhciBpLG8sYT1UKHQpO2lmKGEhPT1UKGUpKXJldHVybiExO2lmKG51bGw9PXR8fG51bGw9PWUpcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdFtcImZhbnRhc3ktbGFuZC9lcXVhbHNcIl18fFwiZnVuY3Rpb25cIj09dHlwZW9mIGVbXCJmYW50YXN5LWxhbmQvZXF1YWxzXCJdKXJldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHRbXCJmYW50YXN5LWxhbmQvZXF1YWxzXCJdJiZ0W1wiZmFudGFzeS1sYW5kL2VxdWFsc1wiXShlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZVtcImZhbnRhc3ktbGFuZC9lcXVhbHNcIl0mJmVbXCJmYW50YXN5LWxhbmQvZXF1YWxzXCJdKHQpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZXF1YWxzfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmVxdWFscylyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmVxdWFscyYmdC5lcXVhbHMoZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZXF1YWxzJiZlLmVxdWFscyh0KTtzd2l0Y2goYSl7Y2FzZVwiQXJndW1lbnRzXCI6Y2FzZVwiQXJyYXlcIjpjYXNlXCJPYmplY3RcIjppZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNvbnN0cnVjdG9yJiZcIlByb21pc2VcIj09PShpPXQuY29uc3RydWN0b3IsbnVsbD09KG89U3RyaW5nKGkpLm1hdGNoKC9eZnVuY3Rpb24gKFxcdyopLykpP1wiXCI6b1sxXSkpcmV0dXJuIHQ9PT1lO2JyZWFrO2Nhc2VcIkJvb2xlYW5cIjpjYXNlXCJOdW1iZXJcIjpjYXNlXCJTdHJpbmdcIjppZih0eXBlb2YgdCE9dHlwZW9mIGV8fCFFKHQudmFsdWVPZigpLGUudmFsdWVPZigpKSlyZXR1cm4hMTticmVhaztjYXNlXCJEYXRlXCI6aWYoIUUodC52YWx1ZU9mKCksZS52YWx1ZU9mKCkpKXJldHVybiExO2JyZWFrO2Nhc2VcIkVycm9yXCI6cmV0dXJuIHQubmFtZT09PWUubmFtZSYmdC5tZXNzYWdlPT09ZS5tZXNzYWdlO2Nhc2VcIlJlZ0V4cFwiOmlmKHQuc291cmNlIT09ZS5zb3VyY2V8fHQuZ2xvYmFsIT09ZS5nbG9iYWx8fHQuaWdub3JlQ2FzZSE9PWUuaWdub3JlQ2FzZXx8dC5tdWx0aWxpbmUhPT1lLm11bHRpbGluZXx8dC5zdGlja3khPT1lLnN0aWNreXx8dC51bmljb2RlIT09ZS51bmljb2RlKXJldHVybiExfWZvcih2YXIgcz1uLmxlbmd0aC0xO3M+PTA7KXtpZihuW3NdPT09dClyZXR1cm4gcltzXT09PWU7cy09MX1zd2l0Y2goYSl7Y2FzZVwiTWFwXCI6cmV0dXJuIHQuc2l6ZT09PWUuc2l6ZSYmTyh0LmVudHJpZXMoKSxlLmVudHJpZXMoKSxuLmNvbmNhdChbdF0pLHIuY29uY2F0KFtlXSkpO2Nhc2VcIlNldFwiOnJldHVybiB0LnNpemU9PT1lLnNpemUmJk8odC52YWx1ZXMoKSxlLnZhbHVlcygpLG4uY29uY2F0KFt0XSksci5jb25jYXQoW2VdKSk7Y2FzZVwiQXJndW1lbnRzXCI6Y2FzZVwiQXJyYXlcIjpjYXNlXCJPYmplY3RcIjpjYXNlXCJCb29sZWFuXCI6Y2FzZVwiTnVtYmVyXCI6Y2FzZVwiU3RyaW5nXCI6Y2FzZVwiRGF0ZVwiOmNhc2VcIkVycm9yXCI6Y2FzZVwiUmVnRXhwXCI6Y2FzZVwiSW50OEFycmF5XCI6Y2FzZVwiVWludDhBcnJheVwiOmNhc2VcIlVpbnQ4Q2xhbXBlZEFycmF5XCI6Y2FzZVwiSW50MTZBcnJheVwiOmNhc2VcIlVpbnQxNkFycmF5XCI6Y2FzZVwiSW50MzJBcnJheVwiOmNhc2VcIlVpbnQzMkFycmF5XCI6Y2FzZVwiRmxvYXQzMkFycmF5XCI6Y2FzZVwiRmxvYXQ2NEFycmF5XCI6Y2FzZVwiQXJyYXlCdWZmZXJcIjpicmVhaztkZWZhdWx0OnJldHVybiExfXZhciB1PUwodCk7aWYodS5sZW5ndGghPT1MKGUpLmxlbmd0aClyZXR1cm4hMTt2YXIgYz1uLmNvbmNhdChbdF0pLGw9ci5jb25jYXQoW2VdKTtmb3Iocz11Lmxlbmd0aC0xO3M+PTA7KXt2YXIgaD11W3NdO2lmKCFnKGgsZSl8fCFfKGVbaF0sdFtoXSxjLGwpKXJldHVybiExO3MtPTF9cmV0dXJuITB9dmFyIEk9QSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gXyh0LGUsW10sW10pfSkpLE49ZCgoZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQmJkkodCx4KHQpKX0pKSxQPUEoKGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXt9LHI9MDtyPHQubGVuZ3RoOyl0W3JdaW4gZSYmKG5bdFtyXV09ZVt0W3JdXSkscis9MTtyZXR1cm4gbn0pKSxGPWQoKGZ1bmN0aW9uKHQpe3JldHVybiEheSh0KXx8ISF0JiYoXCJvYmplY3RcIj09dHlwZW9mIHQmJighYih0KSYmKDE9PT10Lm5vZGVUeXBlPyEhdC5sZW5ndGg6MD09PXQubGVuZ3RofHx0Lmxlbmd0aD4wJiYodC5oYXNPd25Qcm9wZXJ0eSgwKSYmdC5oYXNPd25Qcm9wZXJ0eSh0Lmxlbmd0aC0xKSkpKSl9KSksQj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5mPXR9cmV0dXJuIHQucHJvdG90eXBlW1wiQEB0cmFuc2R1Y2VyL2luaXRcIl09ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJpbml0IG5vdCBpbXBsZW1lbnRlZCBvbiBYV3JhcFwiKX0sdC5wcm90b3R5cGVbXCJAQHRyYW5zZHVjZXIvcmVzdWx0XCJdPWZ1bmN0aW9uKHQpe3JldHVybiB0fSx0LnByb3RvdHlwZVtcIkBAdHJhbnNkdWNlci9zdGVwXCJdPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZih0LGUpfSx0fSgpO2Z1bmN0aW9uIE0odCxlKXtzd2l0Y2godCl7Y2FzZSAwOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07Y2FzZSAxOnJldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24odCxuLHIpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07Y2FzZSA0OnJldHVybiBmdW5jdGlvbih0LG4scixpKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Nhc2UgNTpyZXR1cm4gZnVuY3Rpb24odCxuLHIsaSxvKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Nhc2UgNjpyZXR1cm4gZnVuY3Rpb24odCxuLHIsaSxvLGEpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07Y2FzZSA3OnJldHVybiBmdW5jdGlvbih0LG4scixpLG8sYSxzKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Nhc2UgODpyZXR1cm4gZnVuY3Rpb24odCxuLHIsaSxvLGEscyx1KXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Nhc2UgOTpyZXR1cm4gZnVuY3Rpb24odCxuLHIsaSxvLGEscyx1LGMpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07Y2FzZSAxMDpyZXR1cm4gZnVuY3Rpb24odCxuLHIsaSxvLGEscyx1LGMsbCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIkZpcnN0IGFyZ3VtZW50IHRvIF9hcml0eSBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIGludGVnZXIgbm8gZ3JlYXRlciB0aGFuIHRlblwiKX19dmFyIGo9QSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gTSh0Lmxlbmd0aCwoZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLGFyZ3VtZW50cyl9KSl9KSk7ZnVuY3Rpb24geih0LGUsbil7Zm9yKHZhciByPW4ubmV4dCgpOyFyLmRvbmU7KXtpZigoZT10W1wiQEB0cmFuc2R1Y2VyL3N0ZXBcIl0oZSxyLnZhbHVlKSkmJmVbXCJAQHRyYW5zZHVjZXIvcmVkdWNlZFwiXSl7ZT1lW1wiQEB0cmFuc2R1Y2VyL3ZhbHVlXCJdO2JyZWFrfXI9bi5uZXh0KCl9cmV0dXJuIHRbXCJAQHRyYW5zZHVjZXIvcmVzdWx0XCJdKGUpfWZ1bmN0aW9uIFcodCxlLG4scil7cmV0dXJuIHRbXCJAQHRyYW5zZHVjZXIvcmVzdWx0XCJdKG5bcl0oaih0W1wiQEB0cmFuc2R1Y2VyL3N0ZXBcIl0sdCksZSkpfXZhciBxPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2w/U3ltYm9sLml0ZXJhdG9yOlwiQEBpdGVyYXRvclwiO2Z1bmN0aW9uIFUodCxlLG4pe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJih0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgQih0KX0odCkpLEYobikpcmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9MCxpPW4ubGVuZ3RoO3I8aTspe2lmKChlPXRbXCJAQHRyYW5zZHVjZXIvc3RlcFwiXShlLG5bcl0pKSYmZVtcIkBAdHJhbnNkdWNlci9yZWR1Y2VkXCJdKXtlPWVbXCJAQHRyYW5zZHVjZXIvdmFsdWVcIl07YnJlYWt9cis9MX1yZXR1cm4gdFtcIkBAdHJhbnNkdWNlci9yZXN1bHRcIl0oZSl9KHQsZSxuKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuW1wiZmFudGFzeS1sYW5kL3JlZHVjZVwiXSlyZXR1cm4gVyh0LGUsbixcImZhbnRhc3ktbGFuZC9yZWR1Y2VcIik7aWYobnVsbCE9bltxXSlyZXR1cm4geih0LGUsbltxXSgpKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLm5leHQpcmV0dXJuIHoodCxlLG4pO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4ucmVkdWNlKXJldHVybiBXKHQsZSxuLFwicmVkdWNlXCIpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJyZWR1Y2U6IGxpc3QgbXVzdCBiZSBhcnJheSBvciBpdGVyYWJsZVwiKX12YXIgVj1BKChmdW5jdGlvbih0LGUpe3JldHVybiBVKChmdW5jdGlvbihuLHIpe3JldHVybiBuW3JdPXQoZVtyXSxyLGUpLG59KSx7fSxMKGUpKX0pKTtmdW5jdGlvbiBIKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQuaW5kZXhPZilzd2l0Y2godHlwZW9mIGUpe2Nhc2VcIm51bWJlclwiOmlmKDA9PT1lKXtmb3Iocj0xL2U7bjx0Lmxlbmd0aDspe2lmKDA9PT0oaT10W25dKSYmMS9pPT09cilyZXR1cm4gbjtuKz0xfXJldHVybi0xfWlmKGUhPWUpe2Zvcig7bjx0Lmxlbmd0aDspe2lmKFwibnVtYmVyXCI9PXR5cGVvZihpPXRbbl0pJiZpIT1pKXJldHVybiBuO24rPTF9cmV0dXJuLTF9cmV0dXJuIHQuaW5kZXhPZihlLG4pO2Nhc2VcInN0cmluZ1wiOmNhc2VcImJvb2xlYW5cIjpjYXNlXCJmdW5jdGlvblwiOmNhc2VcInVuZGVmaW5lZFwiOnJldHVybiB0LmluZGV4T2YoZSxuKTtjYXNlXCJvYmplY3RcIjppZihudWxsPT09ZSlyZXR1cm4gdC5pbmRleE9mKGUsbil9Zm9yKDtuPHQubGVuZ3RoOyl7aWYoSSh0W25dLGUpKXJldHVybiBuO24rPTF9cmV0dXJuLTF9KGUsdCwwKT49MH12YXIgSz1BKEgpLEo9e2JvbGQ6e3R5cGU6XCJidXR0b25cIixjbGFzc05hbWVzOlwidHJpeC1idXR0b24gdHJpeC1idXR0b24tLWljb24gdHJpeC1idXR0b24tLWljb24tYm9sZFwiLGxhbmd1YWdlS2V5OlwiYm9sZFwiLHRhYkluZGV4OlwiLTFcIix0cml4QnV0dG9uR3JvdXA6XCJ0ZXh0LXRvb2xzXCIsZGF0YTp7dHJpeEF0dHJpYnV0ZTpcImJvbGRcIix0cml4S2V5OlwiYlwifX0saXRhbGljOnt0eXBlOlwiYnV0dG9uXCIsY2xhc3NOYW1lczpcInRyaXgtYnV0dG9uIHRyaXgtYnV0dG9uLS1pY29uIHRyaXgtYnV0dG9uLS1pY29uLWl0YWxpY1wiLGxhbmd1YWdlS2V5OlwiaXRhbGljXCIsdGFiSW5kZXg6XCItMVwiLHRyaXhCdXR0b25Hcm91cDpcInRleHQtdG9vbHNcIixkYXRhOnt0cml4QXR0cmlidXRlOlwiaXRhbGljXCIsdHJpeEtleTpcImlcIn19LHN0cmlrZTp7dHlwZTpcImJ1dHRvblwiLGNsYXNzTmFtZXM6XCJ0cml4LWJ1dHRvbiB0cml4LWJ1dHRvbi0taWNvbiB0cml4LWJ1dHRvbi0taWNvbi1zdHJpa2VcIixsYW5ndWFnZUtleTpcInN0cmlrZVwiLHRhYkluZGV4OlwiLTFcIix0cml4QnV0dG9uR3JvdXA6XCJ0ZXh0LXRvb2xzXCIsZGF0YTp7dHJpeEF0dHJpYnV0ZTpcInN0cmlrZVwifX0sbGluazp7dHlwZTpcImJ1dHRvblwiLGNsYXNzTmFtZXM6XCJ0cml4LWJ1dHRvbiB0cml4LWJ1dHRvbi0taWNvbiB0cml4LWJ1dHRvbi0taWNvbi1saW5rXCIsbGFuZ3VhZ2VLZXk6XCJsaW5rXCIsdGFiSW5kZXg6XCItMVwiLHRyaXhCdXR0b25Hcm91cDpcInRleHQtdG9vbHNcIixkYXRhOnt0cml4QXR0cmlidXRlOlwiaHJlZlwiLHRyaXhLZXk6XCJrXCIsdHJpeEFjdGlvbjpcImxpbmtcIn19LGhlYWRpbmcxOnt0eXBlOlwiYnV0dG9uXCIsY2xhc3NOYW1lczpcInRyaXgtYnV0dG9uIHRyaXgtYnV0dG9uLS1pY29uIHRyaXgtYnV0dG9uLS1pY29uLWhlYWRpbmctMVwiLGxhbmd1YWdlS2V5OlwiaGVhZGluZzFcIix0YWJJbmRleDpcIi0xXCIsdHJpeEJ1dHRvbkdyb3VwOlwiYmxvY2stdG9vbHNcIixkYXRhOnt0cml4QXR0cmlidXRlOlwiaGVhZGluZzFcIn19LHF1b3RlOnt0eXBlOlwiYnV0dG9uXCIsY2xhc3NOYW1lczpcInRyaXgtYnV0dG9uIHRyaXgtYnV0dG9uLS1pY29uIHRyaXgtYnV0dG9uLS1pY29uLXF1b3RlXCIsbGFuZ3VhZ2VLZXk6XCJxdW90ZVwiLHRhYkluZGV4OlwiLTFcIix0cml4QnV0dG9uR3JvdXA6XCJibG9jay10b29sc1wiLGRhdGE6e3RyaXhBdHRyaWJ1dGU6XCJxdW90ZVwifX0sY29kZTp7dHlwZTpcImJ1dHRvblwiLGNsYXNzTmFtZXM6XCJ0cml4LWJ1dHRvbiB0cml4LWJ1dHRvbi0taWNvbiB0cml4LWJ1dHRvbi0taWNvbi1jb2RlXCIsbGFuZ3VhZ2VLZXk6XCJjb2RlXCIsdGFiSW5kZXg6XCItMVwiLHRyaXhCdXR0b25Hcm91cDpcImJsb2NrLXRvb2xzXCIsZGF0YTp7dHJpeEF0dHJpYnV0ZTpcImNvZGVcIn19LGJ1bGxldDp7dHlwZTpcImJ1dHRvblwiLGNsYXNzTmFtZXM6XCJ0cml4LWJ1dHRvbiB0cml4LWJ1dHRvbi0taWNvbiB0cml4LWJ1dHRvbi0taWNvbi1idWxsZXQtbGlzdFwiLGxhbmd1YWdlS2V5OlwiYnVsbGV0c1wiLHRhYkluZGV4OlwiLTFcIix0cml4QnV0dG9uR3JvdXA6XCJibG9jay10b29sc1wiLGRhdGE6e3RyaXhBdHRyaWJ1dGU6XCJidWxsZXRcIn19LG51bWJlcjp7dHlwZTpcImJ1dHRvblwiLGNsYXNzTmFtZXM6XCJ0cml4LWJ1dHRvbiB0cml4LWJ1dHRvbi0taWNvbiB0cml4LWJ1dHRvbi0taWNvbi1udW1iZXItbGlzdFwiLGxhbmd1YWdlS2V5OlwibnVtYmVyc1wiLHRhYkluZGV4OlwiLTFcIix0cml4QnV0dG9uR3JvdXA6XCJibG9jay10b29sc1wiLGRhdGE6e3RyaXhBdHRyaWJ1dGU6XCJudW1iZXJcIn19LG91dGRlbnQ6e3R5cGU6XCJidXR0b25cIixjbGFzc05hbWVzOlwidHJpeC1idXR0b24gdHJpeC1idXR0b24tLWljb24gdHJpeC1idXR0b24tLWljb24tZGVjcmVhc2UtbmVzdGluZy1sZXZlbFwiLGxhbmd1YWdlS2V5Olwib3V0ZGVudFwiLHRhYkluZGV4OlwiLTFcIix0cml4QnV0dG9uR3JvdXA6XCJibG9jay10b29sc1wiLGRhdGE6e3RyaXhBY3Rpb246XCJkZWNyZWFzZU5lc3RpbmdMZXZlbFwifX0saW5kZW50Ont0eXBlOlwiYnV0dG9uXCIsY2xhc3NOYW1lczpcInRyaXgtYnV0dG9uIHRyaXgtYnV0dG9uLS1pY29uIHRyaXgtYnV0dG9uLS1pY29uLWluY3JlYXNlLW5lc3RpbmctbGV2ZWxcIixsYW5ndWFnZUtleTpcImluZGVudFwiLHRhYkluZGV4OlwiLTFcIix0cml4QnV0dG9uR3JvdXA6XCJibG9jay10b29sc1wiLGRhdGE6e3RyaXhBY3Rpb246XCJpbmNyZWFzZU5lc3RpbmdMZXZlbFwifX0sYXR0YWNoRmlsZXM6e3R5cGU6XCJidXR0b25cIixjbGFzc05hbWVzOlwidHJpeC1idXR0b24gdHJpeC1idXR0b24tLWljb24gdHJpeC1idXR0b24tLWljb24tYXR0YWNoXCIsbGFuZ3VhZ2VLZXk6XCJhdHRhY2hGaWxlc1wiLHRhYkluZGV4OlwiLTFcIix0cml4QnV0dG9uR3JvdXA6XCJmaWxlLXRvb2xzXCIsZGF0YTp7dHJpeEFjdGlvbjpcImF0dGFjaEZpbGVzXCJ9fSx1bmRvOnt0eXBlOlwiYnV0dG9uXCIsY2xhc3NOYW1lczpcInRyaXgtYnV0dG9uIHRyaXgtYnV0dG9uLS1pY29uIHRyaXgtYnV0dG9uLS1pY29uLXVuZG9cIixsYW5ndWFnZUtleTpcInVuZG9cIix0YWJJbmRleDpcIi0xXCIsdHJpeEJ1dHRvbkdyb3VwOlwiaGlzdG9yeS10b29sc1wiLGRhdGE6e3RyaXhBY3Rpb246XCJ1bmRvXCIsdHJpeEtleTpcInpcIn19LHJlZG86e3R5cGU6XCJidXR0b25cIixjbGFzc05hbWVzOlwidHJpeC1idXR0b24gdHJpeC1idXR0b24tLWljb24gdHJpeC1idXR0b24tLWljb24tcmVkb1wiLGxhbmd1YWdlS2V5OlwicmVkb1wiLHRhYkluZGV4OlwiLTFcIix0cml4QnV0dG9uR3JvdXA6XCJoaXN0b3J5LXRvb2xzXCIsZGF0YTp7dHJpeEFjdGlvbjpcInJlZG9cIix0cml4S2V5Olwic2hpZnQrelwifX19LEc9e2F0dGFjaEZpbGVzOlwiQXR0YWNoIEZpbGVzXCIsYm9sZDpcIkJvbGRcIixidWxsZXRzOlwiQnVsbGV0c1wiLGJ5dGU6XCJCeXRlXCIsYnl0ZXM6XCJCeXRlc1wiLGNhcHRpb25QbGFjZWhvbGRlcjpcIkFkZCBhIGNhcHRpb27igKZcIixjb2RlOlwiQ29kZVwiLGhlYWRpbmcxOlwiSGVhZGluZ1wiLGluZGVudDpcIkluY3JlYXNlIExldmVsXCIsaXRhbGljOlwiSXRhbGljXCIsbGluazpcIkxpbmtcIixudW1iZXJzOlwiTnVtYmVyc1wiLG91dGRlbnQ6XCJEZWNyZWFzZSBMZXZlbFwiLHF1b3RlOlwiUXVvdGVcIixyZWRvOlwiUmVkb1wiLHJlbW92ZTpcIlJlbW92ZVwiLHN0cmlrZTpcIlN0cmlrZXRocm91Z2hcIix1bmRvOlwiVW5kb1wiLHVubGluazpcIlVubGlua1wiLHVybDpcIlVSTFwiLHVybFBsYWNlaG9sZGVyOlwiRW50ZXIgYSBVUkzigKZcIixHQjpcIkdCXCIsS0I6XCJLQlwiLE1COlwiTUJcIixQQjpcIlBCXCIsVEI6XCJUQlwifSwkPXtcInRleHQtdG9vbHNcIjpcInRyaXgtYnV0dG9uLWdyb3VwIHRyaXgtYnV0dG9uLWdyb3VwLS10ZXh0LXRvb2xzXCIsXCJibG9jay10b29sc1wiOlwidHJpeC1idXR0b24tZ3JvdXAgdHJpeC1idXR0b24tZ3JvdXAtLWJsb2NrLXRvb2xzXCIsXCJmaWxlLXRvb2xzXCI6XCJ0cml4LWJ1dHRvbi1ncm91cCB0cml4LWJ1dHRvbi1ncm91cC0tZmlsZS10b29sc1wiLFwiaGlzdG9yeS10b29sc1wiOlwidHJpeC1idXR0b24tZ3JvdXAgdHJpeC1idXR0b24tZ3JvdXAtLWhpc3RvcnktdG9vbHNcIn07ZnVuY3Rpb24gWCgpe3JldHVybihYPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKHRbcl09bltyXSl9cmV0dXJuIHR9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gWSh0KXt2YXIgZT10LnR5cGUsbj10LmNsYXNzTmFtZXMscj10LmRhdGEsaT10LnRhYkluZGV4LG89dC5sYW5ndWFnZUtleSxzPXt9O2lmKHIpe3ZhciB1PXIudHJpeEF0dHJpYnV0ZSxjPXIudHJpeEtleSxsPXIudHJpeEFjdGlvbjt1JiYoc1tcImRhdGEtdHJpeC1hdHRyaWJ1dGVcIl09dSksbCYmKHNbXCJkYXRhLXRyaXgtYWN0aW9uXCJdPWwpLHUmJihzW1wiZGF0YS10cml4LWtleVwiXT1jKX1yZXR1cm4gYS5hLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIixYKHt0eXBlOmV9LHMse3RhYkluZGV4OmksY2xhc3NOYW1lOm4sdGl0bGU6R1tvXX0pLEdbb10pfVkucHJvcFR5cGVzPXt0eXBlOmkuYS5zdHJpbmcuaXNSZXF1aXJlZCxjbGFzc05hbWVzOmkuYS5zdHJpbmcuaXNSZXF1aXJlZCxkYXRhOmkuYS5vYmplY3QsdGFiSW5kZXg6aS5hLnN0cmluZyxsYW5ndWFnZUtleTppLmEuc3RyaW5nLmlzUmVxdWlyZWR9O3ZhciBaPVk7dmFyIFE9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcInRyaXgtYnV0dG9uLWdyb3VwLXNwYWNlclwifSl9O3ZhciB0dD1mdW5jdGlvbigpe3JldHVybiBhLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtcImRhdGEtdHJpeC1kaWFsb2dzXCI6ITAsY2xhc3NOYW1lOlwidHJpeC1kaWFsb2dzXCJ9LGEuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInRyaXgtZGlhbG9nIHRyaXgtZGlhbG9nLS1saW5rXCIsXCJkYXRhLXRyaXgtZGlhbG9nXCI6XCJocmVmXCIsXCJkYXRhLXRyaXgtZGlhbG9nLWF0dHJpYnV0ZVwiOlwiaHJlZlwifSxhLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJ0cml4LWRpYWxvZ19fbGluay1maWVsZHNcIn0sYS5hLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLHt0eXBlOlwidXJsXCIsbmFtZTpcImhyZWZcIixjbGFzc05hbWU6XCJ0cml4LWlucHV0IHRyaXgtaW5wdXQtLWRpYWxvZ1wiLHBsYWNlaG9sZGVyOkcudXJsUGxhY2Vob2xkZXIsXCJhcmlhLWxhYmVsXCI6Ry51cmwscmVxdWlyZWQ6ITAsXCJkYXRhLXRyaXgtaW5wdXRcIjohMH0pLGEuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInRyaXgtYnV0dG9uLWdyb3VwXCJ9LGEuYS5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIix7dHlwZTpcImJ1dHRvblwiLGNsYXNzTmFtZTpcInRyaXgtYnV0dG9uIHRyaXgtYnV0dG9uLS1kaWFsb2dcIix2YWx1ZTpHLmxpbmssXCJkYXRhLXRyaXgtbWV0aG9kXCI6XCJzZXRBdHRyaWJ1dGVcIn0pLGEuYS5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIix7dHlwZTpcImJ1dHRvblwiLGNsYXNzTmFtZTpcInRyaXgtYnV0dG9uIHRyaXgtYnV0dG9uLS1kaWFsb2dcIix2YWx1ZTpHLnVubGluayxcImRhdGEtdHJpeC1tZXRob2RcIjpcInJlbW92ZUF0dHJpYnV0ZVwifSkpKSkpfTtmdW5jdGlvbiBldCh0LGUpe3ZhciBuO2U9ZXx8W107dmFyIHI9KHQ9dHx8W10pLmxlbmd0aCxpPWUubGVuZ3RoLG89W107Zm9yKG49MDtuPHI7KW9bby5sZW5ndGhdPXRbbl0sbis9MTtmb3Iobj0wO248aTspb1tvLmxlbmd0aF09ZVtuXSxuKz0xO3JldHVybiBvfXZhciBudD1BKChmdW5jdGlvbih0LGUpe3JldHVybiAxPT09dD9kKGUpOk0odCxmdW5jdGlvbiB0KGUsbixyKXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGk9W10sbz0wLGE9ZSxzPTA7czxuLmxlbmd0aHx8bzxhcmd1bWVudHMubGVuZ3RoOyl7dmFyIHU7czxuLmxlbmd0aCYmKCFwKG5bc10pfHxvPj1hcmd1bWVudHMubGVuZ3RoKT91PW5bc106KHU9YXJndW1lbnRzW29dLG8rPTEpLGlbc109dSxwKHUpfHwoYS09MSkscys9MX1yZXR1cm4gYTw9MD9yLmFwcGx5KHRoaXMsaSk6TShhLHQoZSxpLHIpKX19KHQsW10sZSkpfSkpLHJ0PWQoKGZ1bmN0aW9uKHQpe3JldHVybiBudCh0Lmxlbmd0aCwoZnVuY3Rpb24oKXt2YXIgZT0wLG49YXJndW1lbnRzWzBdLHI9YXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGgtMV0saT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cmV0dXJuIGlbMF09ZnVuY3Rpb24oKXt2YXIgdD1uLmFwcGx5KHRoaXMsZXQoYXJndW1lbnRzLFtlLHJdKSk7cmV0dXJuIGUrPTEsdH0sdC5hcHBseSh0aGlzLGkpfSkpfSkpO2Z1bmN0aW9uIGl0KHQpe3JldHVybiBudWxsIT10JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0W1wiQEB0cmFuc2R1Y2VyL3N0ZXBcIl19ZnVuY3Rpb24gb3QodCxlLG4pe3JldHVybiBmdW5jdGlvbigpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBuKCk7dmFyIHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApLGk9ci5wb3AoKTtpZigheShpKSl7Zm9yKHZhciBvPTA7bzx0Lmxlbmd0aDspe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGlbdFtvXV0pcmV0dXJuIGlbdFtvXV0uYXBwbHkoaSxyKTtvKz0xfWlmKGl0KGkpKXt2YXIgYT1lLmFwcGx5KG51bGwscik7cmV0dXJuIGEoaSl9fXJldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19dmFyIGF0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueGZbXCJAQHRyYW5zZHVjZXIvaW5pdFwiXSgpfSxzdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54ZltcIkBAdHJhbnNkdWNlci9yZXN1bHRcIl0odCl9LHV0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMueGY9ZSx0aGlzLmY9dH1yZXR1cm4gdC5wcm90b3R5cGVbXCJAQHRyYW5zZHVjZXIvaW5pdFwiXT1hdCx0LnByb3RvdHlwZVtcIkBAdHJhbnNkdWNlci9yZXN1bHRcIl09c3QsdC5wcm90b3R5cGVbXCJAQHRyYW5zZHVjZXIvc3RlcFwiXT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnhmW1wiQEB0cmFuc2R1Y2VyL3N0ZXBcIl0odCx0aGlzLmYoZSkpfSx0fSgpLGN0PXJ0KEEob3QoW1wiZmFudGFzeS1sYW5kL21hcFwiLFwibWFwXCJdLEEoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB1dCh0LGUpfSkpLChmdW5jdGlvbih0LGUpe3N3aXRjaChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpe2Nhc2VcIltvYmplY3QgRnVuY3Rpb25dXCI6cmV0dXJuIG50KGUubGVuZ3RoLChmdW5jdGlvbigpe3JldHVybiB0LmNhbGwodGhpcyxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9KSk7Y2FzZVwiW29iamVjdCBPYmplY3RdXCI6cmV0dXJuIFUoKGZ1bmN0aW9uKG4scil7cmV0dXJuIG5bcl09dChlW3JdKSxufSkse30sTChlKSk7ZGVmYXVsdDpyZXR1cm4gZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MCxyPWUubGVuZ3RoLGk9QXJyYXkocik7bjxyOylpW25dPXQoZVtuXSksbis9MTtyZXR1cm4gaX0odCxlKX19KSkpKTtmdW5jdGlvbiBsdCgpe3JldHVybihsdD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJih0W3JdPW5bcl0pfXJldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGh0KHQpe3ZhciBlPXQuZ3JvdXBOYW1lLG49dC50b29sYmFyQWN0aW9uT3B0aW9ucztyZXR1cm4gYS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTokW2VdLFwiZGF0YS10cml4LWJ1dHRvbi1ncm91cFwiOmV9LGN0KChmdW5jdGlvbih0LGUpe3JldHVybiBhLmEuY3JlYXRlRWxlbWVudChaLGx0KHtrZXk6ZX0sdCkpfSkpKG4pKX1odC5wcm9wVHlwZXM9e2dyb3VwTmFtZTppLmEuc3RyaW5nLmlzUmVxdWlyZWQsdG9vbGJhckFjdGlvbk9wdGlvbnM6aS5hLmFycmF5LmlzUmVxdWlyZWR9O3ZhciBwdD1odDtmdW5jdGlvbiBkdCgpe3JldHVybihkdD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJih0W3JdPW5bcl0pfXJldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGZ0KHQpe3ZhciBlPXQuZGlzYWJsZUdyb3VwaW5nQWN0aW9uLG49dm9pZCAwIT09ZSYmZSxyPXQudG9vbGJhcklkLGk9dC50b29sYmFyQWN0aW9ucyxvPWkmJmYoTihpKSkscz1KO2Z1bmN0aW9uIHUoKXt2YXIgdCxlLG49KGU9XCJ0cml4QnV0dG9uR3JvdXBcIixMKHQ9cykucmVkdWNlKChmdW5jdGlvbihuLHIpe3ZhciBpPXRbcl1bZV07cmV0dXJuIG5baV09bltpXXx8W10sbltpXS5wdXNoKHRbcl0pLG59KSx7fSkpLHI9W107cmV0dXJuIFYoKGZ1bmN0aW9uKHQsZSl7aWYoSShlLFwiaGlzdG9yeS10b29sc1wiKSl7dmFyIG49KG5ldyBEYXRlKS5nZXRUaW1lKCk7ci5wdXNoKGEuYS5jcmVhdGVFbGVtZW50KFEse2tleTpufSkpfXIucHVzaChhLmEuY3JlYXRlRWxlbWVudChwdCx7a2V5OmUsdG9vbGJhckFjdGlvbk9wdGlvbnM6dCxncm91cE5hbWU6ZX0pKX0pKShuKSxyfXJldHVybiBvJiYocz1QKGksSikpLGEuYS5jcmVhdGVFbGVtZW50KFwidHJpeC10b29sYmFyXCIse2lkOnJ9LGEuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInRyaXgtYnV0dG9uLXJvd1wifSxuP2EuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJ0cml4LWJ1dHRvbi1ncm91cFwifSxjdCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gYS5hLmNyZWF0ZUVsZW1lbnQoWixkdCh7a2V5OmV9LHNbdF0pKX0pKShMKHMpKSk6dSgpKSxvJiZLKFwibGlua1wiLGkpP2EuYS5jcmVhdGVFbGVtZW50KHR0LG51bGwpOm8/dm9pZCAwOmEuYS5jcmVhdGVFbGVtZW50KHR0LG51bGwpKX1mdC5wcm9wVHlwZXM9e2Rpc2FibGVHcm91cGluZ0FjdGlvbjppLmEuYm9vbCx0b29sYmFySWQ6aS5hLnN0cmluZyx0b29sYmFyQWN0aW9uczppLmEuYXJyYXl9O3ZhciBndD1mdH1dKX0pKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-trix-rte/dist/index.js\n");

/***/ }),

/***/ "./node_modules/react-trix-rte/index.js":
/*!**********************************************!*\
  !*** ./node_modules/react-trix-rte/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// require('./dist/manifest');\n// require('./dist/vendor');\nmodule.exports = __webpack_require__(/*! ./dist/index */ \"./node_modules/react-trix-rte/dist/index.js\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyaXgtcnRlL2luZGV4LmpzPzg2NzYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBLGlCQUFpQixtQkFBTyxDQUFDLGlFQUFjIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyaXgtcnRlL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gcmVxdWlyZSgnLi9kaXN0L21hbmlmZXN0Jyk7XG4vLyByZXF1aXJlKCcuL2Rpc3QvdmVuZG9yJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZGlzdC9pbmRleCcpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-trix-rte/index.js\n");

/***/ }),

/***/ "./node_modules/react-trix-rte/node_modules/react/cjs/react.development.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/react-trix-rte/node_modules/react/cjs/react.development.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/** @license React v16.14.0\n * react.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\n\n\nif (true) {\n  (function() {\n'use strict';\n\nvar _assign = __webpack_require__(/*! object-assign */ \"./node_modules/next/dist/build/polyfills/object-assign.js\");\nvar checkPropTypes = __webpack_require__(/*! prop-types/checkPropTypes */ \"./node_modules/prop-types/checkPropTypes.js\");\n\nvar ReactVersion = '16.14.0';\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\nvar MAYBE_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nfunction getIteratorFn(maybeIterable) {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n\n  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n\n  return null;\n}\n\n/**\n * Keeps track of the current dispatcher.\n */\nvar ReactCurrentDispatcher = {\n  /**\n   * @internal\n   * @type {ReactComponent}\n   */\n  current: null\n};\n\n/**\n * Keeps track of the current batch's configuration such as how long an update\n * should suspend for if it needs to.\n */\nvar ReactCurrentBatchConfig = {\n  suspense: null\n};\n\n/**\n * Keeps track of the current owner.\n *\n * The current owner is the component who should own any components that are\n * currently being constructed.\n */\nvar ReactCurrentOwner = {\n  /**\n   * @internal\n   * @type {ReactComponent}\n   */\n  current: null\n};\n\nvar BEFORE_SLASH_RE = /^(.*)[\\\\\\/]/;\nfunction describeComponentFrame (name, source, ownerName) {\n  var sourceInfo = '';\n\n  if (source) {\n    var path = source.fileName;\n    var fileName = path.replace(BEFORE_SLASH_RE, '');\n\n    {\n      // In DEV, include code for a common special case:\n      // prefer \"folder/index.js\" instead of just \"index.js\".\n      if (/^index\\./.test(fileName)) {\n        var match = path.match(BEFORE_SLASH_RE);\n\n        if (match) {\n          var pathBeforeSlash = match[1];\n\n          if (pathBeforeSlash) {\n            var folderName = pathBeforeSlash.replace(BEFORE_SLASH_RE, '');\n            fileName = folderName + '/' + fileName;\n          }\n        }\n      }\n    }\n\n    sourceInfo = ' (at ' + fileName + ':' + source.lineNumber + ')';\n  } else if (ownerName) {\n    sourceInfo = ' (created by ' + ownerName + ')';\n  }\n\n  return '\\n    in ' + (name || 'Unknown') + sourceInfo;\n}\n\nvar Resolved = 1;\nfunction refineResolvedLazyComponent(lazyComponent) {\n  return lazyComponent._status === Resolved ? lazyComponent._result : null;\n}\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var functionName = innerType.displayName || innerType.name || '';\n  return outerType.displayName || (functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName);\n}\n\nfunction getComponentName(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  {\n    if (typeof type.tag === 'number') {\n      error('Received an unexpected object in getComponentName(). ' + 'This is likely a bug in React. Please file an issue.');\n    }\n  }\n\n  if (typeof type === 'function') {\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return \"Profiler\";\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        return 'Context.Consumer';\n\n      case REACT_PROVIDER_TYPE:\n        return 'Context.Provider';\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        return getComponentName(type.type);\n\n      case REACT_BLOCK_TYPE:\n        return getComponentName(type.render);\n\n      case REACT_LAZY_TYPE:\n        {\n          var thenable = type;\n          var resolvedThenable = refineResolvedLazyComponent(thenable);\n\n          if (resolvedThenable) {\n            return getComponentName(resolvedThenable);\n          }\n\n          break;\n        }\n    }\n  }\n\n  return null;\n}\n\nvar ReactDebugCurrentFrame = {};\nvar currentlyValidatingElement = null;\nfunction setCurrentlyValidatingElement(element) {\n  {\n    currentlyValidatingElement = element;\n  }\n}\n\n{\n  // Stack implementation injected by the current renderer.\n  ReactDebugCurrentFrame.getCurrentStack = null;\n\n  ReactDebugCurrentFrame.getStackAddendum = function () {\n    var stack = ''; // Add an extra top frame while an element is being validated\n\n    if (currentlyValidatingElement) {\n      var name = getComponentName(currentlyValidatingElement.type);\n      var owner = currentlyValidatingElement._owner;\n      stack += describeComponentFrame(name, currentlyValidatingElement._source, owner && getComponentName(owner.type));\n    } // Delegate to the injected renderer-specific implementation\n\n\n    var impl = ReactDebugCurrentFrame.getCurrentStack;\n\n    if (impl) {\n      stack += impl() || '';\n    }\n\n    return stack;\n  };\n}\n\n/**\n * Used by act() to track whether you're inside an act() scope.\n */\nvar IsSomeRendererActing = {\n  current: false\n};\n\nvar ReactSharedInternals = {\n  ReactCurrentDispatcher: ReactCurrentDispatcher,\n  ReactCurrentBatchConfig: ReactCurrentBatchConfig,\n  ReactCurrentOwner: ReactCurrentOwner,\n  IsSomeRendererActing: IsSomeRendererActing,\n  // Used by renderers to avoid bundling object-assign twice in UMD bundles:\n  assign: _assign\n};\n\n{\n  _assign(ReactSharedInternals, {\n    // These should not be included in production.\n    ReactDebugCurrentFrame: ReactDebugCurrentFrame,\n    // Shim for React DOM 16.0.0 which still destructured (but not used) this.\n    // TODO: remove in React 17.0.\n    ReactComponentTreeHook: {}\n  });\n}\n\n// by calls to these methods by a Babel plugin.\n//\n// In PROD (or in packages without access to React internals),\n// they are left as they are instead.\n\nfunction warn(format) {\n  {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    printWarning('warn', format, args);\n  }\n}\nfunction error(format) {\n  {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    printWarning('error', format, args);\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var hasExistingStack = args.length > 0 && typeof args[args.length - 1] === 'string' && args[args.length - 1].indexOf('\\n    in') === 0;\n\n    if (!hasExistingStack) {\n      var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n      var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n      if (stack !== '') {\n        format += '%s';\n        args = args.concat([stack]);\n      }\n    }\n\n    var argsWithFormat = args.map(function (item) {\n      return '' + item;\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      var argIndex = 0;\n      var message = 'Warning: ' + format.replace(/%s/g, function () {\n        return args[argIndex++];\n      });\n      throw new Error(message);\n    } catch (x) {}\n  }\n}\n\nvar didWarnStateUpdateForUnmountedComponent = {};\n\nfunction warnNoop(publicInstance, callerName) {\n  {\n    var _constructor = publicInstance.constructor;\n    var componentName = _constructor && (_constructor.displayName || _constructor.name) || 'ReactClass';\n    var warningKey = componentName + \".\" + callerName;\n\n    if (didWarnStateUpdateForUnmountedComponent[warningKey]) {\n      return;\n    }\n\n    error(\"Can't call %s on a component that is not yet mounted. \" + 'This is a no-op, but it might indicate a bug in your application. ' + 'Instead, assign to `this.state` directly or define a `state = {};` ' + 'class property with the desired state in the %s component.', callerName, componentName);\n\n    didWarnStateUpdateForUnmountedComponent[warningKey] = true;\n  }\n}\n/**\n * This is the abstract API for an update queue.\n */\n\n\nvar ReactNoopUpdateQueue = {\n  /**\n   * Checks whether or not this composite component is mounted.\n   * @param {ReactClass} publicInstance The instance we want to test.\n   * @return {boolean} True if mounted, false otherwise.\n   * @protected\n   * @final\n   */\n  isMounted: function (publicInstance) {\n    return false;\n  },\n\n  /**\n   * Forces an update. This should only be invoked when it is known with\n   * certainty that we are **not** in a DOM transaction.\n   *\n   * You may want to call this when you know that some deeper aspect of the\n   * component's state has changed but `setState` was not called.\n   *\n   * This will not invoke `shouldComponentUpdate`, but it will invoke\n   * `componentWillUpdate` and `componentDidUpdate`.\n   *\n   * @param {ReactClass} publicInstance The instance that should rerender.\n   * @param {?function} callback Called after component is updated.\n   * @param {?string} callerName name of the calling function in the public API.\n   * @internal\n   */\n  enqueueForceUpdate: function (publicInstance, callback, callerName) {\n    warnNoop(publicInstance, 'forceUpdate');\n  },\n\n  /**\n   * Replaces all of the state. Always use this or `setState` to mutate state.\n   * You should treat `this.state` as immutable.\n   *\n   * There is no guarantee that `this.state` will be immediately updated, so\n   * accessing `this.state` after calling this method may return the old value.\n   *\n   * @param {ReactClass} publicInstance The instance that should rerender.\n   * @param {object} completeState Next state.\n   * @param {?function} callback Called after component is updated.\n   * @param {?string} callerName name of the calling function in the public API.\n   * @internal\n   */\n  enqueueReplaceState: function (publicInstance, completeState, callback, callerName) {\n    warnNoop(publicInstance, 'replaceState');\n  },\n\n  /**\n   * Sets a subset of the state. This only exists because _pendingState is\n   * internal. This provides a merging strategy that is not available to deep\n   * properties which is confusing. TODO: Expose pendingState or don't use it\n   * during the merge.\n   *\n   * @param {ReactClass} publicInstance The instance that should rerender.\n   * @param {object} partialState Next partial state to be merged with state.\n   * @param {?function} callback Called after component is updated.\n   * @param {?string} Name of the calling function in the public API.\n   * @internal\n   */\n  enqueueSetState: function (publicInstance, partialState, callback, callerName) {\n    warnNoop(publicInstance, 'setState');\n  }\n};\n\nvar emptyObject = {};\n\n{\n  Object.freeze(emptyObject);\n}\n/**\n * Base class helpers for the updating state of a component.\n */\n\n\nfunction Component(props, context, updater) {\n  this.props = props;\n  this.context = context; // If a component has string refs, we will assign a different object later.\n\n  this.refs = emptyObject; // We initialize the default updater but the real one gets injected by the\n  // renderer.\n\n  this.updater = updater || ReactNoopUpdateQueue;\n}\n\nComponent.prototype.isReactComponent = {};\n/**\n * Sets a subset of the state. Always use this to mutate\n * state. You should treat `this.state` as immutable.\n *\n * There is no guarantee that `this.state` will be immediately updated, so\n * accessing `this.state` after calling this method may return the old value.\n *\n * There is no guarantee that calls to `setState` will run synchronously,\n * as they may eventually be batched together.  You can provide an optional\n * callback that will be executed when the call to setState is actually\n * completed.\n *\n * When a function is provided to setState, it will be called at some point in\n * the future (not synchronously). It will be called with the up to date\n * component arguments (state, props, context). These values can be different\n * from this.* because your function may be called after receiveProps but before\n * shouldComponentUpdate, and this new state, props, and context will not yet be\n * assigned to this.\n *\n * @param {object|function} partialState Next partial state or function to\n *        produce next partial state to be merged with current state.\n * @param {?function} callback Called after state is updated.\n * @final\n * @protected\n */\n\nComponent.prototype.setState = function (partialState, callback) {\n  if (!(typeof partialState === 'object' || typeof partialState === 'function' || partialState == null)) {\n    {\n      throw Error( \"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\" );\n    }\n  }\n\n  this.updater.enqueueSetState(this, partialState, callback, 'setState');\n};\n/**\n * Forces an update. This should only be invoked when it is known with\n * certainty that we are **not** in a DOM transaction.\n *\n * You may want to call this when you know that some deeper aspect of the\n * component's state has changed but `setState` was not called.\n *\n * This will not invoke `shouldComponentUpdate`, but it will invoke\n * `componentWillUpdate` and `componentDidUpdate`.\n *\n * @param {?function} callback Called after update is complete.\n * @final\n * @protected\n */\n\n\nComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this, callback, 'forceUpdate');\n};\n/**\n * Deprecated APIs. These APIs used to exist on classic React classes but since\n * we would like to deprecate them, we're not going to move them over to this\n * modern base class. Instead, we define a getter that warns if it's accessed.\n */\n\n\n{\n  var deprecatedAPIs = {\n    isMounted: ['isMounted', 'Instead, make sure to clean up subscriptions and pending requests in ' + 'componentWillUnmount to prevent memory leaks.'],\n    replaceState: ['replaceState', 'Refactor your code to use setState instead (see ' + 'https://github.com/facebook/react/issues/3236).']\n  };\n\n  var defineDeprecationWarning = function (methodName, info) {\n    Object.defineProperty(Component.prototype, methodName, {\n      get: function () {\n        warn('%s(...) is deprecated in plain JavaScript React classes. %s', info[0], info[1]);\n\n        return undefined;\n      }\n    });\n  };\n\n  for (var fnName in deprecatedAPIs) {\n    if (deprecatedAPIs.hasOwnProperty(fnName)) {\n      defineDeprecationWarning(fnName, deprecatedAPIs[fnName]);\n    }\n  }\n}\n\nfunction ComponentDummy() {}\n\nComponentDummy.prototype = Component.prototype;\n/**\n * Convenience component with default shallow equality check for sCU.\n */\n\nfunction PureComponent(props, context, updater) {\n  this.props = props;\n  this.context = context; // If a component has string refs, we will assign a different object later.\n\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\n\nvar pureComponentPrototype = PureComponent.prototype = new ComponentDummy();\npureComponentPrototype.constructor = PureComponent; // Avoid an extra prototype jump for these methods.\n\n_assign(pureComponentPrototype, Component.prototype);\n\npureComponentPrototype.isPureReactComponent = true;\n\n// an immutable object with a single mutable value\nfunction createRef() {\n  var refObject = {\n    current: null\n  };\n\n  {\n    Object.seal(refObject);\n  }\n\n  return refObject;\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar RESERVED_PROPS = {\n  key: true,\n  ref: true,\n  __self: true,\n  __source: true\n};\nvar specialPropKeyWarningShown, specialPropRefWarningShown, didWarnAboutStringRefs;\n\n{\n  didWarnAboutStringRefs = {};\n}\n\nfunction hasValidRef(config) {\n  {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.key !== undefined;\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  var warnAboutAccessingKey = function () {\n    {\n      if (!specialPropKeyWarningShown) {\n        specialPropKeyWarningShown = true;\n\n        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://fb.me/react-special-props)', displayName);\n      }\n    }\n  };\n\n  warnAboutAccessingKey.isReactWarning = true;\n  Object.defineProperty(props, 'key', {\n    get: warnAboutAccessingKey,\n    configurable: true\n  });\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  var warnAboutAccessingRef = function () {\n    {\n      if (!specialPropRefWarningShown) {\n        specialPropRefWarningShown = true;\n\n        error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://fb.me/react-special-props)', displayName);\n      }\n    }\n  };\n\n  warnAboutAccessingRef.isReactWarning = true;\n  Object.defineProperty(props, 'ref', {\n    get: warnAboutAccessingRef,\n    configurable: true\n  });\n}\n\nfunction warnIfStringRefCannotBeAutoConverted(config) {\n  {\n    if (typeof config.ref === 'string' && ReactCurrentOwner.current && config.__self && ReactCurrentOwner.current.stateNode !== config.__self) {\n      var componentName = getComponentName(ReactCurrentOwner.current.type);\n\n      if (!didWarnAboutStringRefs[componentName]) {\n        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://fb.me/react-strict-mode-string-ref', getComponentName(ReactCurrentOwner.current.type), config.ref);\n\n        didWarnAboutStringRefs[componentName] = true;\n      }\n    }\n  }\n}\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, instanceof check\n * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} props\n * @param {*} key\n * @param {string|object} ref\n * @param {*} owner\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @internal\n */\n\n\nvar ReactElement = function (type, key, ref, self, source, owner, props) {\n  var element = {\n    // This tag allows us to uniquely identify this as a React Element\n    $$typeof: REACT_ELEMENT_TYPE,\n    // Built-in properties that belong on the element\n    type: type,\n    key: key,\n    ref: ref,\n    props: props,\n    // Record the component responsible for creating this element.\n    _owner: owner\n  };\n\n  {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    }); // self and source are DEV only properties.\n\n    Object.defineProperty(element, '_self', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: self\n    }); // Two elements created in two different places should be considered\n    // equal for testing purposes and therefore we hide it from enumeration.\n\n    Object.defineProperty(element, '_source', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: source\n    });\n\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n};\n/**\n * Create and return a new ReactElement of the given type.\n * See https://reactjs.org/docs/react-api.html#createelement\n */\n\nfunction createElement(type, config, children) {\n  var propName; // Reserved names are extracted\n\n  var props = {};\n  var key = null;\n  var ref = null;\n  var self = null;\n  var source = null;\n\n  if (config != null) {\n    if (hasValidRef(config)) {\n      ref = config.ref;\n\n      {\n        warnIfStringRefCannotBeAutoConverted(config);\n      }\n    }\n\n    if (hasValidKey(config)) {\n      key = '' + config.key;\n    }\n\n    self = config.__self === undefined ? null : config.__self;\n    source = config.__source === undefined ? null : config.__source; // Remaining properties are added to a new props object\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        props[propName] = config[propName];\n      }\n    }\n  } // Children can be more than one argument, and those are transferred onto\n  // the newly allocated props object.\n\n\n  var childrenLength = arguments.length - 2;\n\n  if (childrenLength === 1) {\n    props.children = children;\n  } else if (childrenLength > 1) {\n    var childArray = Array(childrenLength);\n\n    for (var i = 0; i < childrenLength; i++) {\n      childArray[i] = arguments[i + 2];\n    }\n\n    {\n      if (Object.freeze) {\n        Object.freeze(childArray);\n      }\n    }\n\n    props.children = childArray;\n  } // Resolve default props\n\n\n  if (type && type.defaultProps) {\n    var defaultProps = type.defaultProps;\n\n    for (propName in defaultProps) {\n      if (props[propName] === undefined) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n  }\n\n  {\n    if (key || ref) {\n      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n      if (key) {\n        defineKeyPropWarningGetter(props, displayName);\n      }\n\n      if (ref) {\n        defineRefPropWarningGetter(props, displayName);\n      }\n    }\n  }\n\n  return ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n}\nfunction cloneAndReplaceKey(oldElement, newKey) {\n  var newElement = ReactElement(oldElement.type, newKey, oldElement.ref, oldElement._self, oldElement._source, oldElement._owner, oldElement.props);\n  return newElement;\n}\n/**\n * Clone and return a new ReactElement using element as the starting point.\n * See https://reactjs.org/docs/react-api.html#cloneelement\n */\n\nfunction cloneElement(element, config, children) {\n  if (!!(element === null || element === undefined)) {\n    {\n      throw Error( \"React.cloneElement(...): The argument must be a React element, but you passed \" + element + \".\" );\n    }\n  }\n\n  var propName; // Original props are copied\n\n  var props = _assign({}, element.props); // Reserved names are extracted\n\n\n  var key = element.key;\n  var ref = element.ref; // Self is preserved since the owner is preserved.\n\n  var self = element._self; // Source is preserved since cloneElement is unlikely to be targeted by a\n  // transpiler, and the original source is probably a better indicator of the\n  // true owner.\n\n  var source = element._source; // Owner will be preserved, unless ref is overridden\n\n  var owner = element._owner;\n\n  if (config != null) {\n    if (hasValidRef(config)) {\n      // Silently steal the ref from the parent.\n      ref = config.ref;\n      owner = ReactCurrentOwner.current;\n    }\n\n    if (hasValidKey(config)) {\n      key = '' + config.key;\n    } // Remaining properties override existing props\n\n\n    var defaultProps;\n\n    if (element.type && element.type.defaultProps) {\n      defaultProps = element.type.defaultProps;\n    }\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        if (config[propName] === undefined && defaultProps !== undefined) {\n          // Resolve default props\n          props[propName] = defaultProps[propName];\n        } else {\n          props[propName] = config[propName];\n        }\n      }\n    }\n  } // Children can be more than one argument, and those are transferred onto\n  // the newly allocated props object.\n\n\n  var childrenLength = arguments.length - 2;\n\n  if (childrenLength === 1) {\n    props.children = children;\n  } else if (childrenLength > 1) {\n    var childArray = Array(childrenLength);\n\n    for (var i = 0; i < childrenLength; i++) {\n      childArray[i] = arguments[i + 2];\n    }\n\n    props.children = childArray;\n  }\n\n  return ReactElement(element.type, key, ref, self, source, owner, props);\n}\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\n\nfunction isValidElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\n\nvar SEPARATOR = '.';\nvar SUBSEPARATOR = ':';\n/**\n * Escape and wrap key so it is safe to use as a reactid\n *\n * @param {string} key to be escaped.\n * @return {string} the escaped key.\n */\n\nfunction escape(key) {\n  var escapeRegex = /[=:]/g;\n  var escaperLookup = {\n    '=': '=0',\n    ':': '=2'\n  };\n  var escapedString = ('' + key).replace(escapeRegex, function (match) {\n    return escaperLookup[match];\n  });\n  return '$' + escapedString;\n}\n/**\n * TODO: Test that a single child and an array with one item have the same key\n * pattern.\n */\n\n\nvar didWarnAboutMaps = false;\nvar userProvidedKeyEscapeRegex = /\\/+/g;\n\nfunction escapeUserProvidedKey(text) {\n  return ('' + text).replace(userProvidedKeyEscapeRegex, '$&/');\n}\n\nvar POOL_SIZE = 10;\nvar traverseContextPool = [];\n\nfunction getPooledTraverseContext(mapResult, keyPrefix, mapFunction, mapContext) {\n  if (traverseContextPool.length) {\n    var traverseContext = traverseContextPool.pop();\n    traverseContext.result = mapResult;\n    traverseContext.keyPrefix = keyPrefix;\n    traverseContext.func = mapFunction;\n    traverseContext.context = mapContext;\n    traverseContext.count = 0;\n    return traverseContext;\n  } else {\n    return {\n      result: mapResult,\n      keyPrefix: keyPrefix,\n      func: mapFunction,\n      context: mapContext,\n      count: 0\n    };\n  }\n}\n\nfunction releaseTraverseContext(traverseContext) {\n  traverseContext.result = null;\n  traverseContext.keyPrefix = null;\n  traverseContext.func = null;\n  traverseContext.context = null;\n  traverseContext.count = 0;\n\n  if (traverseContextPool.length < POOL_SIZE) {\n    traverseContextPool.push(traverseContext);\n  }\n}\n/**\n * @param {?*} children Children tree container.\n * @param {!string} nameSoFar Name of the key path so far.\n * @param {!function} callback Callback to invoke with each child found.\n * @param {?*} traverseContext Used to pass information throughout the traversal\n * process.\n * @return {!number} The number of children in this subtree.\n */\n\n\nfunction traverseAllChildrenImpl(children, nameSoFar, callback, traverseContext) {\n  var type = typeof children;\n\n  if (type === 'undefined' || type === 'boolean') {\n    // All of the above are perceived as null.\n    children = null;\n  }\n\n  var invokeCallback = false;\n\n  if (children === null) {\n    invokeCallback = true;\n  } else {\n    switch (type) {\n      case 'string':\n      case 'number':\n        invokeCallback = true;\n        break;\n\n      case 'object':\n        switch (children.$$typeof) {\n          case REACT_ELEMENT_TYPE:\n          case REACT_PORTAL_TYPE:\n            invokeCallback = true;\n        }\n\n    }\n  }\n\n  if (invokeCallback) {\n    callback(traverseContext, children, // If it's the only child, treat the name as if it was wrapped in an array\n    // so that it's consistent if the number of children grows.\n    nameSoFar === '' ? SEPARATOR + getComponentKey(children, 0) : nameSoFar);\n    return 1;\n  }\n\n  var child;\n  var nextName;\n  var subtreeCount = 0; // Count of children found in the current subtree.\n\n  var nextNamePrefix = nameSoFar === '' ? SEPARATOR : nameSoFar + SUBSEPARATOR;\n\n  if (Array.isArray(children)) {\n    for (var i = 0; i < children.length; i++) {\n      child = children[i];\n      nextName = nextNamePrefix + getComponentKey(child, i);\n      subtreeCount += traverseAllChildrenImpl(child, nextName, callback, traverseContext);\n    }\n  } else {\n    var iteratorFn = getIteratorFn(children);\n\n    if (typeof iteratorFn === 'function') {\n\n      {\n        // Warn about using Maps as children\n        if (iteratorFn === children.entries) {\n          if (!didWarnAboutMaps) {\n            warn('Using Maps as children is deprecated and will be removed in ' + 'a future major release. Consider converting children to ' + 'an array of keyed ReactElements instead.');\n          }\n\n          didWarnAboutMaps = true;\n        }\n      }\n\n      var iterator = iteratorFn.call(children);\n      var step;\n      var ii = 0;\n\n      while (!(step = iterator.next()).done) {\n        child = step.value;\n        nextName = nextNamePrefix + getComponentKey(child, ii++);\n        subtreeCount += traverseAllChildrenImpl(child, nextName, callback, traverseContext);\n      }\n    } else if (type === 'object') {\n      var addendum = '';\n\n      {\n        addendum = ' If you meant to render a collection of children, use an array ' + 'instead.' + ReactDebugCurrentFrame.getStackAddendum();\n      }\n\n      var childrenString = '' + children;\n\n      {\n        {\n          throw Error( \"Objects are not valid as a React child (found: \" + (childrenString === '[object Object]' ? 'object with keys {' + Object.keys(children).join(', ') + '}' : childrenString) + \").\" + addendum );\n        }\n      }\n    }\n  }\n\n  return subtreeCount;\n}\n/**\n * Traverses children that are typically specified as `props.children`, but\n * might also be specified through attributes:\n *\n * - `traverseAllChildren(this.props.children, ...)`\n * - `traverseAllChildren(this.props.leftPanelChildren, ...)`\n *\n * The `traverseContext` is an optional argument that is passed through the\n * entire traversal. It can be used to store accumulations or anything else that\n * the callback might find relevant.\n *\n * @param {?*} children Children tree object.\n * @param {!function} callback To invoke upon traversing each child.\n * @param {?*} traverseContext Context for traversal.\n * @return {!number} The number of children in this subtree.\n */\n\n\nfunction traverseAllChildren(children, callback, traverseContext) {\n  if (children == null) {\n    return 0;\n  }\n\n  return traverseAllChildrenImpl(children, '', callback, traverseContext);\n}\n/**\n * Generate a key string that identifies a component within a set.\n *\n * @param {*} component A component that could contain a manual key.\n * @param {number} index Index that is used if a manual key is not provided.\n * @return {string}\n */\n\n\nfunction getComponentKey(component, index) {\n  // Do some typechecking here since we call this blindly. We want to ensure\n  // that we don't block potential future ES APIs.\n  if (typeof component === 'object' && component !== null && component.key != null) {\n    // Explicit key\n    return escape(component.key);\n  } // Implicit key determined by the index in the set\n\n\n  return index.toString(36);\n}\n\nfunction forEachSingleChild(bookKeeping, child, name) {\n  var func = bookKeeping.func,\n      context = bookKeeping.context;\n  func.call(context, child, bookKeeping.count++);\n}\n/**\n * Iterates through children that are typically specified as `props.children`.\n *\n * See https://reactjs.org/docs/react-api.html#reactchildrenforeach\n *\n * The provided forEachFunc(child, index) will be called for each\n * leaf child.\n *\n * @param {?*} children Children tree container.\n * @param {function(*, int)} forEachFunc\n * @param {*} forEachContext Context for forEachContext.\n */\n\n\nfunction forEachChildren(children, forEachFunc, forEachContext) {\n  if (children == null) {\n    return children;\n  }\n\n  var traverseContext = getPooledTraverseContext(null, null, forEachFunc, forEachContext);\n  traverseAllChildren(children, forEachSingleChild, traverseContext);\n  releaseTraverseContext(traverseContext);\n}\n\nfunction mapSingleChildIntoContext(bookKeeping, child, childKey) {\n  var result = bookKeeping.result,\n      keyPrefix = bookKeeping.keyPrefix,\n      func = bookKeeping.func,\n      context = bookKeeping.context;\n  var mappedChild = func.call(context, child, bookKeeping.count++);\n\n  if (Array.isArray(mappedChild)) {\n    mapIntoWithKeyPrefixInternal(mappedChild, result, childKey, function (c) {\n      return c;\n    });\n  } else if (mappedChild != null) {\n    if (isValidElement(mappedChild)) {\n      mappedChild = cloneAndReplaceKey(mappedChild, // Keep both the (mapped) and old keys if they differ, just as\n      // traverseAllChildren used to do for objects as children\n      keyPrefix + (mappedChild.key && (!child || child.key !== mappedChild.key) ? escapeUserProvidedKey(mappedChild.key) + '/' : '') + childKey);\n    }\n\n    result.push(mappedChild);\n  }\n}\n\nfunction mapIntoWithKeyPrefixInternal(children, array, prefix, func, context) {\n  var escapedPrefix = '';\n\n  if (prefix != null) {\n    escapedPrefix = escapeUserProvidedKey(prefix) + '/';\n  }\n\n  var traverseContext = getPooledTraverseContext(array, escapedPrefix, func, context);\n  traverseAllChildren(children, mapSingleChildIntoContext, traverseContext);\n  releaseTraverseContext(traverseContext);\n}\n/**\n * Maps children that are typically specified as `props.children`.\n *\n * See https://reactjs.org/docs/react-api.html#reactchildrenmap\n *\n * The provided mapFunction(child, key, index) will be called for each\n * leaf child.\n *\n * @param {?*} children Children tree container.\n * @param {function(*, int)} func The map function.\n * @param {*} context Context for mapFunction.\n * @return {object} Object containing the ordered map of results.\n */\n\n\nfunction mapChildren(children, func, context) {\n  if (children == null) {\n    return children;\n  }\n\n  var result = [];\n  mapIntoWithKeyPrefixInternal(children, result, null, func, context);\n  return result;\n}\n/**\n * Count the number of children that are typically specified as\n * `props.children`.\n *\n * See https://reactjs.org/docs/react-api.html#reactchildrencount\n *\n * @param {?*} children Children tree container.\n * @return {number} The number of children.\n */\n\n\nfunction countChildren(children) {\n  return traverseAllChildren(children, function () {\n    return null;\n  }, null);\n}\n/**\n * Flatten a children object (typically specified as `props.children`) and\n * return an array with appropriately re-keyed children.\n *\n * See https://reactjs.org/docs/react-api.html#reactchildrentoarray\n */\n\n\nfunction toArray(children) {\n  var result = [];\n  mapIntoWithKeyPrefixInternal(children, result, null, function (child) {\n    return child;\n  });\n  return result;\n}\n/**\n * Returns the first child in a collection of children and verifies that there\n * is only one child in the collection.\n *\n * See https://reactjs.org/docs/react-api.html#reactchildrenonly\n *\n * The current implementation of this function assumes that a single child gets\n * passed without a wrapper, but the purpose of this helper function is to\n * abstract away the particular structure of children.\n *\n * @param {?object} children Child collection structure.\n * @return {ReactElement} The first and only `ReactElement` contained in the\n * structure.\n */\n\n\nfunction onlyChild(children) {\n  if (!isValidElement(children)) {\n    {\n      throw Error( \"React.Children.only expected to receive a single React element child.\" );\n    }\n  }\n\n  return children;\n}\n\nfunction createContext(defaultValue, calculateChangedBits) {\n  if (calculateChangedBits === undefined) {\n    calculateChangedBits = null;\n  } else {\n    {\n      if (calculateChangedBits !== null && typeof calculateChangedBits !== 'function') {\n        error('createContext: Expected the optional second argument to be a ' + 'function. Instead received: %s', calculateChangedBits);\n      }\n    }\n  }\n\n  var context = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    _calculateChangedBits: calculateChangedBits,\n    // As a workaround to support multiple concurrent renderers, we categorize\n    // some renderers as primary and others as secondary. We only expect\n    // there to be two concurrent renderers at most: React Native (primary) and\n    // Fabric (secondary); React DOM (primary) and React ART (secondary).\n    // Secondary renderers store their context values on separate fields.\n    _currentValue: defaultValue,\n    _currentValue2: defaultValue,\n    // Used to track how many concurrent renderers this context currently\n    // supports within in a single renderer. Such as parallel server rendering.\n    _threadCount: 0,\n    // These are circular\n    Provider: null,\n    Consumer: null\n  };\n  context.Provider = {\n    $$typeof: REACT_PROVIDER_TYPE,\n    _context: context\n  };\n  var hasWarnedAboutUsingNestedContextConsumers = false;\n  var hasWarnedAboutUsingConsumerProvider = false;\n\n  {\n    // A separate object, but proxies back to the original context object for\n    // backwards compatibility. It has a different $$typeof, so we can properly\n    // warn for the incorrect usage of Context as a Consumer.\n    var Consumer = {\n      $$typeof: REACT_CONTEXT_TYPE,\n      _context: context,\n      _calculateChangedBits: context._calculateChangedBits\n    }; // $FlowFixMe: Flow complains about not setting a value, which is intentional here\n\n    Object.defineProperties(Consumer, {\n      Provider: {\n        get: function () {\n          if (!hasWarnedAboutUsingConsumerProvider) {\n            hasWarnedAboutUsingConsumerProvider = true;\n\n            error('Rendering <Context.Consumer.Provider> is not supported and will be removed in ' + 'a future major release. Did you mean to render <Context.Provider> instead?');\n          }\n\n          return context.Provider;\n        },\n        set: function (_Provider) {\n          context.Provider = _Provider;\n        }\n      },\n      _currentValue: {\n        get: function () {\n          return context._currentValue;\n        },\n        set: function (_currentValue) {\n          context._currentValue = _currentValue;\n        }\n      },\n      _currentValue2: {\n        get: function () {\n          return context._currentValue2;\n        },\n        set: function (_currentValue2) {\n          context._currentValue2 = _currentValue2;\n        }\n      },\n      _threadCount: {\n        get: function () {\n          return context._threadCount;\n        },\n        set: function (_threadCount) {\n          context._threadCount = _threadCount;\n        }\n      },\n      Consumer: {\n        get: function () {\n          if (!hasWarnedAboutUsingNestedContextConsumers) {\n            hasWarnedAboutUsingNestedContextConsumers = true;\n\n            error('Rendering <Context.Consumer.Consumer> is not supported and will be removed in ' + 'a future major release. Did you mean to render <Context.Consumer> instead?');\n          }\n\n          return context.Consumer;\n        }\n      }\n    }); // $FlowFixMe: Flow complains about missing properties because it doesn't understand defineProperty\n\n    context.Consumer = Consumer;\n  }\n\n  {\n    context._currentRenderer = null;\n    context._currentRenderer2 = null;\n  }\n\n  return context;\n}\n\nfunction lazy(ctor) {\n  var lazyType = {\n    $$typeof: REACT_LAZY_TYPE,\n    _ctor: ctor,\n    // React uses these fields to store the result.\n    _status: -1,\n    _result: null\n  };\n\n  {\n    // In production, this would just set it on the object.\n    var defaultProps;\n    var propTypes;\n    Object.defineProperties(lazyType, {\n      defaultProps: {\n        configurable: true,\n        get: function () {\n          return defaultProps;\n        },\n        set: function (newDefaultProps) {\n          error('React.lazy(...): It is not supported to assign `defaultProps` to ' + 'a lazy component import. Either specify them where the component ' + 'is defined, or create a wrapping component around it.');\n\n          defaultProps = newDefaultProps; // Match production behavior more closely:\n\n          Object.defineProperty(lazyType, 'defaultProps', {\n            enumerable: true\n          });\n        }\n      },\n      propTypes: {\n        configurable: true,\n        get: function () {\n          return propTypes;\n        },\n        set: function (newPropTypes) {\n          error('React.lazy(...): It is not supported to assign `propTypes` to ' + 'a lazy component import. Either specify them where the component ' + 'is defined, or create a wrapping component around it.');\n\n          propTypes = newPropTypes; // Match production behavior more closely:\n\n          Object.defineProperty(lazyType, 'propTypes', {\n            enumerable: true\n          });\n        }\n      }\n    });\n  }\n\n  return lazyType;\n}\n\nfunction forwardRef(render) {\n  {\n    if (render != null && render.$$typeof === REACT_MEMO_TYPE) {\n      error('forwardRef requires a render function but received a `memo` ' + 'component. Instead of forwardRef(memo(...)), use ' + 'memo(forwardRef(...)).');\n    } else if (typeof render !== 'function') {\n      error('forwardRef requires a render function but was given %s.', render === null ? 'null' : typeof render);\n    } else {\n      if (render.length !== 0 && render.length !== 2) {\n        error('forwardRef render functions accept exactly two parameters: props and ref. %s', render.length === 1 ? 'Did you forget to use the ref parameter?' : 'Any additional parameter will be undefined.');\n      }\n    }\n\n    if (render != null) {\n      if (render.defaultProps != null || render.propTypes != null) {\n        error('forwardRef render functions do not support propTypes or defaultProps. ' + 'Did you accidentally pass a React component?');\n      }\n    }\n  }\n\n  return {\n    $$typeof: REACT_FORWARD_REF_TYPE,\n    render: render\n  };\n}\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction memo(type, compare) {\n  {\n    if (!isValidElementType(type)) {\n      error('memo: The first argument must be a component. Instead ' + 'received: %s', type === null ? 'null' : typeof type);\n    }\n  }\n\n  return {\n    $$typeof: REACT_MEMO_TYPE,\n    type: type,\n    compare: compare === undefined ? null : compare\n  };\n}\n\nfunction resolveDispatcher() {\n  var dispatcher = ReactCurrentDispatcher.current;\n\n  if (!(dispatcher !== null)) {\n    {\n      throw Error( \"Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\\n1. You might have mismatching versions of React and the renderer (such as React DOM)\\n2. You might be breaking the Rules of Hooks\\n3. You might have more than one copy of React in the same app\\nSee https://fb.me/react-invalid-hook-call for tips about how to debug and fix this problem.\" );\n    }\n  }\n\n  return dispatcher;\n}\n\nfunction useContext(Context, unstable_observedBits) {\n  var dispatcher = resolveDispatcher();\n\n  {\n    if (unstable_observedBits !== undefined) {\n      error('useContext() second argument is reserved for future ' + 'use in React. Passing it is not supported. ' + 'You passed: %s.%s', unstable_observedBits, typeof unstable_observedBits === 'number' && Array.isArray(arguments[2]) ? '\\n\\nDid you call array.map(useContext)? ' + 'Calling Hooks inside a loop is not supported. ' + 'Learn more at https://fb.me/rules-of-hooks' : '');\n    } // TODO: add a more generic warning for invalid values.\n\n\n    if (Context._context !== undefined) {\n      var realContext = Context._context; // Don't deduplicate because this legitimately causes bugs\n      // and nobody should be using this in existing code.\n\n      if (realContext.Consumer === Context) {\n        error('Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be ' + 'removed in a future major release. Did you mean to call useContext(Context) instead?');\n      } else if (realContext.Provider === Context) {\n        error('Calling useContext(Context.Provider) is not supported. ' + 'Did you mean to call useContext(Context) instead?');\n      }\n    }\n  }\n\n  return dispatcher.useContext(Context, unstable_observedBits);\n}\nfunction useState(initialState) {\n  var dispatcher = resolveDispatcher();\n  return dispatcher.useState(initialState);\n}\nfunction useReducer(reducer, initialArg, init) {\n  var dispatcher = resolveDispatcher();\n  return dispatcher.useReducer(reducer, initialArg, init);\n}\nfunction useRef(initialValue) {\n  var dispatcher = resolveDispatcher();\n  return dispatcher.useRef(initialValue);\n}\nfunction useEffect(create, deps) {\n  var dispatcher = resolveDispatcher();\n  return dispatcher.useEffect(create, deps);\n}\nfunction useLayoutEffect(create, deps) {\n  var dispatcher = resolveDispatcher();\n  return dispatcher.useLayoutEffect(create, deps);\n}\nfunction useCallback(callback, deps) {\n  var dispatcher = resolveDispatcher();\n  return dispatcher.useCallback(callback, deps);\n}\nfunction useMemo(create, deps) {\n  var dispatcher = resolveDispatcher();\n  return dispatcher.useMemo(create, deps);\n}\nfunction useImperativeHandle(ref, create, deps) {\n  var dispatcher = resolveDispatcher();\n  return dispatcher.useImperativeHandle(ref, create, deps);\n}\nfunction useDebugValue(value, formatterFn) {\n  {\n    var dispatcher = resolveDispatcher();\n    return dispatcher.useDebugValue(value, formatterFn);\n  }\n}\n\nvar propTypesMisspellWarningShown;\n\n{\n  propTypesMisspellWarningShown = false;\n}\n\nfunction getDeclarationErrorAddendum() {\n  if (ReactCurrentOwner.current) {\n    var name = getComponentName(ReactCurrentOwner.current.type);\n\n    if (name) {\n      return '\\n\\nCheck the render method of `' + name + '`.';\n    }\n  }\n\n  return '';\n}\n\nfunction getSourceInfoErrorAddendum(source) {\n  if (source !== undefined) {\n    var fileName = source.fileName.replace(/^.*[\\\\\\/]/, '');\n    var lineNumber = source.lineNumber;\n    return '\\n\\nCheck your code at ' + fileName + ':' + lineNumber + '.';\n  }\n\n  return '';\n}\n\nfunction getSourceInfoErrorAddendumForProps(elementProps) {\n  if (elementProps !== null && elementProps !== undefined) {\n    return getSourceInfoErrorAddendum(elementProps.__source);\n  }\n\n  return '';\n}\n/**\n * Warn if there's no key explicitly set on dynamic arrays of children or\n * object keys are not valid. This allows us to keep track of children between\n * updates.\n */\n\n\nvar ownerHasKeyUseWarning = {};\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  var info = getDeclarationErrorAddendum();\n\n  if (!info) {\n    var parentName = typeof parentType === 'string' ? parentType : parentType.displayName || parentType.name;\n\n    if (parentName) {\n      info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n    }\n  }\n\n  return info;\n}\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\n\n\nfunction validateExplicitKey(element, parentType) {\n  if (!element._store || element._store.validated || element.key != null) {\n    return;\n  }\n\n  element._store.validated = true;\n  var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n  if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n    return;\n  }\n\n  ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n  // property, it may be the creator of the child that's responsible for\n  // assigning it a key.\n\n  var childOwner = '';\n\n  if (element && element._owner && element._owner !== ReactCurrentOwner.current) {\n    // Give the component that originally created this child.\n    childOwner = \" It was passed a child from \" + getComponentName(element._owner.type) + \".\";\n  }\n\n  setCurrentlyValidatingElement(element);\n\n  {\n    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://fb.me/react-warning-keys for more information.', currentComponentErrorInfo, childOwner);\n  }\n\n  setCurrentlyValidatingElement(null);\n}\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\n\n\nfunction validateChildKeys(node, parentType) {\n  if (typeof node !== 'object') {\n    return;\n  }\n\n  if (Array.isArray(node)) {\n    for (var i = 0; i < node.length; i++) {\n      var child = node[i];\n\n      if (isValidElement(child)) {\n        validateExplicitKey(child, parentType);\n      }\n    }\n  } else if (isValidElement(node)) {\n    // This element was passed in a valid location.\n    if (node._store) {\n      node._store.validated = true;\n    }\n  } else if (node) {\n    var iteratorFn = getIteratorFn(node);\n\n    if (typeof iteratorFn === 'function') {\n      // Entry iterators used to provide implicit keys,\n      // but now we print a separate warning for them later.\n      if (iteratorFn !== node.entries) {\n        var iterator = iteratorFn.call(node);\n        var step;\n\n        while (!(step = iterator.next()).done) {\n          if (isValidElement(step.value)) {\n            validateExplicitKey(step.value, parentType);\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Given an element, validate that its props follow the propTypes definition,\n * provided by the type.\n *\n * @param {ReactElement} element\n */\n\n\nfunction validatePropTypes(element) {\n  {\n    var type = element.type;\n\n    if (type === null || type === undefined || typeof type === 'string') {\n      return;\n    }\n\n    var name = getComponentName(type);\n    var propTypes;\n\n    if (typeof type === 'function') {\n      propTypes = type.propTypes;\n    } else if (typeof type === 'object' && (type.$$typeof === REACT_FORWARD_REF_TYPE || // Note: Memo only checks outer props here.\n    // Inner props are checked in the reconciler.\n    type.$$typeof === REACT_MEMO_TYPE)) {\n      propTypes = type.propTypes;\n    } else {\n      return;\n    }\n\n    if (propTypes) {\n      setCurrentlyValidatingElement(element);\n      checkPropTypes(propTypes, element.props, 'prop', name, ReactDebugCurrentFrame.getStackAddendum);\n      setCurrentlyValidatingElement(null);\n    } else if (type.PropTypes !== undefined && !propTypesMisspellWarningShown) {\n      propTypesMisspellWarningShown = true;\n\n      error('Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?', name || 'Unknown');\n    }\n\n    if (typeof type.getDefaultProps === 'function' && !type.getDefaultProps.isReactClassApproved) {\n      error('getDefaultProps is only used on classic React.createClass ' + 'definitions. Use a static property named `defaultProps` instead.');\n    }\n  }\n}\n/**\n * Given a fragment, validate that it can only be provided with fragment props\n * @param {ReactElement} fragment\n */\n\n\nfunction validateFragmentProps(fragment) {\n  {\n    setCurrentlyValidatingElement(fragment);\n    var keys = Object.keys(fragment.props);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== 'children' && key !== 'key') {\n        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n        break;\n      }\n    }\n\n    if (fragment.ref !== null) {\n      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n    }\n\n    setCurrentlyValidatingElement(null);\n  }\n}\nfunction createElementWithValidation(type, props, children) {\n  var validType = isValidElementType(type); // We warn in this case but don't throw. We expect the element creation to\n  // succeed and there will likely be errors in render.\n\n  if (!validType) {\n    var info = '';\n\n    if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n      info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n    }\n\n    var sourceInfo = getSourceInfoErrorAddendumForProps(props);\n\n    if (sourceInfo) {\n      info += sourceInfo;\n    } else {\n      info += getDeclarationErrorAddendum();\n    }\n\n    var typeString;\n\n    if (type === null) {\n      typeString = 'null';\n    } else if (Array.isArray(type)) {\n      typeString = 'array';\n    } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n      typeString = \"<\" + (getComponentName(type.type) || 'Unknown') + \" />\";\n      info = ' Did you accidentally export a JSX literal instead of a component?';\n    } else {\n      typeString = typeof type;\n    }\n\n    {\n      error('React.createElement: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n    }\n  }\n\n  var element = createElement.apply(this, arguments); // The result can be nullish if a mock or a custom function is used.\n  // TODO: Drop this when these are no longer allowed as the type argument.\n\n  if (element == null) {\n    return element;\n  } // Skip key warning if the type isn't valid since our key validation logic\n  // doesn't expect a non-string/function type and can throw confusing errors.\n  // We don't want exception behavior to differ between dev and prod.\n  // (Rendering will throw with a helpful message and as soon as the type is\n  // fixed, the key warnings will appear.)\n\n\n  if (validType) {\n    for (var i = 2; i < arguments.length; i++) {\n      validateChildKeys(arguments[i], type);\n    }\n  }\n\n  if (type === REACT_FRAGMENT_TYPE) {\n    validateFragmentProps(element);\n  } else {\n    validatePropTypes(element);\n  }\n\n  return element;\n}\nvar didWarnAboutDeprecatedCreateFactory = false;\nfunction createFactoryWithValidation(type) {\n  var validatedFactory = createElementWithValidation.bind(null, type);\n  validatedFactory.type = type;\n\n  {\n    if (!didWarnAboutDeprecatedCreateFactory) {\n      didWarnAboutDeprecatedCreateFactory = true;\n\n      warn('React.createFactory() is deprecated and will be removed in ' + 'a future major release. Consider using JSX ' + 'or use React.createElement() directly instead.');\n    } // Legacy hook: remove it\n\n\n    Object.defineProperty(validatedFactory, 'type', {\n      enumerable: false,\n      get: function () {\n        warn('Factory.type is deprecated. Access the class directly ' + 'before passing it to createFactory.');\n\n        Object.defineProperty(this, 'type', {\n          value: type\n        });\n        return type;\n      }\n    });\n  }\n\n  return validatedFactory;\n}\nfunction cloneElementWithValidation(element, props, children) {\n  var newElement = cloneElement.apply(this, arguments);\n\n  for (var i = 2; i < arguments.length; i++) {\n    validateChildKeys(arguments[i], newElement.type);\n  }\n\n  validatePropTypes(newElement);\n  return newElement;\n}\n\n{\n\n  try {\n    var frozenObject = Object.freeze({});\n    var testMap = new Map([[frozenObject, null]]);\n    var testSet = new Set([frozenObject]); // This is necessary for Rollup to not consider these unused.\n    // https://github.com/rollup/rollup/issues/1771\n    // TODO: we can remove these if Rollup fixes the bug.\n\n    testMap.set(0, 0);\n    testSet.add(0);\n  } catch (e) {\n  }\n}\n\nvar createElement$1 =  createElementWithValidation ;\nvar cloneElement$1 =  cloneElementWithValidation ;\nvar createFactory =  createFactoryWithValidation ;\nvar Children = {\n  map: mapChildren,\n  forEach: forEachChildren,\n  count: countChildren,\n  toArray: toArray,\n  only: onlyChild\n};\n\nexports.Children = Children;\nexports.Component = Component;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.PureComponent = PureComponent;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = ReactSharedInternals;\nexports.cloneElement = cloneElement$1;\nexports.createContext = createContext;\nexports.createElement = createElement$1;\nexports.createFactory = createFactory;\nexports.createRef = createRef;\nexports.forwardRef = forwardRef;\nexports.isValidElement = isValidElement;\nexports.lazy = lazy;\nexports.memo = memo;\nexports.useCallback = useCallback;\nexports.useContext = useContext;\nexports.useDebugValue = useDebugValue;\nexports.useEffect = useEffect;\nexports.useImperativeHandle = useImperativeHandle;\nexports.useLayoutEffect = useLayoutEffect;\nexports.useMemo = useMemo;\nexports.useReducer = useReducer;\nexports.useRef = useRef;\nexports.useState = useState;\nexports.version = ReactVersion;\n  })();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyaXgtcnRlL25vZGVfbW9kdWxlcy9yZWFjdC9janMvcmVhY3QuZGV2ZWxvcG1lbnQuanM/N2MxNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOzs7O0FBSWIsSUFBSSxJQUFxQztBQUN6QztBQUNBOztBQUVBLGNBQWMsbUJBQU8sQ0FBQyxnRkFBZTtBQUNyQyxxQkFBcUIsbUJBQU8sQ0FBQyw4RUFBMkI7O0FBRXhEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBFQUEwRTtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7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QUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlCQUF5Qjs7QUFFekI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1EOztBQUVuRDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLFdBQVcsRUFBRTtBQUNiLFdBQVcsRUFBRTtBQUNiLFdBQVcsY0FBYztBQUN6QixXQUFXLEVBQUU7QUFDYixXQUFXLEVBQUU7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNB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QUFTO0FBQ1Q7QUFDQTs7QUFFQSx5Q0FBeUM7O0FBRXpDO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQSxtQ0FBbUM7O0FBRW5DO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOzs7QUFHTDtBQUNBLHlDQUF5QztBQUN6Qzs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFhO0FBQ3hCLFdBQVcsRUFBRTtBQUNiOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSwwREFBMEQ7QUFDMUQ7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLEVBQUU7QUFDYjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUIsaUJBQWlCO0FBQ3BDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsYUFBYTtBQUN4Qjs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsYUFBYTtBQUN4Qjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLGlCQUFpQjtBQUNwQzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFEQUFxRDtBQUNyRDs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBLG1CQUFtQixzQkFBc0I7QUFDekM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7O0FBR0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlCQUFpQixzQkFBc0I7QUFDdkM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0giLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtdHJpeC1ydGUvbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC5kZXZlbG9wbWVudC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAbGljZW5zZSBSZWFjdCB2MTYuMTQuMFxuICogcmVhY3QuZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cblxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIChmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxudmFyIF9hc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG52YXIgY2hlY2tQcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzL2NoZWNrUHJvcFR5cGVzJyk7XG5cbnZhciBSZWFjdFZlcnNpb24gPSAnMTYuMTQuMCc7XG5cbi8vIFRoZSBTeW1ib2wgdXNlZCB0byB0YWcgdGhlIFJlYWN0RWxlbWVudC1saWtlIHR5cGVzLiBJZiB0aGVyZSBpcyBubyBuYXRpdmUgU3ltYm9sXG4vLyBub3IgcG9seWZpbGwsIHRoZW4gYSBwbGFpbiBudW1iZXIgaXMgdXNlZCBmb3IgcGVyZm9ybWFuY2UuXG52YXIgaGFzU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuZm9yO1xudmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSA6IDB4ZWFjNztcbnZhciBSRUFDVF9QT1JUQUxfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnBvcnRhbCcpIDogMHhlYWNhO1xudmFyIFJFQUNUX0ZSQUdNRU5UX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5mcmFnbWVudCcpIDogMHhlYWNiO1xudmFyIFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5zdHJpY3RfbW9kZScpIDogMHhlYWNjO1xudmFyIFJFQUNUX1BST0ZJTEVSX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5wcm9maWxlcicpIDogMHhlYWQyO1xudmFyIFJFQUNUX1BST1ZJREVSX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5wcm92aWRlcicpIDogMHhlYWNkO1xudmFyIFJFQUNUX0NPTlRFWFRfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmNvbnRleHQnKSA6IDB4ZWFjZTsgLy8gVE9ETzogV2UgZG9uJ3QgdXNlIEFzeW5jTW9kZSBvciBDb25jdXJyZW50TW9kZSBhbnltb3JlLiBUaGV5IHdlcmUgdGVtcG9yYXJ5XG52YXIgUkVBQ1RfQ09OQ1VSUkVOVF9NT0RFX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5jb25jdXJyZW50X21vZGUnKSA6IDB4ZWFjZjtcbnZhciBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuZm9yd2FyZF9yZWYnKSA6IDB4ZWFkMDtcbnZhciBSRUFDVF9TVVNQRU5TRV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3Quc3VzcGVuc2UnKSA6IDB4ZWFkMTtcbnZhciBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5zdXNwZW5zZV9saXN0JykgOiAweGVhZDg7XG52YXIgUkVBQ1RfTUVNT19UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QubWVtbycpIDogMHhlYWQzO1xudmFyIFJFQUNUX0xBWllfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmxhenknKSA6IDB4ZWFkNDtcbnZhciBSRUFDVF9CTE9DS19UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuYmxvY2snKSA6IDB4ZWFkOTtcbnZhciBSRUFDVF9GVU5EQU1FTlRBTF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuZnVuZGFtZW50YWwnKSA6IDB4ZWFkNTtcbnZhciBSRUFDVF9SRVNQT05ERVJfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnJlc3BvbmRlcicpIDogMHhlYWQ2O1xudmFyIFJFQUNUX1NDT1BFX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5zY29wZScpIDogMHhlYWQ3O1xudmFyIE1BWUJFX0lURVJBVE9SX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLml0ZXJhdG9yO1xudmFyIEZBVVhfSVRFUkFUT1JfU1lNQk9MID0gJ0BAaXRlcmF0b3InO1xuZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7XG4gIGlmIChtYXliZUl0ZXJhYmxlID09PSBudWxsIHx8IHR5cGVvZiBtYXliZUl0ZXJhYmxlICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIG1heWJlSXRlcmF0b3IgPSBNQVlCRV9JVEVSQVRPUl9TWU1CT0wgJiYgbWF5YmVJdGVyYWJsZVtNQVlCRV9JVEVSQVRPUl9TWU1CT0xdIHx8IG1heWJlSXRlcmFibGVbRkFVWF9JVEVSQVRPUl9TWU1CT0xdO1xuXG4gIGlmICh0eXBlb2YgbWF5YmVJdGVyYXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBtYXliZUl0ZXJhdG9yO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogS2VlcHMgdHJhY2sgb2YgdGhlIGN1cnJlbnQgZGlzcGF0Y2hlci5cbiAqL1xudmFyIFJlYWN0Q3VycmVudERpc3BhdGNoZXIgPSB7XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHR5cGUge1JlYWN0Q29tcG9uZW50fVxuICAgKi9cbiAgY3VycmVudDogbnVsbFxufTtcblxuLyoqXG4gKiBLZWVwcyB0cmFjayBvZiB0aGUgY3VycmVudCBiYXRjaCdzIGNvbmZpZ3VyYXRpb24gc3VjaCBhcyBob3cgbG9uZyBhbiB1cGRhdGVcbiAqIHNob3VsZCBzdXNwZW5kIGZvciBpZiBpdCBuZWVkcyB0by5cbiAqL1xudmFyIFJlYWN0Q3VycmVudEJhdGNoQ29uZmlnID0ge1xuICBzdXNwZW5zZTogbnVsbFxufTtcblxuLyoqXG4gKiBLZWVwcyB0cmFjayBvZiB0aGUgY3VycmVudCBvd25lci5cbiAqXG4gKiBUaGUgY3VycmVudCBvd25lciBpcyB0aGUgY29tcG9uZW50IHdobyBzaG91bGQgb3duIGFueSBjb21wb25lbnRzIHRoYXQgYXJlXG4gKiBjdXJyZW50bHkgYmVpbmcgY29uc3RydWN0ZWQuXG4gKi9cbnZhciBSZWFjdEN1cnJlbnRPd25lciA9IHtcbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAdHlwZSB7UmVhY3RDb21wb25lbnR9XG4gICAqL1xuICBjdXJyZW50OiBudWxsXG59O1xuXG52YXIgQkVGT1JFX1NMQVNIX1JFID0gL14oLiopW1xcXFxcXC9dLztcbmZ1bmN0aW9uIGRlc2NyaWJlQ29tcG9uZW50RnJhbWUgKG5hbWUsIHNvdXJjZSwgb3duZXJOYW1lKSB7XG4gIHZhciBzb3VyY2VJbmZvID0gJyc7XG5cbiAgaWYgKHNvdXJjZSkge1xuICAgIHZhciBwYXRoID0gc291cmNlLmZpbGVOYW1lO1xuICAgIHZhciBmaWxlTmFtZSA9IHBhdGgucmVwbGFjZShCRUZPUkVfU0xBU0hfUkUsICcnKTtcblxuICAgIHtcbiAgICAgIC8vIEluIERFViwgaW5jbHVkZSBjb2RlIGZvciBhIGNvbW1vbiBzcGVjaWFsIGNhc2U6XG4gICAgICAvLyBwcmVmZXIgXCJmb2xkZXIvaW5kZXguanNcIiBpbnN0ZWFkIG9mIGp1c3QgXCJpbmRleC5qc1wiLlxuICAgICAgaWYgKC9eaW5kZXhcXC4vLnRlc3QoZmlsZU5hbWUpKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IHBhdGgubWF0Y2goQkVGT1JFX1NMQVNIX1JFKTtcblxuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICB2YXIgcGF0aEJlZm9yZVNsYXNoID0gbWF0Y2hbMV07XG5cbiAgICAgICAgICBpZiAocGF0aEJlZm9yZVNsYXNoKSB7XG4gICAgICAgICAgICB2YXIgZm9sZGVyTmFtZSA9IHBhdGhCZWZvcmVTbGFzaC5yZXBsYWNlKEJFRk9SRV9TTEFTSF9SRSwgJycpO1xuICAgICAgICAgICAgZmlsZU5hbWUgPSBmb2xkZXJOYW1lICsgJy8nICsgZmlsZU5hbWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgc291cmNlSW5mbyA9ICcgKGF0ICcgKyBmaWxlTmFtZSArICc6JyArIHNvdXJjZS5saW5lTnVtYmVyICsgJyknO1xuICB9IGVsc2UgaWYgKG93bmVyTmFtZSkge1xuICAgIHNvdXJjZUluZm8gPSAnIChjcmVhdGVkIGJ5ICcgKyBvd25lck5hbWUgKyAnKSc7XG4gIH1cblxuICByZXR1cm4gJ1xcbiAgICBpbiAnICsgKG5hbWUgfHwgJ1Vua25vd24nKSArIHNvdXJjZUluZm87XG59XG5cbnZhciBSZXNvbHZlZCA9IDE7XG5mdW5jdGlvbiByZWZpbmVSZXNvbHZlZExhenlDb21wb25lbnQobGF6eUNvbXBvbmVudCkge1xuICByZXR1cm4gbGF6eUNvbXBvbmVudC5fc3RhdHVzID09PSBSZXNvbHZlZCA/IGxhenlDb21wb25lbnQuX3Jlc3VsdCA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldFdyYXBwZWROYW1lKG91dGVyVHlwZSwgaW5uZXJUeXBlLCB3cmFwcGVyTmFtZSkge1xuICB2YXIgZnVuY3Rpb25OYW1lID0gaW5uZXJUeXBlLmRpc3BsYXlOYW1lIHx8IGlubmVyVHlwZS5uYW1lIHx8ICcnO1xuICByZXR1cm4gb3V0ZXJUeXBlLmRpc3BsYXlOYW1lIHx8IChmdW5jdGlvbk5hbWUgIT09ICcnID8gd3JhcHBlck5hbWUgKyBcIihcIiArIGZ1bmN0aW9uTmFtZSArIFwiKVwiIDogd3JhcHBlck5hbWUpO1xufVxuXG5mdW5jdGlvbiBnZXRDb21wb25lbnROYW1lKHR5cGUpIHtcbiAgaWYgKHR5cGUgPT0gbnVsbCkge1xuICAgIC8vIEhvc3Qgcm9vdCwgdGV4dCBub2RlIG9yIGp1c3QgaW52YWxpZCB0eXBlLlxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAge1xuICAgIGlmICh0eXBlb2YgdHlwZS50YWcgPT09ICdudW1iZXInKSB7XG4gICAgICBlcnJvcignUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZSgpLiAnICsgJ1RoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgbnVsbDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdHlwZTtcbiAgfVxuXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgUkVBQ1RfRlJBR01FTlRfVFlQRTpcbiAgICAgIHJldHVybiAnRnJhZ21lbnQnO1xuXG4gICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgIHJldHVybiAnUG9ydGFsJztcblxuICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgIHJldHVybiBcIlByb2ZpbGVyXCI7XG5cbiAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICByZXR1cm4gJ1N0cmljdE1vZGUnO1xuXG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgcmV0dXJuICdTdXNwZW5zZSc7XG5cbiAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgIHJldHVybiAnU3VzcGVuc2VMaXN0JztcbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICBzd2l0Y2ggKHR5cGUuJCR0eXBlb2YpIHtcbiAgICAgIGNhc2UgUkVBQ1RfQ09OVEVYVF9UWVBFOlxuICAgICAgICByZXR1cm4gJ0NvbnRleHQuQ29uc3VtZXInO1xuXG4gICAgICBjYXNlIFJFQUNUX1BST1ZJREVSX1RZUEU6XG4gICAgICAgIHJldHVybiAnQ29udGV4dC5Qcm92aWRlcic7XG5cbiAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgcmV0dXJuIGdldFdyYXBwZWROYW1lKHR5cGUsIHR5cGUucmVuZGVyLCAnRm9yd2FyZFJlZicpO1xuXG4gICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWUodHlwZS50eXBlKTtcblxuICAgICAgY2FzZSBSRUFDVF9CTE9DS19UWVBFOlxuICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZSh0eXBlLnJlbmRlcik7XG5cbiAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIHRoZW5hYmxlID0gdHlwZTtcbiAgICAgICAgICB2YXIgcmVzb2x2ZWRUaGVuYWJsZSA9IHJlZmluZVJlc29sdmVkTGF6eUNvbXBvbmVudCh0aGVuYWJsZSk7XG5cbiAgICAgICAgICBpZiAocmVzb2x2ZWRUaGVuYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWUocmVzb2x2ZWRUaGVuYWJsZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxudmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUgPSB7fTtcbnZhciBjdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCA9IG51bGw7XG5mdW5jdGlvbiBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChlbGVtZW50KSB7XG4gIHtcbiAgICBjdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCA9IGVsZW1lbnQ7XG4gIH1cbn1cblxue1xuICAvLyBTdGFjayBpbXBsZW1lbnRhdGlvbiBpbmplY3RlZCBieSB0aGUgY3VycmVudCByZW5kZXJlci5cbiAgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRDdXJyZW50U3RhY2sgPSBudWxsO1xuXG4gIFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3RhY2sgPSAnJzsgLy8gQWRkIGFuIGV4dHJhIHRvcCBmcmFtZSB3aGlsZSBhbiBlbGVtZW50IGlzIGJlaW5nIHZhbGlkYXRlZFxuXG4gICAgaWYgKGN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KSB7XG4gICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoY3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQudHlwZSk7XG4gICAgICB2YXIgb3duZXIgPSBjdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudC5fb3duZXI7XG4gICAgICBzdGFjayArPSBkZXNjcmliZUNvbXBvbmVudEZyYW1lKG5hbWUsIGN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50Ll9zb3VyY2UsIG93bmVyICYmIGdldENvbXBvbmVudE5hbWUob3duZXIudHlwZSkpO1xuICAgIH0gLy8gRGVsZWdhdGUgdG8gdGhlIGluamVjdGVkIHJlbmRlcmVyLXNwZWNpZmljIGltcGxlbWVudGF0aW9uXG5cblxuICAgIHZhciBpbXBsID0gUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRDdXJyZW50U3RhY2s7XG5cbiAgICBpZiAoaW1wbCkge1xuICAgICAgc3RhY2sgKz0gaW1wbCgpIHx8ICcnO1xuICAgIH1cblxuICAgIHJldHVybiBzdGFjaztcbiAgfTtcbn1cblxuLyoqXG4gKiBVc2VkIGJ5IGFjdCgpIHRvIHRyYWNrIHdoZXRoZXIgeW91J3JlIGluc2lkZSBhbiBhY3QoKSBzY29wZS5cbiAqL1xudmFyIElzU29tZVJlbmRlcmVyQWN0aW5nID0ge1xuICBjdXJyZW50OiBmYWxzZVxufTtcblxudmFyIFJlYWN0U2hhcmVkSW50ZXJuYWxzID0ge1xuICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyOiBSZWFjdEN1cnJlbnREaXNwYXRjaGVyLFxuICBSZWFjdEN1cnJlbnRCYXRjaENvbmZpZzogUmVhY3RDdXJyZW50QmF0Y2hDb25maWcsXG4gIFJlYWN0Q3VycmVudE93bmVyOiBSZWFjdEN1cnJlbnRPd25lcixcbiAgSXNTb21lUmVuZGVyZXJBY3Rpbmc6IElzU29tZVJlbmRlcmVyQWN0aW5nLFxuICAvLyBVc2VkIGJ5IHJlbmRlcmVycyB0byBhdm9pZCBidW5kbGluZyBvYmplY3QtYXNzaWduIHR3aWNlIGluIFVNRCBidW5kbGVzOlxuICBhc3NpZ246IF9hc3NpZ25cbn07XG5cbntcbiAgX2Fzc2lnbihSZWFjdFNoYXJlZEludGVybmFscywge1xuICAgIC8vIFRoZXNlIHNob3VsZCBub3QgYmUgaW5jbHVkZWQgaW4gcHJvZHVjdGlvbi5cbiAgICBSZWFjdERlYnVnQ3VycmVudEZyYW1lOiBSZWFjdERlYnVnQ3VycmVudEZyYW1lLFxuICAgIC8vIFNoaW0gZm9yIFJlYWN0IERPTSAxNi4wLjAgd2hpY2ggc3RpbGwgZGVzdHJ1Y3R1cmVkIChidXQgbm90IHVzZWQpIHRoaXMuXG4gICAgLy8gVE9ETzogcmVtb3ZlIGluIFJlYWN0IDE3LjAuXG4gICAgUmVhY3RDb21wb25lbnRUcmVlSG9vazoge31cbiAgfSk7XG59XG5cbi8vIGJ5IGNhbGxzIHRvIHRoZXNlIG1ldGhvZHMgYnkgYSBCYWJlbCBwbHVnaW4uXG4vL1xuLy8gSW4gUFJPRCAob3IgaW4gcGFja2FnZXMgd2l0aG91dCBhY2Nlc3MgdG8gUmVhY3QgaW50ZXJuYWxzKSxcbi8vIHRoZXkgYXJlIGxlZnQgYXMgdGhleSBhcmUgaW5zdGVhZC5cblxuZnVuY3Rpb24gd2Fybihmb3JtYXQpIHtcbiAge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHByaW50V2FybmluZygnd2FybicsIGZvcm1hdCwgYXJncyk7XG4gIH1cbn1cbmZ1bmN0aW9uIGVycm9yKGZvcm1hdCkge1xuICB7XG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGFyZ3NbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuXG4gICAgcHJpbnRXYXJuaW5nKCdlcnJvcicsIGZvcm1hdCwgYXJncyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJpbnRXYXJuaW5nKGxldmVsLCBmb3JtYXQsIGFyZ3MpIHtcbiAgLy8gV2hlbiBjaGFuZ2luZyB0aGlzIGxvZ2ljLCB5b3UgbWlnaHQgd2FudCB0byBhbHNvXG4gIC8vIHVwZGF0ZSBjb25zb2xlV2l0aFN0YWNrRGV2Lnd3dy5qcyBhcyB3ZWxsLlxuICB7XG4gICAgdmFyIGhhc0V4aXN0aW5nU3RhY2sgPSBhcmdzLmxlbmd0aCA+IDAgJiYgdHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9PT0gJ3N0cmluZycgJiYgYXJnc1thcmdzLmxlbmd0aCAtIDFdLmluZGV4T2YoJ1xcbiAgICBpbicpID09PSAwO1xuXG4gICAgaWYgKCFoYXNFeGlzdGluZ1N0YWNrKSB7XG4gICAgICB2YXIgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0RGVidWdDdXJyZW50RnJhbWU7XG4gICAgICB2YXIgc3RhY2sgPSBSZWFjdERlYnVnQ3VycmVudEZyYW1lLmdldFN0YWNrQWRkZW5kdW0oKTtcblxuICAgICAgaWYgKHN0YWNrICE9PSAnJykge1xuICAgICAgICBmb3JtYXQgKz0gJyVzJztcbiAgICAgICAgYXJncyA9IGFyZ3MuY29uY2F0KFtzdGFja10pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBhcmdzV2l0aEZvcm1hdCA9IGFyZ3MubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gJycgKyBpdGVtO1xuICAgIH0pOyAvLyBDYXJlZnVsOiBSTiBjdXJyZW50bHkgZGVwZW5kcyBvbiB0aGlzIHByZWZpeFxuXG4gICAgYXJnc1dpdGhGb3JtYXQudW5zaGlmdCgnV2FybmluZzogJyArIGZvcm1hdCk7IC8vIFdlIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIHNwcmVhZCAob3IgLmFwcGx5KSBkaXJlY3RseSBiZWNhdXNlIGl0XG4gICAgLy8gYnJlYWtzIElFOTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xMzYxMFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1pbnRlcm5hbC9uby1wcm9kdWN0aW9uLWxvZ2dpbmdcblxuICAgIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGNvbnNvbGVbbGV2ZWxdLCBjb25zb2xlLCBhcmdzV2l0aEZvcm1hdCk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gLS0tIFdlbGNvbWUgdG8gZGVidWdnaW5nIFJlYWN0IC0tLVxuICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG4gICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICsgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICB9KTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9IGNhdGNoICh4KSB7fVxuICB9XG59XG5cbnZhciBkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnQgPSB7fTtcblxuZnVuY3Rpb24gd2Fybk5vb3AocHVibGljSW5zdGFuY2UsIGNhbGxlck5hbWUpIHtcbiAge1xuICAgIHZhciBfY29uc3RydWN0b3IgPSBwdWJsaWNJbnN0YW5jZS5jb25zdHJ1Y3RvcjtcbiAgICB2YXIgY29tcG9uZW50TmFtZSA9IF9jb25zdHJ1Y3RvciAmJiAoX2NvbnN0cnVjdG9yLmRpc3BsYXlOYW1lIHx8IF9jb25zdHJ1Y3Rvci5uYW1lKSB8fCAnUmVhY3RDbGFzcyc7XG4gICAgdmFyIHdhcm5pbmdLZXkgPSBjb21wb25lbnROYW1lICsgXCIuXCIgKyBjYWxsZXJOYW1lO1xuXG4gICAgaWYgKGRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudFt3YXJuaW5nS2V5XSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVycm9yKFwiQ2FuJ3QgY2FsbCAlcyBvbiBhIGNvbXBvbmVudCB0aGF0IGlzIG5vdCB5ZXQgbW91bnRlZC4gXCIgKyAnVGhpcyBpcyBhIG5vLW9wLCBidXQgaXQgbWlnaHQgaW5kaWNhdGUgYSBidWcgaW4geW91ciBhcHBsaWNhdGlvbi4gJyArICdJbnN0ZWFkLCBhc3NpZ24gdG8gYHRoaXMuc3RhdGVgIGRpcmVjdGx5IG9yIGRlZmluZSBhIGBzdGF0ZSA9IHt9O2AgJyArICdjbGFzcyBwcm9wZXJ0eSB3aXRoIHRoZSBkZXNpcmVkIHN0YXRlIGluIHRoZSAlcyBjb21wb25lbnQuJywgY2FsbGVyTmFtZSwgY29tcG9uZW50TmFtZSk7XG5cbiAgICBkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnRbd2FybmluZ0tleV0gPSB0cnVlO1xuICB9XG59XG4vKipcbiAqIFRoaXMgaXMgdGhlIGFic3RyYWN0IEFQSSBmb3IgYW4gdXBkYXRlIHF1ZXVlLlxuICovXG5cblxudmFyIFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlID0ge1xuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IHRoaXMgY29tcG9zaXRlIGNvbXBvbmVudCBpcyBtb3VudGVkLlxuICAgKiBAcGFyYW0ge1JlYWN0Q2xhc3N9IHB1YmxpY0luc3RhbmNlIFRoZSBpbnN0YW5jZSB3ZSB3YW50IHRvIHRlc3QuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgbW91bnRlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBmaW5hbFxuICAgKi9cbiAgaXNNb3VudGVkOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEZvcmNlcyBhbiB1cGRhdGUuIFRoaXMgc2hvdWxkIG9ubHkgYmUgaW52b2tlZCB3aGVuIGl0IGlzIGtub3duIHdpdGhcbiAgICogY2VydGFpbnR5IHRoYXQgd2UgYXJlICoqbm90KiogaW4gYSBET00gdHJhbnNhY3Rpb24uXG4gICAqXG4gICAqIFlvdSBtYXkgd2FudCB0byBjYWxsIHRoaXMgd2hlbiB5b3Uga25vdyB0aGF0IHNvbWUgZGVlcGVyIGFzcGVjdCBvZiB0aGVcbiAgICogY29tcG9uZW50J3Mgc3RhdGUgaGFzIGNoYW5nZWQgYnV0IGBzZXRTdGF0ZWAgd2FzIG5vdCBjYWxsZWQuXG4gICAqXG4gICAqIFRoaXMgd2lsbCBub3QgaW52b2tlIGBzaG91bGRDb21wb25lbnRVcGRhdGVgLCBidXQgaXQgd2lsbCBpbnZva2VcbiAgICogYGNvbXBvbmVudFdpbGxVcGRhdGVgIGFuZCBgY29tcG9uZW50RGlkVXBkYXRlYC5cbiAgICpcbiAgICogQHBhcmFtIHtSZWFjdENsYXNzfSBwdWJsaWNJbnN0YW5jZSBUaGUgaW5zdGFuY2UgdGhhdCBzaG91bGQgcmVyZW5kZXIuXG4gICAqIEBwYXJhbSB7P2Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsZWQgYWZ0ZXIgY29tcG9uZW50IGlzIHVwZGF0ZWQuXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gY2FsbGVyTmFtZSBuYW1lIG9mIHRoZSBjYWxsaW5nIGZ1bmN0aW9uIGluIHRoZSBwdWJsaWMgQVBJLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlLCBjYWxsYmFjaywgY2FsbGVyTmFtZSkge1xuICAgIHdhcm5Ob29wKHB1YmxpY0luc3RhbmNlLCAnZm9yY2VVcGRhdGUnKTtcbiAgfSxcblxuICAvKipcbiAgICogUmVwbGFjZXMgYWxsIG9mIHRoZSBzdGF0ZS4gQWx3YXlzIHVzZSB0aGlzIG9yIGBzZXRTdGF0ZWAgdG8gbXV0YXRlIHN0YXRlLlxuICAgKiBZb3Ugc2hvdWxkIHRyZWF0IGB0aGlzLnN0YXRlYCBhcyBpbW11dGFibGUuXG4gICAqXG4gICAqIFRoZXJlIGlzIG5vIGd1YXJhbnRlZSB0aGF0IGB0aGlzLnN0YXRlYCB3aWxsIGJlIGltbWVkaWF0ZWx5IHVwZGF0ZWQsIHNvXG4gICAqIGFjY2Vzc2luZyBgdGhpcy5zdGF0ZWAgYWZ0ZXIgY2FsbGluZyB0aGlzIG1ldGhvZCBtYXkgcmV0dXJuIHRoZSBvbGQgdmFsdWUuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RDbGFzc30gcHVibGljSW5zdGFuY2UgVGhlIGluc3RhbmNlIHRoYXQgc2hvdWxkIHJlcmVuZGVyLlxuICAgKiBAcGFyYW0ge29iamVjdH0gY29tcGxldGVTdGF0ZSBOZXh0IHN0YXRlLlxuICAgKiBAcGFyYW0gez9mdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIGFmdGVyIGNvbXBvbmVudCBpcyB1cGRhdGVkLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IGNhbGxlck5hbWUgbmFtZSBvZiB0aGUgY2FsbGluZyBmdW5jdGlvbiBpbiB0aGUgcHVibGljIEFQSS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBlbnF1ZXVlUmVwbGFjZVN0YXRlOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UsIGNvbXBsZXRlU3RhdGUsIGNhbGxiYWNrLCBjYWxsZXJOYW1lKSB7XG4gICAgd2Fybk5vb3AocHVibGljSW5zdGFuY2UsICdyZXBsYWNlU3RhdGUnKTtcbiAgfSxcblxuICAvKipcbiAgICogU2V0cyBhIHN1YnNldCBvZiB0aGUgc3RhdGUuIFRoaXMgb25seSBleGlzdHMgYmVjYXVzZSBfcGVuZGluZ1N0YXRlIGlzXG4gICAqIGludGVybmFsLiBUaGlzIHByb3ZpZGVzIGEgbWVyZ2luZyBzdHJhdGVneSB0aGF0IGlzIG5vdCBhdmFpbGFibGUgdG8gZGVlcFxuICAgKiBwcm9wZXJ0aWVzIHdoaWNoIGlzIGNvbmZ1c2luZy4gVE9ETzogRXhwb3NlIHBlbmRpbmdTdGF0ZSBvciBkb24ndCB1c2UgaXRcbiAgICogZHVyaW5nIHRoZSBtZXJnZS5cbiAgICpcbiAgICogQHBhcmFtIHtSZWFjdENsYXNzfSBwdWJsaWNJbnN0YW5jZSBUaGUgaW5zdGFuY2UgdGhhdCBzaG91bGQgcmVyZW5kZXIuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJ0aWFsU3RhdGUgTmV4dCBwYXJ0aWFsIHN0YXRlIHRvIGJlIG1lcmdlZCB3aXRoIHN0YXRlLlxuICAgKiBAcGFyYW0gez9mdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIGFmdGVyIGNvbXBvbmVudCBpcyB1cGRhdGVkLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IE5hbWUgb2YgdGhlIGNhbGxpbmcgZnVuY3Rpb24gaW4gdGhlIHB1YmxpYyBBUEkuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZW5xdWV1ZVNldFN0YXRlOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UsIHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2ssIGNhbGxlck5hbWUpIHtcbiAgICB3YXJuTm9vcChwdWJsaWNJbnN0YW5jZSwgJ3NldFN0YXRlJyk7XG4gIH1cbn07XG5cbnZhciBlbXB0eU9iamVjdCA9IHt9O1xuXG57XG4gIE9iamVjdC5mcmVlemUoZW1wdHlPYmplY3QpO1xufVxuLyoqXG4gKiBCYXNlIGNsYXNzIGhlbHBlcnMgZm9yIHRoZSB1cGRhdGluZyBzdGF0ZSBvZiBhIGNvbXBvbmVudC5cbiAqL1xuXG5cbmZ1bmN0aW9uIENvbXBvbmVudChwcm9wcywgY29udGV4dCwgdXBkYXRlcikge1xuICB0aGlzLnByb3BzID0gcHJvcHM7XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7IC8vIElmIGEgY29tcG9uZW50IGhhcyBzdHJpbmcgcmVmcywgd2Ugd2lsbCBhc3NpZ24gYSBkaWZmZXJlbnQgb2JqZWN0IGxhdGVyLlxuXG4gIHRoaXMucmVmcyA9IGVtcHR5T2JqZWN0OyAvLyBXZSBpbml0aWFsaXplIHRoZSBkZWZhdWx0IHVwZGF0ZXIgYnV0IHRoZSByZWFsIG9uZSBnZXRzIGluamVjdGVkIGJ5IHRoZVxuICAvLyByZW5kZXJlci5cblxuICB0aGlzLnVwZGF0ZXIgPSB1cGRhdGVyIHx8IFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlO1xufVxuXG5Db21wb25lbnQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQgPSB7fTtcbi8qKlxuICogU2V0cyBhIHN1YnNldCBvZiB0aGUgc3RhdGUuIEFsd2F5cyB1c2UgdGhpcyB0byBtdXRhdGVcbiAqIHN0YXRlLiBZb3Ugc2hvdWxkIHRyZWF0IGB0aGlzLnN0YXRlYCBhcyBpbW11dGFibGUuXG4gKlxuICogVGhlcmUgaXMgbm8gZ3VhcmFudGVlIHRoYXQgYHRoaXMuc3RhdGVgIHdpbGwgYmUgaW1tZWRpYXRlbHkgdXBkYXRlZCwgc29cbiAqIGFjY2Vzc2luZyBgdGhpcy5zdGF0ZWAgYWZ0ZXIgY2FsbGluZyB0aGlzIG1ldGhvZCBtYXkgcmV0dXJuIHRoZSBvbGQgdmFsdWUuXG4gKlxuICogVGhlcmUgaXMgbm8gZ3VhcmFudGVlIHRoYXQgY2FsbHMgdG8gYHNldFN0YXRlYCB3aWxsIHJ1biBzeW5jaHJvbm91c2x5LFxuICogYXMgdGhleSBtYXkgZXZlbnR1YWxseSBiZSBiYXRjaGVkIHRvZ2V0aGVyLiAgWW91IGNhbiBwcm92aWRlIGFuIG9wdGlvbmFsXG4gKiBjYWxsYmFjayB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgd2hlbiB0aGUgY2FsbCB0byBzZXRTdGF0ZSBpcyBhY3R1YWxseVxuICogY29tcGxldGVkLlxuICpcbiAqIFdoZW4gYSBmdW5jdGlvbiBpcyBwcm92aWRlZCB0byBzZXRTdGF0ZSwgaXQgd2lsbCBiZSBjYWxsZWQgYXQgc29tZSBwb2ludCBpblxuICogdGhlIGZ1dHVyZSAobm90IHN5bmNocm9ub3VzbHkpLiBJdCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSB1cCB0byBkYXRlXG4gKiBjb21wb25lbnQgYXJndW1lbnRzIChzdGF0ZSwgcHJvcHMsIGNvbnRleHQpLiBUaGVzZSB2YWx1ZXMgY2FuIGJlIGRpZmZlcmVudFxuICogZnJvbSB0aGlzLiogYmVjYXVzZSB5b3VyIGZ1bmN0aW9uIG1heSBiZSBjYWxsZWQgYWZ0ZXIgcmVjZWl2ZVByb3BzIGJ1dCBiZWZvcmVcbiAqIHNob3VsZENvbXBvbmVudFVwZGF0ZSwgYW5kIHRoaXMgbmV3IHN0YXRlLCBwcm9wcywgYW5kIGNvbnRleHQgd2lsbCBub3QgeWV0IGJlXG4gKiBhc3NpZ25lZCB0byB0aGlzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fGZ1bmN0aW9ufSBwYXJ0aWFsU3RhdGUgTmV4dCBwYXJ0aWFsIHN0YXRlIG9yIGZ1bmN0aW9uIHRvXG4gKiAgICAgICAgcHJvZHVjZSBuZXh0IHBhcnRpYWwgc3RhdGUgdG8gYmUgbWVyZ2VkIHdpdGggY3VycmVudCBzdGF0ZS5cbiAqIEBwYXJhbSB7P2Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsZWQgYWZ0ZXIgc3RhdGUgaXMgdXBkYXRlZC5cbiAqIEBmaW5hbFxuICogQHByb3RlY3RlZFxuICovXG5cbkNvbXBvbmVudC5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAocGFydGlhbFN0YXRlLCBjYWxsYmFjaykge1xuICBpZiAoISh0eXBlb2YgcGFydGlhbFN0YXRlID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgcGFydGlhbFN0YXRlID09PSAnZnVuY3Rpb24nIHx8IHBhcnRpYWxTdGF0ZSA9PSBudWxsKSkge1xuICAgIHtcbiAgICAgIHRocm93IEVycm9yKCBcInNldFN0YXRlKC4uLik6IHRha2VzIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMgdG8gdXBkYXRlIG9yIGEgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhbiBvYmplY3Qgb2Ygc3RhdGUgdmFyaWFibGVzLlwiICk7XG4gICAgfVxuICB9XG5cbiAgdGhpcy51cGRhdGVyLmVucXVldWVTZXRTdGF0ZSh0aGlzLCBwYXJ0aWFsU3RhdGUsIGNhbGxiYWNrLCAnc2V0U3RhdGUnKTtcbn07XG4vKipcbiAqIEZvcmNlcyBhbiB1cGRhdGUuIFRoaXMgc2hvdWxkIG9ubHkgYmUgaW52b2tlZCB3aGVuIGl0IGlzIGtub3duIHdpdGhcbiAqIGNlcnRhaW50eSB0aGF0IHdlIGFyZSAqKm5vdCoqIGluIGEgRE9NIHRyYW5zYWN0aW9uLlxuICpcbiAqIFlvdSBtYXkgd2FudCB0byBjYWxsIHRoaXMgd2hlbiB5b3Uga25vdyB0aGF0IHNvbWUgZGVlcGVyIGFzcGVjdCBvZiB0aGVcbiAqIGNvbXBvbmVudCdzIHN0YXRlIGhhcyBjaGFuZ2VkIGJ1dCBgc2V0U3RhdGVgIHdhcyBub3QgY2FsbGVkLlxuICpcbiAqIFRoaXMgd2lsbCBub3QgaW52b2tlIGBzaG91bGRDb21wb25lbnRVcGRhdGVgLCBidXQgaXQgd2lsbCBpbnZva2VcbiAqIGBjb21wb25lbnRXaWxsVXBkYXRlYCBhbmQgYGNvbXBvbmVudERpZFVwZGF0ZWAuXG4gKlxuICogQHBhcmFtIHs/ZnVuY3Rpb259IGNhbGxiYWNrIENhbGxlZCBhZnRlciB1cGRhdGUgaXMgY29tcGxldGUuXG4gKiBAZmluYWxcbiAqIEBwcm90ZWN0ZWRcbiAqL1xuXG5cbkNvbXBvbmVudC5wcm90b3R5cGUuZm9yY2VVcGRhdGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgdGhpcy51cGRhdGVyLmVucXVldWVGb3JjZVVwZGF0ZSh0aGlzLCBjYWxsYmFjaywgJ2ZvcmNlVXBkYXRlJyk7XG59O1xuLyoqXG4gKiBEZXByZWNhdGVkIEFQSXMuIFRoZXNlIEFQSXMgdXNlZCB0byBleGlzdCBvbiBjbGFzc2ljIFJlYWN0IGNsYXNzZXMgYnV0IHNpbmNlXG4gKiB3ZSB3b3VsZCBsaWtlIHRvIGRlcHJlY2F0ZSB0aGVtLCB3ZSdyZSBub3QgZ29pbmcgdG8gbW92ZSB0aGVtIG92ZXIgdG8gdGhpc1xuICogbW9kZXJuIGJhc2UgY2xhc3MuIEluc3RlYWQsIHdlIGRlZmluZSBhIGdldHRlciB0aGF0IHdhcm5zIGlmIGl0J3MgYWNjZXNzZWQuXG4gKi9cblxuXG57XG4gIHZhciBkZXByZWNhdGVkQVBJcyA9IHtcbiAgICBpc01vdW50ZWQ6IFsnaXNNb3VudGVkJywgJ0luc3RlYWQsIG1ha2Ugc3VyZSB0byBjbGVhbiB1cCBzdWJzY3JpcHRpb25zIGFuZCBwZW5kaW5nIHJlcXVlc3RzIGluICcgKyAnY29tcG9uZW50V2lsbFVubW91bnQgdG8gcHJldmVudCBtZW1vcnkgbGVha3MuJ10sXG4gICAgcmVwbGFjZVN0YXRlOiBbJ3JlcGxhY2VTdGF0ZScsICdSZWZhY3RvciB5b3VyIGNvZGUgdG8gdXNlIHNldFN0YXRlIGluc3RlYWQgKHNlZSAnICsgJ2h0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMzIzNikuJ11cbiAgfTtcblxuICB2YXIgZGVmaW5lRGVwcmVjYXRpb25XYXJuaW5nID0gZnVuY3Rpb24gKG1ldGhvZE5hbWUsIGluZm8pIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50LnByb3RvdHlwZSwgbWV0aG9kTmFtZSwge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdhcm4oJyVzKC4uLikgaXMgZGVwcmVjYXRlZCBpbiBwbGFpbiBKYXZhU2NyaXB0IFJlYWN0IGNsYXNzZXMuICVzJywgaW5mb1swXSwgaW5mb1sxXSk7XG5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBmb3IgKHZhciBmbk5hbWUgaW4gZGVwcmVjYXRlZEFQSXMpIHtcbiAgICBpZiAoZGVwcmVjYXRlZEFQSXMuaGFzT3duUHJvcGVydHkoZm5OYW1lKSkge1xuICAgICAgZGVmaW5lRGVwcmVjYXRpb25XYXJuaW5nKGZuTmFtZSwgZGVwcmVjYXRlZEFQSXNbZm5OYW1lXSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIENvbXBvbmVudER1bW15KCkge31cblxuQ29tcG9uZW50RHVtbXkucHJvdG90eXBlID0gQ29tcG9uZW50LnByb3RvdHlwZTtcbi8qKlxuICogQ29udmVuaWVuY2UgY29tcG9uZW50IHdpdGggZGVmYXVsdCBzaGFsbG93IGVxdWFsaXR5IGNoZWNrIGZvciBzQ1UuXG4gKi9cblxuZnVuY3Rpb24gUHVyZUNvbXBvbmVudChwcm9wcywgY29udGV4dCwgdXBkYXRlcikge1xuICB0aGlzLnByb3BzID0gcHJvcHM7XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7IC8vIElmIGEgY29tcG9uZW50IGhhcyBzdHJpbmcgcmVmcywgd2Ugd2lsbCBhc3NpZ24gYSBkaWZmZXJlbnQgb2JqZWN0IGxhdGVyLlxuXG4gIHRoaXMucmVmcyA9IGVtcHR5T2JqZWN0O1xuICB0aGlzLnVwZGF0ZXIgPSB1cGRhdGVyIHx8IFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlO1xufVxuXG52YXIgcHVyZUNvbXBvbmVudFByb3RvdHlwZSA9IFB1cmVDb21wb25lbnQucHJvdG90eXBlID0gbmV3IENvbXBvbmVudER1bW15KCk7XG5wdXJlQ29tcG9uZW50UHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUHVyZUNvbXBvbmVudDsgLy8gQXZvaWQgYW4gZXh0cmEgcHJvdG90eXBlIGp1bXAgZm9yIHRoZXNlIG1ldGhvZHMuXG5cbl9hc3NpZ24ocHVyZUNvbXBvbmVudFByb3RvdHlwZSwgQ29tcG9uZW50LnByb3RvdHlwZSk7XG5cbnB1cmVDb21wb25lbnRQcm90b3R5cGUuaXNQdXJlUmVhY3RDb21wb25lbnQgPSB0cnVlO1xuXG4vLyBhbiBpbW11dGFibGUgb2JqZWN0IHdpdGggYSBzaW5nbGUgbXV0YWJsZSB2YWx1ZVxuZnVuY3Rpb24gY3JlYXRlUmVmKCkge1xuICB2YXIgcmVmT2JqZWN0ID0ge1xuICAgIGN1cnJlbnQ6IG51bGxcbiAgfTtcblxuICB7XG4gICAgT2JqZWN0LnNlYWwocmVmT2JqZWN0KTtcbiAgfVxuXG4gIHJldHVybiByZWZPYmplY3Q7XG59XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgUkVTRVJWRURfUFJPUFMgPSB7XG4gIGtleTogdHJ1ZSxcbiAgcmVmOiB0cnVlLFxuICBfX3NlbGY6IHRydWUsXG4gIF9fc291cmNlOiB0cnVlXG59O1xudmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duLCBzcGVjaWFsUHJvcFJlZldhcm5pbmdTaG93biwgZGlkV2FybkFib3V0U3RyaW5nUmVmcztcblxue1xuICBkaWRXYXJuQWJvdXRTdHJpbmdSZWZzID0ge307XG59XG5cbmZ1bmN0aW9uIGhhc1ZhbGlkUmVmKGNvbmZpZykge1xuICB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCAncmVmJykpIHtcbiAgICAgIHZhciBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgJ3JlZicpLmdldDtcblxuICAgICAgaWYgKGdldHRlciAmJiBnZXR0ZXIuaXNSZWFjdFdhcm5pbmcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb25maWcucmVmICE9PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGhhc1ZhbGlkS2V5KGNvbmZpZykge1xuICB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCAna2V5JykpIHtcbiAgICAgIHZhciBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgJ2tleScpLmdldDtcblxuICAgICAgaWYgKGdldHRlciAmJiBnZXR0ZXIuaXNSZWFjdFdhcm5pbmcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb25maWcua2V5ICE9PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSkge1xuICB2YXIgd2FybkFib3V0QWNjZXNzaW5nS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgIHtcbiAgICAgIGlmICghc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24pIHtcbiAgICAgICAgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gPSB0cnVlO1xuXG4gICAgICAgIGVycm9yKCclczogYGtleWAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCAnICsgJ2luIGB1bmRlZmluZWRgIGJlaW5nIHJldHVybmVkLiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHNhbWUgJyArICd2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50ICcgKyAncHJvcC4gKGh0dHBzOi8vZmIubWUvcmVhY3Qtc3BlY2lhbC1wcm9wcyknLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHdhcm5BYm91dEFjY2Vzc2luZ0tleS5pc1JlYWN0V2FybmluZyA9IHRydWU7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ2tleScsIHtcbiAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ0tleSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGRlZmluZVJlZlByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSkge1xuICB2YXIgd2FybkFib3V0QWNjZXNzaW5nUmVmID0gZnVuY3Rpb24gKCkge1xuICAgIHtcbiAgICAgIGlmICghc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24pIHtcbiAgICAgICAgc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24gPSB0cnVlO1xuXG4gICAgICAgIGVycm9yKCclczogYHJlZmAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCAnICsgJ2luIGB1bmRlZmluZWRgIGJlaW5nIHJldHVybmVkLiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHNhbWUgJyArICd2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50ICcgKyAncHJvcC4gKGh0dHBzOi8vZmIubWUvcmVhY3Qtc3BlY2lhbC1wcm9wcyknLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHdhcm5BYm91dEFjY2Vzc2luZ1JlZi5pc1JlYWN0V2FybmluZyA9IHRydWU7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ3JlZicsIHtcbiAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ1JlZixcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHdhcm5JZlN0cmluZ1JlZkNhbm5vdEJlQXV0b0NvbnZlcnRlZChjb25maWcpIHtcbiAge1xuICAgIGlmICh0eXBlb2YgY29uZmlnLnJlZiA9PT0gJ3N0cmluZycgJiYgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCAmJiBjb25maWcuX19zZWxmICYmIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQuc3RhdGVOb2RlICE9PSBjb25maWcuX19zZWxmKSB7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC50eXBlKTtcblxuICAgICAgaWYgKCFkaWRXYXJuQWJvdXRTdHJpbmdSZWZzW2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICAgIGVycm9yKCdDb21wb25lbnQgXCIlc1wiIGNvbnRhaW5zIHRoZSBzdHJpbmcgcmVmIFwiJXNcIi4gJyArICdTdXBwb3J0IGZvciBzdHJpbmcgcmVmcyB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgcmVsZWFzZS4gJyArICdUaGlzIGNhc2UgY2Fubm90IGJlIGF1dG9tYXRpY2FsbHkgY29udmVydGVkIHRvIGFuIGFycm93IGZ1bmN0aW9uLiAnICsgJ1dlIGFzayB5b3UgdG8gbWFudWFsbHkgZml4IHRoaXMgY2FzZSBieSB1c2luZyB1c2VSZWYoKSBvciBjcmVhdGVSZWYoKSBpbnN0ZWFkLiAnICsgJ0xlYXJuIG1vcmUgYWJvdXQgdXNpbmcgcmVmcyBzYWZlbHkgaGVyZTogJyArICdodHRwczovL2ZiLm1lL3JlYWN0LXN0cmljdC1tb2RlLXN0cmluZy1yZWYnLCBnZXRDb21wb25lbnROYW1lKFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQudHlwZSksIGNvbmZpZy5yZWYpO1xuXG4gICAgICAgIGRpZFdhcm5BYm91dFN0cmluZ1JlZnNbY29tcG9uZW50TmFtZV0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuLyoqXG4gKiBGYWN0b3J5IG1ldGhvZCB0byBjcmVhdGUgYSBuZXcgUmVhY3QgZWxlbWVudC4gVGhpcyBubyBsb25nZXIgYWRoZXJlcyB0b1xuICogdGhlIGNsYXNzIHBhdHRlcm4sIHNvIGRvIG5vdCB1c2UgbmV3IHRvIGNhbGwgaXQuIEFsc28sIGluc3RhbmNlb2YgY2hlY2tcbiAqIHdpbGwgbm90IHdvcmsuIEluc3RlYWQgdGVzdCAkJHR5cGVvZiBmaWVsZCBhZ2FpbnN0IFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSB0byBjaGVja1xuICogaWYgc29tZXRoaW5nIGlzIGEgUmVhY3QgRWxlbWVudC5cbiAqXG4gKiBAcGFyYW0geyp9IHR5cGVcbiAqIEBwYXJhbSB7Kn0gcHJvcHNcbiAqIEBwYXJhbSB7Kn0ga2V5XG4gKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHJlZlxuICogQHBhcmFtIHsqfSBvd25lclxuICogQHBhcmFtIHsqfSBzZWxmIEEgKnRlbXBvcmFyeSogaGVscGVyIHRvIGRldGVjdCBwbGFjZXMgd2hlcmUgYHRoaXNgIGlzXG4gKiBkaWZmZXJlbnQgZnJvbSB0aGUgYG93bmVyYCB3aGVuIFJlYWN0LmNyZWF0ZUVsZW1lbnQgaXMgY2FsbGVkLCBzbyB0aGF0IHdlXG4gKiBjYW4gd2Fybi4gV2Ugd2FudCB0byBnZXQgcmlkIG9mIG93bmVyIGFuZCByZXBsYWNlIHN0cmluZyBgcmVmYHMgd2l0aCBhcnJvd1xuICogZnVuY3Rpb25zLCBhbmQgYXMgbG9uZyBhcyBgdGhpc2AgYW5kIG93bmVyIGFyZSB0aGUgc2FtZSwgdGhlcmUgd2lsbCBiZSBub1xuICogY2hhbmdlIGluIGJlaGF2aW9yLlxuICogQHBhcmFtIHsqfSBzb3VyY2UgQW4gYW5ub3RhdGlvbiBvYmplY3QgKGFkZGVkIGJ5IGEgdHJhbnNwaWxlciBvciBvdGhlcndpc2UpXG4gKiBpbmRpY2F0aW5nIGZpbGVuYW1lLCBsaW5lIG51bWJlciwgYW5kL29yIG90aGVyIGluZm9ybWF0aW9uLlxuICogQGludGVybmFsXG4gKi9cblxuXG52YXIgUmVhY3RFbGVtZW50ID0gZnVuY3Rpb24gKHR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIG93bmVyLCBwcm9wcykge1xuICB2YXIgZWxlbWVudCA9IHtcbiAgICAvLyBUaGlzIHRhZyBhbGxvd3MgdXMgdG8gdW5pcXVlbHkgaWRlbnRpZnkgdGhpcyBhcyBhIFJlYWN0IEVsZW1lbnRcbiAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuICAgIC8vIEJ1aWx0LWluIHByb3BlcnRpZXMgdGhhdCBiZWxvbmcgb24gdGhlIGVsZW1lbnRcbiAgICB0eXBlOiB0eXBlLFxuICAgIGtleToga2V5LFxuICAgIHJlZjogcmVmLFxuICAgIHByb3BzOiBwcm9wcyxcbiAgICAvLyBSZWNvcmQgdGhlIGNvbXBvbmVudCByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgdGhpcyBlbGVtZW50LlxuICAgIF9vd25lcjogb3duZXJcbiAgfTtcblxuICB7XG4gICAgLy8gVGhlIHZhbGlkYXRpb24gZmxhZyBpcyBjdXJyZW50bHkgbXV0YXRpdmUuIFdlIHB1dCBpdCBvblxuICAgIC8vIGFuIGV4dGVybmFsIGJhY2tpbmcgc3RvcmUgc28gdGhhdCB3ZSBjYW4gZnJlZXplIHRoZSB3aG9sZSBvYmplY3QuXG4gICAgLy8gVGhpcyBjYW4gYmUgcmVwbGFjZWQgd2l0aCBhIFdlYWtNYXAgb25jZSB0aGV5IGFyZSBpbXBsZW1lbnRlZCBpblxuICAgIC8vIGNvbW1vbmx5IHVzZWQgZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzLlxuICAgIGVsZW1lbnQuX3N0b3JlID0ge307IC8vIFRvIG1ha2UgY29tcGFyaW5nIFJlYWN0RWxlbWVudHMgZWFzaWVyIGZvciB0ZXN0aW5nIHB1cnBvc2VzLCB3ZSBtYWtlXG4gICAgLy8gdGhlIHZhbGlkYXRpb24gZmxhZyBub24tZW51bWVyYWJsZSAod2hlcmUgcG9zc2libGUsIHdoaWNoIHNob3VsZFxuICAgIC8vIGluY2x1ZGUgZXZlcnkgZW52aXJvbm1lbnQgd2UgcnVuIHRlc3RzIGluKSwgc28gdGhlIHRlc3QgZnJhbWV3b3JrXG4gICAgLy8gaWdub3JlcyBpdC5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50Ll9zdG9yZSwgJ3ZhbGlkYXRlZCcsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGZhbHNlXG4gICAgfSk7IC8vIHNlbGYgYW5kIHNvdXJjZSBhcmUgREVWIG9ubHkgcHJvcGVydGllcy5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX3NlbGYnLCB7XG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICB2YWx1ZTogc2VsZlxuICAgIH0pOyAvLyBUd28gZWxlbWVudHMgY3JlYXRlZCBpbiB0d28gZGlmZmVyZW50IHBsYWNlcyBzaG91bGQgYmUgY29uc2lkZXJlZFxuICAgIC8vIGVxdWFsIGZvciB0ZXN0aW5nIHB1cnBvc2VzIGFuZCB0aGVyZWZvcmUgd2UgaGlkZSBpdCBmcm9tIGVudW1lcmF0aW9uLlxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQsICdfc291cmNlJywge1xuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgdmFsdWU6IHNvdXJjZVxuICAgIH0pO1xuXG4gICAgaWYgKE9iamVjdC5mcmVlemUpIHtcbiAgICAgIE9iamVjdC5mcmVlemUoZWxlbWVudC5wcm9wcyk7XG4gICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufTtcbi8qKlxuICogQ3JlYXRlIGFuZCByZXR1cm4gYSBuZXcgUmVhY3RFbGVtZW50IG9mIHRoZSBnaXZlbiB0eXBlLlxuICogU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9yZWFjdC1hcGkuaHRtbCNjcmVhdGVlbGVtZW50XG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0eXBlLCBjb25maWcsIGNoaWxkcmVuKSB7XG4gIHZhciBwcm9wTmFtZTsgLy8gUmVzZXJ2ZWQgbmFtZXMgYXJlIGV4dHJhY3RlZFxuXG4gIHZhciBwcm9wcyA9IHt9O1xuICB2YXIga2V5ID0gbnVsbDtcbiAgdmFyIHJlZiA9IG51bGw7XG4gIHZhciBzZWxmID0gbnVsbDtcbiAgdmFyIHNvdXJjZSA9IG51bGw7XG5cbiAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgaWYgKGhhc1ZhbGlkUmVmKGNvbmZpZykpIHtcbiAgICAgIHJlZiA9IGNvbmZpZy5yZWY7XG5cbiAgICAgIHtcbiAgICAgICAgd2FybklmU3RyaW5nUmVmQ2Fubm90QmVBdXRvQ29udmVydGVkKGNvbmZpZyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGhhc1ZhbGlkS2V5KGNvbmZpZykpIHtcbiAgICAgIGtleSA9ICcnICsgY29uZmlnLmtleTtcbiAgICB9XG5cbiAgICBzZWxmID0gY29uZmlnLl9fc2VsZiA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGNvbmZpZy5fX3NlbGY7XG4gICAgc291cmNlID0gY29uZmlnLl9fc291cmNlID09PSB1bmRlZmluZWQgPyBudWxsIDogY29uZmlnLl9fc291cmNlOyAvLyBSZW1haW5pbmcgcHJvcGVydGllcyBhcmUgYWRkZWQgdG8gYSBuZXcgcHJvcHMgb2JqZWN0XG5cbiAgICBmb3IgKHByb3BOYW1lIGluIGNvbmZpZykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBwcm9wTmFtZSkgJiYgIVJFU0VSVkVEX1BST1BTLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfSAvLyBDaGlsZHJlbiBjYW4gYmUgbW9yZSB0aGFuIG9uZSBhcmd1bWVudCwgYW5kIHRob3NlIGFyZSB0cmFuc2ZlcnJlZCBvbnRvXG4gIC8vIHRoZSBuZXdseSBhbGxvY2F0ZWQgcHJvcHMgb2JqZWN0LlxuXG5cbiAgdmFyIGNoaWxkcmVuTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7XG5cbiAgaWYgKGNoaWxkcmVuTGVuZ3RoID09PSAxKSB7XG4gICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgfSBlbHNlIGlmIChjaGlsZHJlbkxlbmd0aCA+IDEpIHtcbiAgICB2YXIgY2hpbGRBcnJheSA9IEFycmF5KGNoaWxkcmVuTGVuZ3RoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgY2hpbGRBcnJheVtpXSA9IGFyZ3VtZW50c1tpICsgMl07XG4gICAgfVxuXG4gICAge1xuICAgICAgaWYgKE9iamVjdC5mcmVlemUpIHtcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShjaGlsZEFycmF5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkQXJyYXk7XG4gIH0gLy8gUmVzb2x2ZSBkZWZhdWx0IHByb3BzXG5cblxuICBpZiAodHlwZSAmJiB0eXBlLmRlZmF1bHRQcm9wcykge1xuICAgIHZhciBkZWZhdWx0UHJvcHMgPSB0eXBlLmRlZmF1bHRQcm9wcztcblxuICAgIGZvciAocHJvcE5hbWUgaW4gZGVmYXVsdFByb3BzKSB7XG4gICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gZGVmYXVsdFByb3BzW3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB7XG4gICAgaWYgKGtleSB8fCByZWYpIHtcbiAgICAgIHZhciBkaXNwbGF5TmFtZSA9IHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nID8gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgJ1Vua25vd24nIDogdHlwZTtcblxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVmKSB7XG4gICAgICAgIGRlZmluZVJlZlByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFJlYWN0RWxlbWVudCh0eXBlLCBrZXksIHJlZiwgc2VsZiwgc291cmNlLCBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LCBwcm9wcyk7XG59XG5mdW5jdGlvbiBjbG9uZUFuZFJlcGxhY2VLZXkob2xkRWxlbWVudCwgbmV3S2V5KSB7XG4gIHZhciBuZXdFbGVtZW50ID0gUmVhY3RFbGVtZW50KG9sZEVsZW1lbnQudHlwZSwgbmV3S2V5LCBvbGRFbGVtZW50LnJlZiwgb2xkRWxlbWVudC5fc2VsZiwgb2xkRWxlbWVudC5fc291cmNlLCBvbGRFbGVtZW50Ll9vd25lciwgb2xkRWxlbWVudC5wcm9wcyk7XG4gIHJldHVybiBuZXdFbGVtZW50O1xufVxuLyoqXG4gKiBDbG9uZSBhbmQgcmV0dXJuIGEgbmV3IFJlYWN0RWxlbWVudCB1c2luZyBlbGVtZW50IGFzIHRoZSBzdGFydGluZyBwb2ludC5cbiAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjY2xvbmVlbGVtZW50XG4gKi9cblxuZnVuY3Rpb24gY2xvbmVFbGVtZW50KGVsZW1lbnQsIGNvbmZpZywgY2hpbGRyZW4pIHtcbiAgaWYgKCEhKGVsZW1lbnQgPT09IG51bGwgfHwgZWxlbWVudCA9PT0gdW5kZWZpbmVkKSkge1xuICAgIHtcbiAgICAgIHRocm93IEVycm9yKCBcIlJlYWN0LmNsb25lRWxlbWVudCguLi4pOiBUaGUgYXJndW1lbnQgbXVzdCBiZSBhIFJlYWN0IGVsZW1lbnQsIGJ1dCB5b3UgcGFzc2VkIFwiICsgZWxlbWVudCArIFwiLlwiICk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb3BOYW1lOyAvLyBPcmlnaW5hbCBwcm9wcyBhcmUgY29waWVkXG5cbiAgdmFyIHByb3BzID0gX2Fzc2lnbih7fSwgZWxlbWVudC5wcm9wcyk7IC8vIFJlc2VydmVkIG5hbWVzIGFyZSBleHRyYWN0ZWRcblxuXG4gIHZhciBrZXkgPSBlbGVtZW50LmtleTtcbiAgdmFyIHJlZiA9IGVsZW1lbnQucmVmOyAvLyBTZWxmIGlzIHByZXNlcnZlZCBzaW5jZSB0aGUgb3duZXIgaXMgcHJlc2VydmVkLlxuXG4gIHZhciBzZWxmID0gZWxlbWVudC5fc2VsZjsgLy8gU291cmNlIGlzIHByZXNlcnZlZCBzaW5jZSBjbG9uZUVsZW1lbnQgaXMgdW5saWtlbHkgdG8gYmUgdGFyZ2V0ZWQgYnkgYVxuICAvLyB0cmFuc3BpbGVyLCBhbmQgdGhlIG9yaWdpbmFsIHNvdXJjZSBpcyBwcm9iYWJseSBhIGJldHRlciBpbmRpY2F0b3Igb2YgdGhlXG4gIC8vIHRydWUgb3duZXIuXG5cbiAgdmFyIHNvdXJjZSA9IGVsZW1lbnQuX3NvdXJjZTsgLy8gT3duZXIgd2lsbCBiZSBwcmVzZXJ2ZWQsIHVubGVzcyByZWYgaXMgb3ZlcnJpZGRlblxuXG4gIHZhciBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuXG4gIGlmIChjb25maWcgIT0gbnVsbCkge1xuICAgIGlmIChoYXNWYWxpZFJlZihjb25maWcpKSB7XG4gICAgICAvLyBTaWxlbnRseSBzdGVhbCB0aGUgcmVmIGZyb20gdGhlIHBhcmVudC5cbiAgICAgIHJlZiA9IGNvbmZpZy5yZWY7XG4gICAgICBvd25lciA9IFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQ7XG4gICAgfVxuXG4gICAgaWYgKGhhc1ZhbGlkS2V5KGNvbmZpZykpIHtcbiAgICAgIGtleSA9ICcnICsgY29uZmlnLmtleTtcbiAgICB9IC8vIFJlbWFpbmluZyBwcm9wZXJ0aWVzIG92ZXJyaWRlIGV4aXN0aW5nIHByb3BzXG5cblxuICAgIHZhciBkZWZhdWx0UHJvcHM7XG5cbiAgICBpZiAoZWxlbWVudC50eXBlICYmIGVsZW1lbnQudHlwZS5kZWZhdWx0UHJvcHMpIHtcbiAgICAgIGRlZmF1bHRQcm9wcyA9IGVsZW1lbnQudHlwZS5kZWZhdWx0UHJvcHM7XG4gICAgfVxuXG4gICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpICYmICFSRVNFUlZFRF9QUk9QUy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgaWYgKGNvbmZpZ1twcm9wTmFtZV0gPT09IHVuZGVmaW5lZCAmJiBkZWZhdWx0UHJvcHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIC8vIFJlc29sdmUgZGVmYXVsdCBwcm9wc1xuICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGRlZmF1bHRQcm9wc1twcm9wTmFtZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSAvLyBDaGlsZHJlbiBjYW4gYmUgbW9yZSB0aGFuIG9uZSBhcmd1bWVudCwgYW5kIHRob3NlIGFyZSB0cmFuc2ZlcnJlZCBvbnRvXG4gIC8vIHRoZSBuZXdseSBhbGxvY2F0ZWQgcHJvcHMgb2JqZWN0LlxuXG5cbiAgdmFyIGNoaWxkcmVuTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7XG5cbiAgaWYgKGNoaWxkcmVuTGVuZ3RoID09PSAxKSB7XG4gICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgfSBlbHNlIGlmIChjaGlsZHJlbkxlbmd0aCA+IDEpIHtcbiAgICB2YXIgY2hpbGRBcnJheSA9IEFycmF5KGNoaWxkcmVuTGVuZ3RoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgY2hpbGRBcnJheVtpXSA9IGFyZ3VtZW50c1tpICsgMl07XG4gICAgfVxuXG4gICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZEFycmF5O1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0RWxlbWVudChlbGVtZW50LnR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIG93bmVyLCBwcm9wcyk7XG59XG4vKipcbiAqIFZlcmlmaWVzIHRoZSBvYmplY3QgaXMgYSBSZWFjdEVsZW1lbnQuXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI2lzdmFsaWRlbGVtZW50XG4gKiBAcGFyYW0gez9vYmplY3R9IG9iamVjdFxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBgb2JqZWN0YCBpcyBhIFJlYWN0RWxlbWVudC5cbiAqIEBmaW5hbFxuICovXG5cbmZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50KG9iamVjdCkge1xuICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsICYmIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xufVxuXG52YXIgU0VQQVJBVE9SID0gJy4nO1xudmFyIFNVQlNFUEFSQVRPUiA9ICc6Jztcbi8qKlxuICogRXNjYXBlIGFuZCB3cmFwIGtleSBzbyBpdCBpcyBzYWZlIHRvIHVzZSBhcyBhIHJlYWN0aWRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRvIGJlIGVzY2FwZWQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBlc2NhcGVkIGtleS5cbiAqL1xuXG5mdW5jdGlvbiBlc2NhcGUoa2V5KSB7XG4gIHZhciBlc2NhcGVSZWdleCA9IC9bPTpdL2c7XG4gIHZhciBlc2NhcGVyTG9va3VwID0ge1xuICAgICc9JzogJz0wJyxcbiAgICAnOic6ICc9MidcbiAgfTtcbiAgdmFyIGVzY2FwZWRTdHJpbmcgPSAoJycgKyBrZXkpLnJlcGxhY2UoZXNjYXBlUmVnZXgsIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgIHJldHVybiBlc2NhcGVyTG9va3VwW21hdGNoXTtcbiAgfSk7XG4gIHJldHVybiAnJCcgKyBlc2NhcGVkU3RyaW5nO1xufVxuLyoqXG4gKiBUT0RPOiBUZXN0IHRoYXQgYSBzaW5nbGUgY2hpbGQgYW5kIGFuIGFycmF5IHdpdGggb25lIGl0ZW0gaGF2ZSB0aGUgc2FtZSBrZXlcbiAqIHBhdHRlcm4uXG4gKi9cblxuXG52YXIgZGlkV2FybkFib3V0TWFwcyA9IGZhbHNlO1xudmFyIHVzZXJQcm92aWRlZEtleUVzY2FwZVJlZ2V4ID0gL1xcLysvZztcblxuZnVuY3Rpb24gZXNjYXBlVXNlclByb3ZpZGVkS2V5KHRleHQpIHtcbiAgcmV0dXJuICgnJyArIHRleHQpLnJlcGxhY2UodXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXgsICckJi8nKTtcbn1cblxudmFyIFBPT0xfU0laRSA9IDEwO1xudmFyIHRyYXZlcnNlQ29udGV4dFBvb2wgPSBbXTtcblxuZnVuY3Rpb24gZ2V0UG9vbGVkVHJhdmVyc2VDb250ZXh0KG1hcFJlc3VsdCwga2V5UHJlZml4LCBtYXBGdW5jdGlvbiwgbWFwQ29udGV4dCkge1xuICBpZiAodHJhdmVyc2VDb250ZXh0UG9vbC5sZW5ndGgpIHtcbiAgICB2YXIgdHJhdmVyc2VDb250ZXh0ID0gdHJhdmVyc2VDb250ZXh0UG9vbC5wb3AoKTtcbiAgICB0cmF2ZXJzZUNvbnRleHQucmVzdWx0ID0gbWFwUmVzdWx0O1xuICAgIHRyYXZlcnNlQ29udGV4dC5rZXlQcmVmaXggPSBrZXlQcmVmaXg7XG4gICAgdHJhdmVyc2VDb250ZXh0LmZ1bmMgPSBtYXBGdW5jdGlvbjtcbiAgICB0cmF2ZXJzZUNvbnRleHQuY29udGV4dCA9IG1hcENvbnRleHQ7XG4gICAgdHJhdmVyc2VDb250ZXh0LmNvdW50ID0gMDtcbiAgICByZXR1cm4gdHJhdmVyc2VDb250ZXh0O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICByZXN1bHQ6IG1hcFJlc3VsdCxcbiAgICAgIGtleVByZWZpeDoga2V5UHJlZml4LFxuICAgICAgZnVuYzogbWFwRnVuY3Rpb24sXG4gICAgICBjb250ZXh0OiBtYXBDb250ZXh0LFxuICAgICAgY291bnQ6IDBcbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbGVhc2VUcmF2ZXJzZUNvbnRleHQodHJhdmVyc2VDb250ZXh0KSB7XG4gIHRyYXZlcnNlQ29udGV4dC5yZXN1bHQgPSBudWxsO1xuICB0cmF2ZXJzZUNvbnRleHQua2V5UHJlZml4ID0gbnVsbDtcbiAgdHJhdmVyc2VDb250ZXh0LmZ1bmMgPSBudWxsO1xuICB0cmF2ZXJzZUNvbnRleHQuY29udGV4dCA9IG51bGw7XG4gIHRyYXZlcnNlQ29udGV4dC5jb3VudCA9IDA7XG5cbiAgaWYgKHRyYXZlcnNlQ29udGV4dFBvb2wubGVuZ3RoIDwgUE9PTF9TSVpFKSB7XG4gICAgdHJhdmVyc2VDb250ZXh0UG9vbC5wdXNoKHRyYXZlcnNlQ29udGV4dCk7XG4gIH1cbn1cbi8qKlxuICogQHBhcmFtIHs/Kn0gY2hpbGRyZW4gQ2hpbGRyZW4gdHJlZSBjb250YWluZXIuXG4gKiBAcGFyYW0geyFzdHJpbmd9IG5hbWVTb0ZhciBOYW1lIG9mIHRoZSBrZXkgcGF0aCBzbyBmYXIuXG4gKiBAcGFyYW0geyFmdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gaW52b2tlIHdpdGggZWFjaCBjaGlsZCBmb3VuZC5cbiAqIEBwYXJhbSB7Pyp9IHRyYXZlcnNlQ29udGV4dCBVc2VkIHRvIHBhc3MgaW5mb3JtYXRpb24gdGhyb3VnaG91dCB0aGUgdHJhdmVyc2FsXG4gKiBwcm9jZXNzLlxuICogQHJldHVybiB7IW51bWJlcn0gVGhlIG51bWJlciBvZiBjaGlsZHJlbiBpbiB0aGlzIHN1YnRyZWUuXG4gKi9cblxuXG5mdW5jdGlvbiB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZHJlbiwgbmFtZVNvRmFyLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIGNoaWxkcmVuO1xuXG4gIGlmICh0eXBlID09PSAndW5kZWZpbmVkJyB8fCB0eXBlID09PSAnYm9vbGVhbicpIHtcbiAgICAvLyBBbGwgb2YgdGhlIGFib3ZlIGFyZSBwZXJjZWl2ZWQgYXMgbnVsbC5cbiAgICBjaGlsZHJlbiA9IG51bGw7XG4gIH1cblxuICB2YXIgaW52b2tlQ2FsbGJhY2sgPSBmYWxzZTtcblxuICBpZiAoY2hpbGRyZW4gPT09IG51bGwpIHtcbiAgICBpbnZva2VDYWxsYmFjayA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgaW52b2tlQ2FsbGJhY2sgPSB0cnVlO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgc3dpdGNoIChjaGlsZHJlbi4kJHR5cGVvZikge1xuICAgICAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOlxuICAgICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgICBpbnZva2VDYWxsYmFjayA9IHRydWU7XG4gICAgICAgIH1cblxuICAgIH1cbiAgfVxuXG4gIGlmIChpbnZva2VDYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKHRyYXZlcnNlQ29udGV4dCwgY2hpbGRyZW4sIC8vIElmIGl0J3MgdGhlIG9ubHkgY2hpbGQsIHRyZWF0IHRoZSBuYW1lIGFzIGlmIGl0IHdhcyB3cmFwcGVkIGluIGFuIGFycmF5XG4gICAgLy8gc28gdGhhdCBpdCdzIGNvbnNpc3RlbnQgaWYgdGhlIG51bWJlciBvZiBjaGlsZHJlbiBncm93cy5cbiAgICBuYW1lU29GYXIgPT09ICcnID8gU0VQQVJBVE9SICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkcmVuLCAwKSA6IG5hbWVTb0Zhcik7XG4gICAgcmV0dXJuIDE7XG4gIH1cblxuICB2YXIgY2hpbGQ7XG4gIHZhciBuZXh0TmFtZTtcbiAgdmFyIHN1YnRyZWVDb3VudCA9IDA7IC8vIENvdW50IG9mIGNoaWxkcmVuIGZvdW5kIGluIHRoZSBjdXJyZW50IHN1YnRyZWUuXG5cbiAgdmFyIG5leHROYW1lUHJlZml4ID0gbmFtZVNvRmFyID09PSAnJyA/IFNFUEFSQVRPUiA6IG5hbWVTb0ZhciArIFNVQlNFUEFSQVRPUjtcblxuICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgbmV4dE5hbWUgPSBuZXh0TmFtZVByZWZpeCArIGdldENvbXBvbmVudEtleShjaGlsZCwgaSk7XG4gICAgICBzdWJ0cmVlQ291bnQgKz0gdHJhdmVyc2VBbGxDaGlsZHJlbkltcGwoY2hpbGQsIG5leHROYW1lLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKGNoaWxkcmVuKTtcblxuICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuXG4gICAgICB7XG4gICAgICAgIC8vIFdhcm4gYWJvdXQgdXNpbmcgTWFwcyBhcyBjaGlsZHJlblxuICAgICAgICBpZiAoaXRlcmF0b3JGbiA9PT0gY2hpbGRyZW4uZW50cmllcykge1xuICAgICAgICAgIGlmICghZGlkV2FybkFib3V0TWFwcykge1xuICAgICAgICAgICAgd2FybignVXNpbmcgTWFwcyBhcyBjaGlsZHJlbiBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gJyArICdhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiBDb25zaWRlciBjb252ZXJ0aW5nIGNoaWxkcmVuIHRvICcgKyAnYW4gYXJyYXkgb2Yga2V5ZWQgUmVhY3RFbGVtZW50cyBpbnN0ZWFkLicpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRpZFdhcm5BYm91dE1hcHMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChjaGlsZHJlbik7XG4gICAgICB2YXIgc3RlcDtcbiAgICAgIHZhciBpaSA9IDA7XG5cbiAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgY2hpbGQgPSBzdGVwLnZhbHVlO1xuICAgICAgICBuZXh0TmFtZSA9IG5leHROYW1lUHJlZml4ICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkLCBpaSsrKTtcbiAgICAgICAgc3VidHJlZUNvdW50ICs9IHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkLCBuZXh0TmFtZSwgY2FsbGJhY2ssIHRyYXZlcnNlQ29udGV4dCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgdmFyIGFkZGVuZHVtID0gJyc7XG5cbiAgICAgIHtcbiAgICAgICAgYWRkZW5kdW0gPSAnIElmIHlvdSBtZWFudCB0byByZW5kZXIgYSBjb2xsZWN0aW9uIG9mIGNoaWxkcmVuLCB1c2UgYW4gYXJyYXkgJyArICdpbnN0ZWFkLicgKyBSZWFjdERlYnVnQ3VycmVudEZyYW1lLmdldFN0YWNrQWRkZW5kdW0oKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNoaWxkcmVuU3RyaW5nID0gJycgKyBjaGlsZHJlbjtcblxuICAgICAge1xuICAgICAgICB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoIFwiT2JqZWN0cyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQgKGZvdW5kOiBcIiArIChjaGlsZHJlblN0cmluZyA9PT0gJ1tvYmplY3QgT2JqZWN0XScgPyAnb2JqZWN0IHdpdGgga2V5cyB7JyArIE9iamVjdC5rZXlzKGNoaWxkcmVuKS5qb2luKCcsICcpICsgJ30nIDogY2hpbGRyZW5TdHJpbmcpICsgXCIpLlwiICsgYWRkZW5kdW0gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzdWJ0cmVlQ291bnQ7XG59XG4vKipcbiAqIFRyYXZlcnNlcyBjaGlsZHJlbiB0aGF0IGFyZSB0eXBpY2FsbHkgc3BlY2lmaWVkIGFzIGBwcm9wcy5jaGlsZHJlbmAsIGJ1dFxuICogbWlnaHQgYWxzbyBiZSBzcGVjaWZpZWQgdGhyb3VnaCBhdHRyaWJ1dGVzOlxuICpcbiAqIC0gYHRyYXZlcnNlQWxsQ2hpbGRyZW4odGhpcy5wcm9wcy5jaGlsZHJlbiwgLi4uKWBcbiAqIC0gYHRyYXZlcnNlQWxsQ2hpbGRyZW4odGhpcy5wcm9wcy5sZWZ0UGFuZWxDaGlsZHJlbiwgLi4uKWBcbiAqXG4gKiBUaGUgYHRyYXZlcnNlQ29udGV4dGAgaXMgYW4gb3B0aW9uYWwgYXJndW1lbnQgdGhhdCBpcyBwYXNzZWQgdGhyb3VnaCB0aGVcbiAqIGVudGlyZSB0cmF2ZXJzYWwuIEl0IGNhbiBiZSB1c2VkIHRvIHN0b3JlIGFjY3VtdWxhdGlvbnMgb3IgYW55dGhpbmcgZWxzZSB0aGF0XG4gKiB0aGUgY2FsbGJhY2sgbWlnaHQgZmluZCByZWxldmFudC5cbiAqXG4gKiBAcGFyYW0gez8qfSBjaGlsZHJlbiBDaGlsZHJlbiB0cmVlIG9iamVjdC5cbiAqIEBwYXJhbSB7IWZ1bmN0aW9ufSBjYWxsYmFjayBUbyBpbnZva2UgdXBvbiB0cmF2ZXJzaW5nIGVhY2ggY2hpbGQuXG4gKiBAcGFyYW0gez8qfSB0cmF2ZXJzZUNvbnRleHQgQ29udGV4dCBmb3IgdHJhdmVyc2FsLlxuICogQHJldHVybiB7IW51bWJlcn0gVGhlIG51bWJlciBvZiBjaGlsZHJlbiBpbiB0aGlzIHN1YnRyZWUuXG4gKi9cblxuXG5mdW5jdGlvbiB0cmF2ZXJzZUFsbENoaWxkcmVuKGNoaWxkcmVuLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KSB7XG4gIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICByZXR1cm4gdHJhdmVyc2VBbGxDaGlsZHJlbkltcGwoY2hpbGRyZW4sICcnLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KTtcbn1cbi8qKlxuICogR2VuZXJhdGUgYSBrZXkgc3RyaW5nIHRoYXQgaWRlbnRpZmllcyBhIGNvbXBvbmVudCB3aXRoaW4gYSBzZXQuXG4gKlxuICogQHBhcmFtIHsqfSBjb21wb25lbnQgQSBjb21wb25lbnQgdGhhdCBjb3VsZCBjb250YWluIGEgbWFudWFsIGtleS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBJbmRleCB0aGF0IGlzIHVzZWQgaWYgYSBtYW51YWwga2V5IGlzIG5vdCBwcm92aWRlZC5cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuXG5cbmZ1bmN0aW9uIGdldENvbXBvbmVudEtleShjb21wb25lbnQsIGluZGV4KSB7XG4gIC8vIERvIHNvbWUgdHlwZWNoZWNraW5nIGhlcmUgc2luY2Ugd2UgY2FsbCB0aGlzIGJsaW5kbHkuIFdlIHdhbnQgdG8gZW5zdXJlXG4gIC8vIHRoYXQgd2UgZG9uJ3QgYmxvY2sgcG90ZW50aWFsIGZ1dHVyZSBFUyBBUElzLlxuICBpZiAodHlwZW9mIGNvbXBvbmVudCA9PT0gJ29iamVjdCcgJiYgY29tcG9uZW50ICE9PSBudWxsICYmIGNvbXBvbmVudC5rZXkgIT0gbnVsbCkge1xuICAgIC8vIEV4cGxpY2l0IGtleVxuICAgIHJldHVybiBlc2NhcGUoY29tcG9uZW50LmtleSk7XG4gIH0gLy8gSW1wbGljaXQga2V5IGRldGVybWluZWQgYnkgdGhlIGluZGV4IGluIHRoZSBzZXRcblxuXG4gIHJldHVybiBpbmRleC50b1N0cmluZygzNik7XG59XG5cbmZ1bmN0aW9uIGZvckVhY2hTaW5nbGVDaGlsZChib29rS2VlcGluZywgY2hpbGQsIG5hbWUpIHtcbiAgdmFyIGZ1bmMgPSBib29rS2VlcGluZy5mdW5jLFxuICAgICAgY29udGV4dCA9IGJvb2tLZWVwaW5nLmNvbnRleHQ7XG4gIGZ1bmMuY2FsbChjb250ZXh0LCBjaGlsZCwgYm9va0tlZXBpbmcuY291bnQrKyk7XG59XG4vKipcbiAqIEl0ZXJhdGVzIHRocm91Z2ggY2hpbGRyZW4gdGhhdCBhcmUgdHlwaWNhbGx5IHNwZWNpZmllZCBhcyBgcHJvcHMuY2hpbGRyZW5gLlxuICpcbiAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjcmVhY3RjaGlsZHJlbmZvcmVhY2hcbiAqXG4gKiBUaGUgcHJvdmlkZWQgZm9yRWFjaEZ1bmMoY2hpbGQsIGluZGV4KSB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaFxuICogbGVhZiBjaGlsZC5cbiAqXG4gKiBAcGFyYW0gez8qfSBjaGlsZHJlbiBDaGlsZHJlbiB0cmVlIGNvbnRhaW5lci5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKiwgaW50KX0gZm9yRWFjaEZ1bmNcbiAqIEBwYXJhbSB7Kn0gZm9yRWFjaENvbnRleHQgQ29udGV4dCBmb3IgZm9yRWFjaENvbnRleHQuXG4gKi9cblxuXG5mdW5jdGlvbiBmb3JFYWNoQ2hpbGRyZW4oY2hpbGRyZW4sIGZvckVhY2hGdW5jLCBmb3JFYWNoQ29udGV4dCkge1xuICBpZiAoY2hpbGRyZW4gPT0gbnVsbCkge1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuXG4gIHZhciB0cmF2ZXJzZUNvbnRleHQgPSBnZXRQb29sZWRUcmF2ZXJzZUNvbnRleHQobnVsbCwgbnVsbCwgZm9yRWFjaEZ1bmMsIGZvckVhY2hDb250ZXh0KTtcbiAgdHJhdmVyc2VBbGxDaGlsZHJlbihjaGlsZHJlbiwgZm9yRWFjaFNpbmdsZUNoaWxkLCB0cmF2ZXJzZUNvbnRleHQpO1xuICByZWxlYXNlVHJhdmVyc2VDb250ZXh0KHRyYXZlcnNlQ29udGV4dCk7XG59XG5cbmZ1bmN0aW9uIG1hcFNpbmdsZUNoaWxkSW50b0NvbnRleHQoYm9va0tlZXBpbmcsIGNoaWxkLCBjaGlsZEtleSkge1xuICB2YXIgcmVzdWx0ID0gYm9va0tlZXBpbmcucmVzdWx0LFxuICAgICAga2V5UHJlZml4ID0gYm9va0tlZXBpbmcua2V5UHJlZml4LFxuICAgICAgZnVuYyA9IGJvb2tLZWVwaW5nLmZ1bmMsXG4gICAgICBjb250ZXh0ID0gYm9va0tlZXBpbmcuY29udGV4dDtcbiAgdmFyIG1hcHBlZENoaWxkID0gZnVuYy5jYWxsKGNvbnRleHQsIGNoaWxkLCBib29rS2VlcGluZy5jb3VudCsrKTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShtYXBwZWRDaGlsZCkpIHtcbiAgICBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsKG1hcHBlZENoaWxkLCByZXN1bHQsIGNoaWxkS2V5LCBmdW5jdGlvbiAoYykge1xuICAgICAgcmV0dXJuIGM7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAobWFwcGVkQ2hpbGQgIT0gbnVsbCkge1xuICAgIGlmIChpc1ZhbGlkRWxlbWVudChtYXBwZWRDaGlsZCkpIHtcbiAgICAgIG1hcHBlZENoaWxkID0gY2xvbmVBbmRSZXBsYWNlS2V5KG1hcHBlZENoaWxkLCAvLyBLZWVwIGJvdGggdGhlIChtYXBwZWQpIGFuZCBvbGQga2V5cyBpZiB0aGV5IGRpZmZlciwganVzdCBhc1xuICAgICAgLy8gdHJhdmVyc2VBbGxDaGlsZHJlbiB1c2VkIHRvIGRvIGZvciBvYmplY3RzIGFzIGNoaWxkcmVuXG4gICAgICBrZXlQcmVmaXggKyAobWFwcGVkQ2hpbGQua2V5ICYmICghY2hpbGQgfHwgY2hpbGQua2V5ICE9PSBtYXBwZWRDaGlsZC5rZXkpID8gZXNjYXBlVXNlclByb3ZpZGVkS2V5KG1hcHBlZENoaWxkLmtleSkgKyAnLycgOiAnJykgKyBjaGlsZEtleSk7XG4gICAgfVxuXG4gICAgcmVzdWx0LnB1c2gobWFwcGVkQ2hpbGQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwoY2hpbGRyZW4sIGFycmF5LCBwcmVmaXgsIGZ1bmMsIGNvbnRleHQpIHtcbiAgdmFyIGVzY2FwZWRQcmVmaXggPSAnJztcblxuICBpZiAocHJlZml4ICE9IG51bGwpIHtcbiAgICBlc2NhcGVkUHJlZml4ID0gZXNjYXBlVXNlclByb3ZpZGVkS2V5KHByZWZpeCkgKyAnLyc7XG4gIH1cblxuICB2YXIgdHJhdmVyc2VDb250ZXh0ID0gZ2V0UG9vbGVkVHJhdmVyc2VDb250ZXh0KGFycmF5LCBlc2NhcGVkUHJlZml4LCBmdW5jLCBjb250ZXh0KTtcbiAgdHJhdmVyc2VBbGxDaGlsZHJlbihjaGlsZHJlbiwgbWFwU2luZ2xlQ2hpbGRJbnRvQ29udGV4dCwgdHJhdmVyc2VDb250ZXh0KTtcbiAgcmVsZWFzZVRyYXZlcnNlQ29udGV4dCh0cmF2ZXJzZUNvbnRleHQpO1xufVxuLyoqXG4gKiBNYXBzIGNoaWxkcmVuIHRoYXQgYXJlIHR5cGljYWxseSBzcGVjaWZpZWQgYXMgYHByb3BzLmNoaWxkcmVuYC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI3JlYWN0Y2hpbGRyZW5tYXBcbiAqXG4gKiBUaGUgcHJvdmlkZWQgbWFwRnVuY3Rpb24oY2hpbGQsIGtleSwgaW5kZXgpIHdpbGwgYmUgY2FsbGVkIGZvciBlYWNoXG4gKiBsZWFmIGNoaWxkLlxuICpcbiAqIEBwYXJhbSB7Pyp9IGNoaWxkcmVuIENoaWxkcmVuIHRyZWUgY29udGFpbmVyLlxuICogQHBhcmFtIHtmdW5jdGlvbigqLCBpbnQpfSBmdW5jIFRoZSBtYXAgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgQ29udGV4dCBmb3IgbWFwRnVuY3Rpb24uXG4gKiBAcmV0dXJuIHtvYmplY3R9IE9iamVjdCBjb250YWluaW5nIHRoZSBvcmRlcmVkIG1hcCBvZiByZXN1bHRzLlxuICovXG5cblxuZnVuY3Rpb24gbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmMsIGNvbnRleHQpIHtcbiAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gW107XG4gIG1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwoY2hpbGRyZW4sIHJlc3VsdCwgbnVsbCwgZnVuYywgY29udGV4dCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIENvdW50IHRoZSBudW1iZXIgb2YgY2hpbGRyZW4gdGhhdCBhcmUgdHlwaWNhbGx5IHNwZWNpZmllZCBhc1xuICogYHByb3BzLmNoaWxkcmVuYC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI3JlYWN0Y2hpbGRyZW5jb3VudFxuICpcbiAqIEBwYXJhbSB7Pyp9IGNoaWxkcmVuIENoaWxkcmVuIHRyZWUgY29udGFpbmVyLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbnVtYmVyIG9mIGNoaWxkcmVuLlxuICovXG5cblxuZnVuY3Rpb24gY291bnRDaGlsZHJlbihjaGlsZHJlbikge1xuICByZXR1cm4gdHJhdmVyc2VBbGxDaGlsZHJlbihjaGlsZHJlbiwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9LCBudWxsKTtcbn1cbi8qKlxuICogRmxhdHRlbiBhIGNoaWxkcmVuIG9iamVjdCAodHlwaWNhbGx5IHNwZWNpZmllZCBhcyBgcHJvcHMuY2hpbGRyZW5gKSBhbmRcbiAqIHJldHVybiBhbiBhcnJheSB3aXRoIGFwcHJvcHJpYXRlbHkgcmUta2V5ZWQgY2hpbGRyZW4uXG4gKlxuICogU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9yZWFjdC1hcGkuaHRtbCNyZWFjdGNoaWxkcmVudG9hcnJheVxuICovXG5cblxuZnVuY3Rpb24gdG9BcnJheShjaGlsZHJlbikge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIG1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwoY2hpbGRyZW4sIHJlc3VsdCwgbnVsbCwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgcmV0dXJuIGNoaWxkO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgZmlyc3QgY2hpbGQgaW4gYSBjb2xsZWN0aW9uIG9mIGNoaWxkcmVuIGFuZCB2ZXJpZmllcyB0aGF0IHRoZXJlXG4gKiBpcyBvbmx5IG9uZSBjaGlsZCBpbiB0aGUgY29sbGVjdGlvbi5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI3JlYWN0Y2hpbGRyZW5vbmx5XG4gKlxuICogVGhlIGN1cnJlbnQgaW1wbGVtZW50YXRpb24gb2YgdGhpcyBmdW5jdGlvbiBhc3N1bWVzIHRoYXQgYSBzaW5nbGUgY2hpbGQgZ2V0c1xuICogcGFzc2VkIHdpdGhvdXQgYSB3cmFwcGVyLCBidXQgdGhlIHB1cnBvc2Ugb2YgdGhpcyBoZWxwZXIgZnVuY3Rpb24gaXMgdG9cbiAqIGFic3RyYWN0IGF3YXkgdGhlIHBhcnRpY3VsYXIgc3RydWN0dXJlIG9mIGNoaWxkcmVuLlxuICpcbiAqIEBwYXJhbSB7P29iamVjdH0gY2hpbGRyZW4gQ2hpbGQgY29sbGVjdGlvbiBzdHJ1Y3R1cmUuXG4gKiBAcmV0dXJuIHtSZWFjdEVsZW1lbnR9IFRoZSBmaXJzdCBhbmQgb25seSBgUmVhY3RFbGVtZW50YCBjb250YWluZWQgaW4gdGhlXG4gKiBzdHJ1Y3R1cmUuXG4gKi9cblxuXG5mdW5jdGlvbiBvbmx5Q2hpbGQoY2hpbGRyZW4pIHtcbiAgaWYgKCFpc1ZhbGlkRWxlbWVudChjaGlsZHJlbikpIHtcbiAgICB7XG4gICAgICB0aHJvdyBFcnJvciggXCJSZWFjdC5DaGlsZHJlbi5vbmx5IGV4cGVjdGVkIHRvIHJlY2VpdmUgYSBzaW5nbGUgUmVhY3QgZWxlbWVudCBjaGlsZC5cIiApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjaGlsZHJlbjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29udGV4dChkZWZhdWx0VmFsdWUsIGNhbGN1bGF0ZUNoYW5nZWRCaXRzKSB7XG4gIGlmIChjYWxjdWxhdGVDaGFuZ2VkQml0cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY2FsY3VsYXRlQ2hhbmdlZEJpdHMgPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHtcbiAgICAgIGlmIChjYWxjdWxhdGVDaGFuZ2VkQml0cyAhPT0gbnVsbCAmJiB0eXBlb2YgY2FsY3VsYXRlQ2hhbmdlZEJpdHMgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZXJyb3IoJ2NyZWF0ZUNvbnRleHQ6IEV4cGVjdGVkIHRoZSBvcHRpb25hbCBzZWNvbmQgYXJndW1lbnQgdG8gYmUgYSAnICsgJ2Z1bmN0aW9uLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcycsIGNhbGN1bGF0ZUNoYW5nZWRCaXRzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgY29udGV4dCA9IHtcbiAgICAkJHR5cGVvZjogUkVBQ1RfQ09OVEVYVF9UWVBFLFxuICAgIF9jYWxjdWxhdGVDaGFuZ2VkQml0czogY2FsY3VsYXRlQ2hhbmdlZEJpdHMsXG4gICAgLy8gQXMgYSB3b3JrYXJvdW5kIHRvIHN1cHBvcnQgbXVsdGlwbGUgY29uY3VycmVudCByZW5kZXJlcnMsIHdlIGNhdGVnb3JpemVcbiAgICAvLyBzb21lIHJlbmRlcmVycyBhcyBwcmltYXJ5IGFuZCBvdGhlcnMgYXMgc2Vjb25kYXJ5LiBXZSBvbmx5IGV4cGVjdFxuICAgIC8vIHRoZXJlIHRvIGJlIHR3byBjb25jdXJyZW50IHJlbmRlcmVycyBhdCBtb3N0OiBSZWFjdCBOYXRpdmUgKHByaW1hcnkpIGFuZFxuICAgIC8vIEZhYnJpYyAoc2Vjb25kYXJ5KTsgUmVhY3QgRE9NIChwcmltYXJ5KSBhbmQgUmVhY3QgQVJUIChzZWNvbmRhcnkpLlxuICAgIC8vIFNlY29uZGFyeSByZW5kZXJlcnMgc3RvcmUgdGhlaXIgY29udGV4dCB2YWx1ZXMgb24gc2VwYXJhdGUgZmllbGRzLlxuICAgIF9jdXJyZW50VmFsdWU6IGRlZmF1bHRWYWx1ZSxcbiAgICBfY3VycmVudFZhbHVlMjogZGVmYXVsdFZhbHVlLFxuICAgIC8vIFVzZWQgdG8gdHJhY2sgaG93IG1hbnkgY29uY3VycmVudCByZW5kZXJlcnMgdGhpcyBjb250ZXh0IGN1cnJlbnRseVxuICAgIC8vIHN1cHBvcnRzIHdpdGhpbiBpbiBhIHNpbmdsZSByZW5kZXJlci4gU3VjaCBhcyBwYXJhbGxlbCBzZXJ2ZXIgcmVuZGVyaW5nLlxuICAgIF90aHJlYWRDb3VudDogMCxcbiAgICAvLyBUaGVzZSBhcmUgY2lyY3VsYXJcbiAgICBQcm92aWRlcjogbnVsbCxcbiAgICBDb25zdW1lcjogbnVsbFxuICB9O1xuICBjb250ZXh0LlByb3ZpZGVyID0ge1xuICAgICQkdHlwZW9mOiBSRUFDVF9QUk9WSURFUl9UWVBFLFxuICAgIF9jb250ZXh0OiBjb250ZXh0XG4gIH07XG4gIHZhciBoYXNXYXJuZWRBYm91dFVzaW5nTmVzdGVkQ29udGV4dENvbnN1bWVycyA9IGZhbHNlO1xuICB2YXIgaGFzV2FybmVkQWJvdXRVc2luZ0NvbnN1bWVyUHJvdmlkZXIgPSBmYWxzZTtcblxuICB7XG4gICAgLy8gQSBzZXBhcmF0ZSBvYmplY3QsIGJ1dCBwcm94aWVzIGJhY2sgdG8gdGhlIG9yaWdpbmFsIGNvbnRleHQgb2JqZWN0IGZvclxuICAgIC8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LiBJdCBoYXMgYSBkaWZmZXJlbnQgJCR0eXBlb2YsIHNvIHdlIGNhbiBwcm9wZXJseVxuICAgIC8vIHdhcm4gZm9yIHRoZSBpbmNvcnJlY3QgdXNhZ2Ugb2YgQ29udGV4dCBhcyBhIENvbnN1bWVyLlxuICAgIHZhciBDb25zdW1lciA9IHtcbiAgICAgICQkdHlwZW9mOiBSRUFDVF9DT05URVhUX1RZUEUsXG4gICAgICBfY29udGV4dDogY29udGV4dCxcbiAgICAgIF9jYWxjdWxhdGVDaGFuZ2VkQml0czogY29udGV4dC5fY2FsY3VsYXRlQ2hhbmdlZEJpdHNcbiAgICB9OyAvLyAkRmxvd0ZpeE1lOiBGbG93IGNvbXBsYWlucyBhYm91dCBub3Qgc2V0dGluZyBhIHZhbHVlLCB3aGljaCBpcyBpbnRlbnRpb25hbCBoZXJlXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhDb25zdW1lciwge1xuICAgICAgUHJvdmlkZXI6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKCFoYXNXYXJuZWRBYm91dFVzaW5nQ29uc3VtZXJQcm92aWRlcikge1xuICAgICAgICAgICAgaGFzV2FybmVkQWJvdXRVc2luZ0NvbnN1bWVyUHJvdmlkZXIgPSB0cnVlO1xuXG4gICAgICAgICAgICBlcnJvcignUmVuZGVyaW5nIDxDb250ZXh0LkNvbnN1bWVyLlByb3ZpZGVyPiBpcyBub3Qgc3VwcG9ydGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gJyArICdhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiBEaWQgeW91IG1lYW4gdG8gcmVuZGVyIDxDb250ZXh0LlByb3ZpZGVyPiBpbnN0ZWFkPycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBjb250ZXh0LlByb3ZpZGVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChfUHJvdmlkZXIpIHtcbiAgICAgICAgICBjb250ZXh0LlByb3ZpZGVyID0gX1Byb3ZpZGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgX2N1cnJlbnRWYWx1ZToge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gY29udGV4dC5fY3VycmVudFZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChfY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgY29udGV4dC5fY3VycmVudFZhbHVlID0gX2N1cnJlbnRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIF9jdXJyZW50VmFsdWUyOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBjb250ZXh0Ll9jdXJyZW50VmFsdWUyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChfY3VycmVudFZhbHVlMikge1xuICAgICAgICAgIGNvbnRleHQuX2N1cnJlbnRWYWx1ZTIgPSBfY3VycmVudFZhbHVlMjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIF90aHJlYWRDb3VudDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gY29udGV4dC5fdGhyZWFkQ291bnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKF90aHJlYWRDb3VudCkge1xuICAgICAgICAgIGNvbnRleHQuX3RocmVhZENvdW50ID0gX3RocmVhZENvdW50O1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgQ29uc3VtZXI6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKCFoYXNXYXJuZWRBYm91dFVzaW5nTmVzdGVkQ29udGV4dENvbnN1bWVycykge1xuICAgICAgICAgICAgaGFzV2FybmVkQWJvdXRVc2luZ05lc3RlZENvbnRleHRDb25zdW1lcnMgPSB0cnVlO1xuXG4gICAgICAgICAgICBlcnJvcignUmVuZGVyaW5nIDxDb250ZXh0LkNvbnN1bWVyLkNvbnN1bWVyPiBpcyBub3Qgc3VwcG9ydGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gJyArICdhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiBEaWQgeW91IG1lYW4gdG8gcmVuZGVyIDxDb250ZXh0LkNvbnN1bWVyPiBpbnN0ZWFkPycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBjb250ZXh0LkNvbnN1bWVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7IC8vICRGbG93Rml4TWU6IEZsb3cgY29tcGxhaW5zIGFib3V0IG1pc3NpbmcgcHJvcGVydGllcyBiZWNhdXNlIGl0IGRvZXNuJ3QgdW5kZXJzdGFuZCBkZWZpbmVQcm9wZXJ0eVxuXG4gICAgY29udGV4dC5Db25zdW1lciA9IENvbnN1bWVyO1xuICB9XG5cbiAge1xuICAgIGNvbnRleHQuX2N1cnJlbnRSZW5kZXJlciA9IG51bGw7XG4gICAgY29udGV4dC5fY3VycmVudFJlbmRlcmVyMiA9IG51bGw7XG4gIH1cblxuICByZXR1cm4gY29udGV4dDtcbn1cblxuZnVuY3Rpb24gbGF6eShjdG9yKSB7XG4gIHZhciBsYXp5VHlwZSA9IHtcbiAgICAkJHR5cGVvZjogUkVBQ1RfTEFaWV9UWVBFLFxuICAgIF9jdG9yOiBjdG9yLFxuICAgIC8vIFJlYWN0IHVzZXMgdGhlc2UgZmllbGRzIHRvIHN0b3JlIHRoZSByZXN1bHQuXG4gICAgX3N0YXR1czogLTEsXG4gICAgX3Jlc3VsdDogbnVsbFxuICB9O1xuXG4gIHtcbiAgICAvLyBJbiBwcm9kdWN0aW9uLCB0aGlzIHdvdWxkIGp1c3Qgc2V0IGl0IG9uIHRoZSBvYmplY3QuXG4gICAgdmFyIGRlZmF1bHRQcm9wcztcbiAgICB2YXIgcHJvcFR5cGVzO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGxhenlUeXBlLCB7XG4gICAgICBkZWZhdWx0UHJvcHM6IHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gZGVmYXVsdFByb3BzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdEZWZhdWx0UHJvcHMpIHtcbiAgICAgICAgICBlcnJvcignUmVhY3QubGF6eSguLi4pOiBJdCBpcyBub3Qgc3VwcG9ydGVkIHRvIGFzc2lnbiBgZGVmYXVsdFByb3BzYCB0byAnICsgJ2EgbGF6eSBjb21wb25lbnQgaW1wb3J0LiBFaXRoZXIgc3BlY2lmeSB0aGVtIHdoZXJlIHRoZSBjb21wb25lbnQgJyArICdpcyBkZWZpbmVkLCBvciBjcmVhdGUgYSB3cmFwcGluZyBjb21wb25lbnQgYXJvdW5kIGl0LicpO1xuXG4gICAgICAgICAgZGVmYXVsdFByb3BzID0gbmV3RGVmYXVsdFByb3BzOyAvLyBNYXRjaCBwcm9kdWN0aW9uIGJlaGF2aW9yIG1vcmUgY2xvc2VseTpcblxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsYXp5VHlwZSwgJ2RlZmF1bHRQcm9wcycsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByb3BUeXBlczoge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBwcm9wVHlwZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5ld1Byb3BUeXBlcykge1xuICAgICAgICAgIGVycm9yKCdSZWFjdC5sYXp5KC4uLik6IEl0IGlzIG5vdCBzdXBwb3J0ZWQgdG8gYXNzaWduIGBwcm9wVHlwZXNgIHRvICcgKyAnYSBsYXp5IGNvbXBvbmVudCBpbXBvcnQuIEVpdGhlciBzcGVjaWZ5IHRoZW0gd2hlcmUgdGhlIGNvbXBvbmVudCAnICsgJ2lzIGRlZmluZWQsIG9yIGNyZWF0ZSBhIHdyYXBwaW5nIGNvbXBvbmVudCBhcm91bmQgaXQuJyk7XG5cbiAgICAgICAgICBwcm9wVHlwZXMgPSBuZXdQcm9wVHlwZXM7IC8vIE1hdGNoIHByb2R1Y3Rpb24gYmVoYXZpb3IgbW9yZSBjbG9zZWx5OlxuXG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGxhenlUeXBlLCAncHJvcFR5cGVzJywge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gbGF6eVR5cGU7XG59XG5cbmZ1bmN0aW9uIGZvcndhcmRSZWYocmVuZGVyKSB7XG4gIHtcbiAgICBpZiAocmVuZGVyICE9IG51bGwgJiYgcmVuZGVyLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEUpIHtcbiAgICAgIGVycm9yKCdmb3J3YXJkUmVmIHJlcXVpcmVzIGEgcmVuZGVyIGZ1bmN0aW9uIGJ1dCByZWNlaXZlZCBhIGBtZW1vYCAnICsgJ2NvbXBvbmVudC4gSW5zdGVhZCBvZiBmb3J3YXJkUmVmKG1lbW8oLi4uKSksIHVzZSAnICsgJ21lbW8oZm9yd2FyZFJlZiguLi4pKS4nKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiByZW5kZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGVycm9yKCdmb3J3YXJkUmVmIHJlcXVpcmVzIGEgcmVuZGVyIGZ1bmN0aW9uIGJ1dCB3YXMgZ2l2ZW4gJXMuJywgcmVuZGVyID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIHJlbmRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChyZW5kZXIubGVuZ3RoICE9PSAwICYmIHJlbmRlci5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgZXJyb3IoJ2ZvcndhcmRSZWYgcmVuZGVyIGZ1bmN0aW9ucyBhY2NlcHQgZXhhY3RseSB0d28gcGFyYW1ldGVyczogcHJvcHMgYW5kIHJlZi4gJXMnLCByZW5kZXIubGVuZ3RoID09PSAxID8gJ0RpZCB5b3UgZm9yZ2V0IHRvIHVzZSB0aGUgcmVmIHBhcmFtZXRlcj8nIDogJ0FueSBhZGRpdGlvbmFsIHBhcmFtZXRlciB3aWxsIGJlIHVuZGVmaW5lZC4nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocmVuZGVyICE9IG51bGwpIHtcbiAgICAgIGlmIChyZW5kZXIuZGVmYXVsdFByb3BzICE9IG51bGwgfHwgcmVuZGVyLnByb3BUeXBlcyAhPSBudWxsKSB7XG4gICAgICAgIGVycm9yKCdmb3J3YXJkUmVmIHJlbmRlciBmdW5jdGlvbnMgZG8gbm90IHN1cHBvcnQgcHJvcFR5cGVzIG9yIGRlZmF1bHRQcm9wcy4gJyArICdEaWQgeW91IGFjY2lkZW50YWxseSBwYXNzIGEgUmVhY3QgY29tcG9uZW50PycpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgJCR0eXBlb2Y6IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUsXG4gICAgcmVuZGVyOiByZW5kZXJcbiAgfTtcbn1cblxuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpIHtcbiAgcmV0dXJuIHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCAvLyBOb3RlOiBpdHMgdHlwZW9mIG1pZ2h0IGJlIG90aGVyIHRoYW4gJ3N5bWJvbCcgb3IgJ251bWJlcicgaWYgaXQncyBhIHBvbHlmaWxsLlxuICB0eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1BST0ZJTEVSX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSB8fCB0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCAmJiAodHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX01FTU9fVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9QUk9WSURFUl9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZVTkRBTUVOVEFMX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfUkVTUE9OREVSX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfU0NPUEVfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9CTE9DS19UWVBFKTtcbn1cblxuZnVuY3Rpb24gbWVtbyh0eXBlLCBjb21wYXJlKSB7XG4gIHtcbiAgICBpZiAoIWlzVmFsaWRFbGVtZW50VHlwZSh0eXBlKSkge1xuICAgICAgZXJyb3IoJ21lbW86IFRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgY29tcG9uZW50LiBJbnN0ZWFkICcgKyAncmVjZWl2ZWQ6ICVzJywgdHlwZSA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiB0eXBlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgICQkdHlwZW9mOiBSRUFDVF9NRU1PX1RZUEUsXG4gICAgdHlwZTogdHlwZSxcbiAgICBjb21wYXJlOiBjb21wYXJlID09PSB1bmRlZmluZWQgPyBudWxsIDogY29tcGFyZVxuICB9O1xufVxuXG5mdW5jdGlvbiByZXNvbHZlRGlzcGF0Y2hlcigpIHtcbiAgdmFyIGRpc3BhdGNoZXIgPSBSZWFjdEN1cnJlbnREaXNwYXRjaGVyLmN1cnJlbnQ7XG5cbiAgaWYgKCEoZGlzcGF0Y2hlciAhPT0gbnVsbCkpIHtcbiAgICB7XG4gICAgICB0aHJvdyBFcnJvciggXCJJbnZhbGlkIGhvb2sgY2FsbC4gSG9va3MgY2FuIG9ubHkgYmUgY2FsbGVkIGluc2lkZSBvZiB0aGUgYm9keSBvZiBhIGZ1bmN0aW9uIGNvbXBvbmVudC4gVGhpcyBjb3VsZCBoYXBwZW4gZm9yIG9uZSBvZiB0aGUgZm9sbG93aW5nIHJlYXNvbnM6XFxuMS4gWW91IG1pZ2h0IGhhdmUgbWlzbWF0Y2hpbmcgdmVyc2lvbnMgb2YgUmVhY3QgYW5kIHRoZSByZW5kZXJlciAoc3VjaCBhcyBSZWFjdCBET00pXFxuMi4gWW91IG1pZ2h0IGJlIGJyZWFraW5nIHRoZSBSdWxlcyBvZiBIb29rc1xcbjMuIFlvdSBtaWdodCBoYXZlIG1vcmUgdGhhbiBvbmUgY29weSBvZiBSZWFjdCBpbiB0aGUgc2FtZSBhcHBcXG5TZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC1pbnZhbGlkLWhvb2stY2FsbCBmb3IgdGlwcyBhYm91dCBob3cgdG8gZGVidWcgYW5kIGZpeCB0aGlzIHByb2JsZW0uXCIgKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGlzcGF0Y2hlcjtcbn1cblxuZnVuY3Rpb24gdXNlQ29udGV4dChDb250ZXh0LCB1bnN0YWJsZV9vYnNlcnZlZEJpdHMpIHtcbiAgdmFyIGRpc3BhdGNoZXIgPSByZXNvbHZlRGlzcGF0Y2hlcigpO1xuXG4gIHtcbiAgICBpZiAodW5zdGFibGVfb2JzZXJ2ZWRCaXRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGVycm9yKCd1c2VDb250ZXh0KCkgc2Vjb25kIGFyZ3VtZW50IGlzIHJlc2VydmVkIGZvciBmdXR1cmUgJyArICd1c2UgaW4gUmVhY3QuIFBhc3NpbmcgaXQgaXMgbm90IHN1cHBvcnRlZC4gJyArICdZb3UgcGFzc2VkOiAlcy4lcycsIHVuc3RhYmxlX29ic2VydmVkQml0cywgdHlwZW9mIHVuc3RhYmxlX29ic2VydmVkQml0cyA9PT0gJ251bWJlcicgJiYgQXJyYXkuaXNBcnJheShhcmd1bWVudHNbMl0pID8gJ1xcblxcbkRpZCB5b3UgY2FsbCBhcnJheS5tYXAodXNlQ29udGV4dCk/ICcgKyAnQ2FsbGluZyBIb29rcyBpbnNpZGUgYSBsb29wIGlzIG5vdCBzdXBwb3J0ZWQuICcgKyAnTGVhcm4gbW9yZSBhdCBodHRwczovL2ZiLm1lL3J1bGVzLW9mLWhvb2tzJyA6ICcnKTtcbiAgICB9IC8vIFRPRE86IGFkZCBhIG1vcmUgZ2VuZXJpYyB3YXJuaW5nIGZvciBpbnZhbGlkIHZhbHVlcy5cblxuXG4gICAgaWYgKENvbnRleHQuX2NvbnRleHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHJlYWxDb250ZXh0ID0gQ29udGV4dC5fY29udGV4dDsgLy8gRG9uJ3QgZGVkdXBsaWNhdGUgYmVjYXVzZSB0aGlzIGxlZ2l0aW1hdGVseSBjYXVzZXMgYnVnc1xuICAgICAgLy8gYW5kIG5vYm9keSBzaG91bGQgYmUgdXNpbmcgdGhpcyBpbiBleGlzdGluZyBjb2RlLlxuXG4gICAgICBpZiAocmVhbENvbnRleHQuQ29uc3VtZXIgPT09IENvbnRleHQpIHtcbiAgICAgICAgZXJyb3IoJ0NhbGxpbmcgdXNlQ29udGV4dChDb250ZXh0LkNvbnN1bWVyKSBpcyBub3Qgc3VwcG9ydGVkLCBtYXkgY2F1c2UgYnVncywgYW5kIHdpbGwgYmUgJyArICdyZW1vdmVkIGluIGEgZnV0dXJlIG1ham9yIHJlbGVhc2UuIERpZCB5b3UgbWVhbiB0byBjYWxsIHVzZUNvbnRleHQoQ29udGV4dCkgaW5zdGVhZD8nKTtcbiAgICAgIH0gZWxzZSBpZiAocmVhbENvbnRleHQuUHJvdmlkZXIgPT09IENvbnRleHQpIHtcbiAgICAgICAgZXJyb3IoJ0NhbGxpbmcgdXNlQ29udGV4dChDb250ZXh0LlByb3ZpZGVyKSBpcyBub3Qgc3VwcG9ydGVkLiAnICsgJ0RpZCB5b3UgbWVhbiB0byBjYWxsIHVzZUNvbnRleHQoQ29udGV4dCkgaW5zdGVhZD8nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGlzcGF0Y2hlci51c2VDb250ZXh0KENvbnRleHQsIHVuc3RhYmxlX29ic2VydmVkQml0cyk7XG59XG5mdW5jdGlvbiB1c2VTdGF0ZShpbml0aWFsU3RhdGUpIHtcbiAgdmFyIGRpc3BhdGNoZXIgPSByZXNvbHZlRGlzcGF0Y2hlcigpO1xuICByZXR1cm4gZGlzcGF0Y2hlci51c2VTdGF0ZShpbml0aWFsU3RhdGUpO1xufVxuZnVuY3Rpb24gdXNlUmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KSB7XG4gIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgcmV0dXJuIGRpc3BhdGNoZXIudXNlUmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KTtcbn1cbmZ1bmN0aW9uIHVzZVJlZihpbml0aWFsVmFsdWUpIHtcbiAgdmFyIGRpc3BhdGNoZXIgPSByZXNvbHZlRGlzcGF0Y2hlcigpO1xuICByZXR1cm4gZGlzcGF0Y2hlci51c2VSZWYoaW5pdGlhbFZhbHVlKTtcbn1cbmZ1bmN0aW9uIHVzZUVmZmVjdChjcmVhdGUsIGRlcHMpIHtcbiAgdmFyIGRpc3BhdGNoZXIgPSByZXNvbHZlRGlzcGF0Y2hlcigpO1xuICByZXR1cm4gZGlzcGF0Y2hlci51c2VFZmZlY3QoY3JlYXRlLCBkZXBzKTtcbn1cbmZ1bmN0aW9uIHVzZUxheW91dEVmZmVjdChjcmVhdGUsIGRlcHMpIHtcbiAgdmFyIGRpc3BhdGNoZXIgPSByZXNvbHZlRGlzcGF0Y2hlcigpO1xuICByZXR1cm4gZGlzcGF0Y2hlci51c2VMYXlvdXRFZmZlY3QoY3JlYXRlLCBkZXBzKTtcbn1cbmZ1bmN0aW9uIHVzZUNhbGxiYWNrKGNhbGxiYWNrLCBkZXBzKSB7XG4gIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgcmV0dXJuIGRpc3BhdGNoZXIudXNlQ2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpO1xufVxuZnVuY3Rpb24gdXNlTWVtbyhjcmVhdGUsIGRlcHMpIHtcbiAgdmFyIGRpc3BhdGNoZXIgPSByZXNvbHZlRGlzcGF0Y2hlcigpO1xuICByZXR1cm4gZGlzcGF0Y2hlci51c2VNZW1vKGNyZWF0ZSwgZGVwcyk7XG59XG5mdW5jdGlvbiB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgY3JlYXRlLCBkZXBzKSB7XG4gIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgcmV0dXJuIGRpc3BhdGNoZXIudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcyk7XG59XG5mdW5jdGlvbiB1c2VEZWJ1Z1ZhbHVlKHZhbHVlLCBmb3JtYXR0ZXJGbikge1xuICB7XG4gICAgdmFyIGRpc3BhdGNoZXIgPSByZXNvbHZlRGlzcGF0Y2hlcigpO1xuICAgIHJldHVybiBkaXNwYXRjaGVyLnVzZURlYnVnVmFsdWUodmFsdWUsIGZvcm1hdHRlckZuKTtcbiAgfVxufVxuXG52YXIgcHJvcFR5cGVzTWlzc3BlbGxXYXJuaW5nU2hvd247XG5cbntcbiAgcHJvcFR5cGVzTWlzc3BlbGxXYXJuaW5nU2hvd24gPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCkge1xuICBpZiAoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgIHZhciBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnR5cGUpO1xuXG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIHJldHVybiAnXFxuXFxuQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gJyc7XG59XG5cbmZ1bmN0aW9uIGdldFNvdXJjZUluZm9FcnJvckFkZGVuZHVtKHNvdXJjZSkge1xuICBpZiAoc291cmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZmlsZU5hbWUgPSBzb3VyY2UuZmlsZU5hbWUucmVwbGFjZSgvXi4qW1xcXFxcXC9dLywgJycpO1xuICAgIHZhciBsaW5lTnVtYmVyID0gc291cmNlLmxpbmVOdW1iZXI7XG4gICAgcmV0dXJuICdcXG5cXG5DaGVjayB5b3VyIGNvZGUgYXQgJyArIGZpbGVOYW1lICsgJzonICsgbGluZU51bWJlciArICcuJztcbiAgfVxuXG4gIHJldHVybiAnJztcbn1cblxuZnVuY3Rpb24gZ2V0U291cmNlSW5mb0Vycm9yQWRkZW5kdW1Gb3JQcm9wcyhlbGVtZW50UHJvcHMpIHtcbiAgaWYgKGVsZW1lbnRQcm9wcyAhPT0gbnVsbCAmJiBlbGVtZW50UHJvcHMgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBnZXRTb3VyY2VJbmZvRXJyb3JBZGRlbmR1bShlbGVtZW50UHJvcHMuX19zb3VyY2UpO1xuICB9XG5cbiAgcmV0dXJuICcnO1xufVxuLyoqXG4gKiBXYXJuIGlmIHRoZXJlJ3Mgbm8ga2V5IGV4cGxpY2l0bHkgc2V0IG9uIGR5bmFtaWMgYXJyYXlzIG9mIGNoaWxkcmVuIG9yXG4gKiBvYmplY3Qga2V5cyBhcmUgbm90IHZhbGlkLiBUaGlzIGFsbG93cyB1cyB0byBrZWVwIHRyYWNrIG9mIGNoaWxkcmVuIGJldHdlZW5cbiAqIHVwZGF0ZXMuXG4gKi9cblxuXG52YXIgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge307XG5cbmZ1bmN0aW9uIGdldEN1cnJlbnRDb21wb25lbnRFcnJvckluZm8ocGFyZW50VHlwZSkge1xuICB2YXIgaW5mbyA9IGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpO1xuXG4gIGlmICghaW5mbykge1xuICAgIHZhciBwYXJlbnROYW1lID0gdHlwZW9mIHBhcmVudFR5cGUgPT09ICdzdHJpbmcnID8gcGFyZW50VHlwZSA6IHBhcmVudFR5cGUuZGlzcGxheU5hbWUgfHwgcGFyZW50VHlwZS5uYW1lO1xuXG4gICAgaWYgKHBhcmVudE5hbWUpIHtcbiAgICAgIGluZm8gPSBcIlxcblxcbkNoZWNrIHRoZSB0b3AtbGV2ZWwgcmVuZGVyIGNhbGwgdXNpbmcgPFwiICsgcGFyZW50TmFtZSArIFwiPi5cIjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaW5mbztcbn1cbi8qKlxuICogV2FybiBpZiB0aGUgZWxlbWVudCBkb2Vzbid0IGhhdmUgYW4gZXhwbGljaXQga2V5IGFzc2lnbmVkIHRvIGl0LlxuICogVGhpcyBlbGVtZW50IGlzIGluIGFuIGFycmF5LiBUaGUgYXJyYXkgY291bGQgZ3JvdyBhbmQgc2hyaW5rIG9yIGJlXG4gKiByZW9yZGVyZWQuIEFsbCBjaGlsZHJlbiB0aGF0IGhhdmVuJ3QgYWxyZWFkeSBiZWVuIHZhbGlkYXRlZCBhcmUgcmVxdWlyZWQgdG9cbiAqIGhhdmUgYSBcImtleVwiIHByb3BlcnR5IGFzc2lnbmVkIHRvIGl0LiBFcnJvciBzdGF0dXNlcyBhcmUgY2FjaGVkIHNvIGEgd2FybmluZ1xuICogd2lsbCBvbmx5IGJlIHNob3duIG9uY2UuXG4gKlxuICogQGludGVybmFsXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRoYXQgcmVxdWlyZXMgYSBrZXkuXG4gKiBAcGFyYW0geyp9IHBhcmVudFR5cGUgZWxlbWVudCdzIHBhcmVudCdzIHR5cGUuXG4gKi9cblxuXG5mdW5jdGlvbiB2YWxpZGF0ZUV4cGxpY2l0S2V5KGVsZW1lbnQsIHBhcmVudFR5cGUpIHtcbiAgaWYgKCFlbGVtZW50Ll9zdG9yZSB8fCBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgfHwgZWxlbWVudC5rZXkgIT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gIHZhciBjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvID0gZ2V0Q3VycmVudENvbXBvbmVudEVycm9ySW5mbyhwYXJlbnRUeXBlKTtcblxuICBpZiAob3duZXJIYXNLZXlVc2VXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgb3duZXJIYXNLZXlVc2VXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dID0gdHJ1ZTsgLy8gVXN1YWxseSB0aGUgY3VycmVudCBvd25lciBpcyB0aGUgb2ZmZW5kZXIsIGJ1dCBpZiBpdCBhY2NlcHRzIGNoaWxkcmVuIGFzIGFcbiAgLy8gcHJvcGVydHksIGl0IG1heSBiZSB0aGUgY3JlYXRvciBvZiB0aGUgY2hpbGQgdGhhdCdzIHJlc3BvbnNpYmxlIGZvclxuICAvLyBhc3NpZ25pbmcgaXQgYSBrZXkuXG5cbiAgdmFyIGNoaWxkT3duZXIgPSAnJztcblxuICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Ll9vd25lciAmJiBlbGVtZW50Ll9vd25lciAhPT0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgIC8vIEdpdmUgdGhlIGNvbXBvbmVudCB0aGF0IG9yaWdpbmFsbHkgY3JlYXRlZCB0aGlzIGNoaWxkLlxuICAgIGNoaWxkT3duZXIgPSBcIiBJdCB3YXMgcGFzc2VkIGEgY2hpbGQgZnJvbSBcIiArIGdldENvbXBvbmVudE5hbWUoZWxlbWVudC5fb3duZXIudHlwZSkgKyBcIi5cIjtcbiAgfVxuXG4gIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGVsZW1lbnQpO1xuXG4gIHtcbiAgICBlcnJvcignRWFjaCBjaGlsZCBpbiBhIGxpc3Qgc2hvdWxkIGhhdmUgYSB1bmlxdWUgXCJrZXlcIiBwcm9wLicgKyAnJXMlcyBTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC13YXJuaW5nLWtleXMgZm9yIG1vcmUgaW5mb3JtYXRpb24uJywgY3VycmVudENvbXBvbmVudEVycm9ySW5mbywgY2hpbGRPd25lcik7XG4gIH1cblxuICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChudWxsKTtcbn1cbi8qKlxuICogRW5zdXJlIHRoYXQgZXZlcnkgZWxlbWVudCBlaXRoZXIgaXMgcGFzc2VkIGluIGEgc3RhdGljIGxvY2F0aW9uLCBpbiBhblxuICogYXJyYXkgd2l0aCBhbiBleHBsaWNpdCBrZXlzIHByb3BlcnR5IGRlZmluZWQsIG9yIGluIGFuIG9iamVjdCBsaXRlcmFsXG4gKiB3aXRoIHZhbGlkIGtleSBwcm9wZXJ0eS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqIEBwYXJhbSB7UmVhY3ROb2RlfSBub2RlIFN0YXRpY2FsbHkgcGFzc2VkIGNoaWxkIG9mIGFueSB0eXBlLlxuICogQHBhcmFtIHsqfSBwYXJlbnRUeXBlIG5vZGUncyBwYXJlbnQncyB0eXBlLlxuICovXG5cblxuZnVuY3Rpb24gdmFsaWRhdGVDaGlsZEtleXMobm9kZSwgcGFyZW50VHlwZSkge1xuICBpZiAodHlwZW9mIG5vZGUgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkobm9kZSkpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjaGlsZCA9IG5vZGVbaV07XG5cbiAgICAgIGlmIChpc1ZhbGlkRWxlbWVudChjaGlsZCkpIHtcbiAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShjaGlsZCwgcGFyZW50VHlwZSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzVmFsaWRFbGVtZW50KG5vZGUpKSB7XG4gICAgLy8gVGhpcyBlbGVtZW50IHdhcyBwYXNzZWQgaW4gYSB2YWxpZCBsb2NhdGlvbi5cbiAgICBpZiAobm9kZS5fc3RvcmUpIHtcbiAgICAgIG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgfVxuICB9IGVsc2UgaWYgKG5vZGUpIHtcbiAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obm9kZSk7XG5cbiAgICBpZiAodHlwZW9mIGl0ZXJhdG9yRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIEVudHJ5IGl0ZXJhdG9ycyB1c2VkIHRvIHByb3ZpZGUgaW1wbGljaXQga2V5cyxcbiAgICAgIC8vIGJ1dCBub3cgd2UgcHJpbnQgYSBzZXBhcmF0ZSB3YXJuaW5nIGZvciB0aGVtIGxhdGVyLlxuICAgICAgaWYgKGl0ZXJhdG9yRm4gIT09IG5vZGUuZW50cmllcykge1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvckZuLmNhbGwobm9kZSk7XG4gICAgICAgIHZhciBzdGVwO1xuXG4gICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICBpZiAoaXNWYWxpZEVsZW1lbnQoc3RlcC52YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoc3RlcC52YWx1ZSwgcGFyZW50VHlwZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4vKipcbiAqIEdpdmVuIGFuIGVsZW1lbnQsIHZhbGlkYXRlIHRoYXQgaXRzIHByb3BzIGZvbGxvdyB0aGUgcHJvcFR5cGVzIGRlZmluaXRpb24sXG4gKiBwcm92aWRlZCBieSB0aGUgdHlwZS5cbiAqXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZWxlbWVudFxuICovXG5cblxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wVHlwZXMoZWxlbWVudCkge1xuICB7XG4gICAgdmFyIHR5cGUgPSBlbGVtZW50LnR5cGU7XG5cbiAgICBpZiAodHlwZSA9PT0gbnVsbCB8fCB0eXBlID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lKHR5cGUpO1xuICAgIHZhciBwcm9wVHlwZXM7XG5cbiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHByb3BUeXBlcyA9IHR5cGUucHJvcFR5cGVzO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmICh0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFIHx8IC8vIE5vdGU6IE1lbW8gb25seSBjaGVja3Mgb3V0ZXIgcHJvcHMgaGVyZS5cbiAgICAvLyBJbm5lciBwcm9wcyBhcmUgY2hlY2tlZCBpbiB0aGUgcmVjb25jaWxlci5cbiAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEUpKSB7XG4gICAgICBwcm9wVHlwZXMgPSB0eXBlLnByb3BUeXBlcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwcm9wVHlwZXMpIHtcbiAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgY2hlY2tQcm9wVHlwZXMocHJvcFR5cGVzLCBlbGVtZW50LnByb3BzLCAncHJvcCcsIG5hbWUsIFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSk7XG4gICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChudWxsKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUuUHJvcFR5cGVzICE9PSB1bmRlZmluZWQgJiYgIXByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duKSB7XG4gICAgICBwcm9wVHlwZXNNaXNzcGVsbFdhcm5pbmdTaG93biA9IHRydWU7XG5cbiAgICAgIGVycm9yKCdDb21wb25lbnQgJXMgZGVjbGFyZWQgYFByb3BUeXBlc2AgaW5zdGVhZCBvZiBgcHJvcFR5cGVzYC4gRGlkIHlvdSBtaXNzcGVsbCB0aGUgcHJvcGVydHkgYXNzaWdubWVudD8nLCBuYW1lIHx8ICdVbmtub3duJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0eXBlLmdldERlZmF1bHRQcm9wcyA9PT0gJ2Z1bmN0aW9uJyAmJiAhdHlwZS5nZXREZWZhdWx0UHJvcHMuaXNSZWFjdENsYXNzQXBwcm92ZWQpIHtcbiAgICAgIGVycm9yKCdnZXREZWZhdWx0UHJvcHMgaXMgb25seSB1c2VkIG9uIGNsYXNzaWMgUmVhY3QuY3JlYXRlQ2xhc3MgJyArICdkZWZpbml0aW9ucy4gVXNlIGEgc3RhdGljIHByb3BlcnR5IG5hbWVkIGBkZWZhdWx0UHJvcHNgIGluc3RlYWQuJyk7XG4gICAgfVxuICB9XG59XG4vKipcbiAqIEdpdmVuIGEgZnJhZ21lbnQsIHZhbGlkYXRlIHRoYXQgaXQgY2FuIG9ubHkgYmUgcHJvdmlkZWQgd2l0aCBmcmFnbWVudCBwcm9wc1xuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGZyYWdtZW50XG4gKi9cblxuXG5mdW5jdGlvbiB2YWxpZGF0ZUZyYWdtZW50UHJvcHMoZnJhZ21lbnQpIHtcbiAge1xuICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGZyYWdtZW50KTtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGZyYWdtZW50LnByb3BzKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG5cbiAgICAgIGlmIChrZXkgIT09ICdjaGlsZHJlbicgJiYga2V5ICE9PSAna2V5Jykge1xuICAgICAgICBlcnJvcignSW52YWxpZCBwcm9wIGAlc2Agc3VwcGxpZWQgdG8gYFJlYWN0LkZyYWdtZW50YC4gJyArICdSZWFjdC5GcmFnbWVudCBjYW4gb25seSBoYXZlIGBrZXlgIGFuZCBgY2hpbGRyZW5gIHByb3BzLicsIGtleSk7XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZyYWdtZW50LnJlZiAhPT0gbnVsbCkge1xuICAgICAgZXJyb3IoJ0ludmFsaWQgYXR0cmlidXRlIGByZWZgIHN1cHBsaWVkIHRvIGBSZWFjdC5GcmFnbWVudGAuJyk7XG4gICAgfVxuXG4gICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQobnVsbCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRXaXRoVmFsaWRhdGlvbih0eXBlLCBwcm9wcywgY2hpbGRyZW4pIHtcbiAgdmFyIHZhbGlkVHlwZSA9IGlzVmFsaWRFbGVtZW50VHlwZSh0eXBlKTsgLy8gV2Ugd2FybiBpbiB0aGlzIGNhc2UgYnV0IGRvbid0IHRocm93LiBXZSBleHBlY3QgdGhlIGVsZW1lbnQgY3JlYXRpb24gdG9cbiAgLy8gc3VjY2VlZCBhbmQgdGhlcmUgd2lsbCBsaWtlbHkgYmUgZXJyb3JzIGluIHJlbmRlci5cblxuICBpZiAoIXZhbGlkVHlwZSkge1xuICAgIHZhciBpbmZvID0gJyc7XG5cbiAgICBpZiAodHlwZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsICYmIE9iamVjdC5rZXlzKHR5cGUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaW5mbyArPSAnIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlICcgKyBcIml0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgbmFtZWQgaW1wb3J0cy5cIjtcbiAgICB9XG5cbiAgICB2YXIgc291cmNlSW5mbyA9IGdldFNvdXJjZUluZm9FcnJvckFkZGVuZHVtRm9yUHJvcHMocHJvcHMpO1xuXG4gICAgaWYgKHNvdXJjZUluZm8pIHtcbiAgICAgIGluZm8gKz0gc291cmNlSW5mbztcbiAgICB9IGVsc2Uge1xuICAgICAgaW5mbyArPSBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKTtcbiAgICB9XG5cbiAgICB2YXIgdHlwZVN0cmluZztcblxuICAgIGlmICh0eXBlID09PSBudWxsKSB7XG4gICAgICB0eXBlU3RyaW5nID0gJ251bGwnO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgICAgdHlwZVN0cmluZyA9ICdhcnJheSc7XG4gICAgfSBlbHNlIGlmICh0eXBlICE9PSB1bmRlZmluZWQgJiYgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFKSB7XG4gICAgICB0eXBlU3RyaW5nID0gXCI8XCIgKyAoZ2V0Q29tcG9uZW50TmFtZSh0eXBlLnR5cGUpIHx8ICdVbmtub3duJykgKyBcIiAvPlwiO1xuICAgICAgaW5mbyA9ICcgRGlkIHlvdSBhY2NpZGVudGFsbHkgZXhwb3J0IGEgSlNYIGxpdGVyYWwgaW5zdGVhZCBvZiBhIGNvbXBvbmVudD8nO1xuICAgIH0gZWxzZSB7XG4gICAgICB0eXBlU3RyaW5nID0gdHlwZW9mIHR5cGU7XG4gICAgfVxuXG4gICAge1xuICAgICAgZXJyb3IoJ1JlYWN0LmNyZWF0ZUVsZW1lbnQ6IHR5cGUgaXMgaW52YWxpZCAtLSBleHBlY3RlZCBhIHN0cmluZyAoZm9yICcgKyAnYnVpbHQtaW4gY29tcG9uZW50cykgb3IgYSBjbGFzcy9mdW5jdGlvbiAoZm9yIGNvbXBvc2l0ZSAnICsgJ2NvbXBvbmVudHMpIGJ1dCBnb3Q6ICVzLiVzJywgdHlwZVN0cmluZywgaW5mbyk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGVsZW1lbnQgPSBjcmVhdGVFbGVtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IC8vIFRoZSByZXN1bHQgY2FuIGJlIG51bGxpc2ggaWYgYSBtb2NrIG9yIGEgY3VzdG9tIGZ1bmN0aW9uIGlzIHVzZWQuXG4gIC8vIFRPRE86IERyb3AgdGhpcyB3aGVuIHRoZXNlIGFyZSBubyBsb25nZXIgYWxsb3dlZCBhcyB0aGUgdHlwZSBhcmd1bWVudC5cblxuICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH0gLy8gU2tpcCBrZXkgd2FybmluZyBpZiB0aGUgdHlwZSBpc24ndCB2YWxpZCBzaW5jZSBvdXIga2V5IHZhbGlkYXRpb24gbG9naWNcbiAgLy8gZG9lc24ndCBleHBlY3QgYSBub24tc3RyaW5nL2Z1bmN0aW9uIHR5cGUgYW5kIGNhbiB0aHJvdyBjb25mdXNpbmcgZXJyb3JzLlxuICAvLyBXZSBkb24ndCB3YW50IGV4Y2VwdGlvbiBiZWhhdmlvciB0byBkaWZmZXIgYmV0d2VlbiBkZXYgYW5kIHByb2QuXG4gIC8vIChSZW5kZXJpbmcgd2lsbCB0aHJvdyB3aXRoIGEgaGVscGZ1bCBtZXNzYWdlIGFuZCBhcyBzb29uIGFzIHRoZSB0eXBlIGlzXG4gIC8vIGZpeGVkLCB0aGUga2V5IHdhcm5pbmdzIHdpbGwgYXBwZWFyLilcblxuXG4gIGlmICh2YWxpZFR5cGUpIHtcbiAgICBmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFsaWRhdGVDaGlsZEtleXMoYXJndW1lbnRzW2ldLCB0eXBlKTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSkge1xuICAgIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhlbGVtZW50KTtcbiAgfSBlbHNlIHtcbiAgICB2YWxpZGF0ZVByb3BUeXBlcyhlbGVtZW50KTtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufVxudmFyIGRpZFdhcm5BYm91dERlcHJlY2F0ZWRDcmVhdGVGYWN0b3J5ID0gZmFsc2U7XG5mdW5jdGlvbiBjcmVhdGVGYWN0b3J5V2l0aFZhbGlkYXRpb24odHlwZSkge1xuICB2YXIgdmFsaWRhdGVkRmFjdG9yeSA9IGNyZWF0ZUVsZW1lbnRXaXRoVmFsaWRhdGlvbi5iaW5kKG51bGwsIHR5cGUpO1xuICB2YWxpZGF0ZWRGYWN0b3J5LnR5cGUgPSB0eXBlO1xuXG4gIHtcbiAgICBpZiAoIWRpZFdhcm5BYm91dERlcHJlY2F0ZWRDcmVhdGVGYWN0b3J5KSB7XG4gICAgICBkaWRXYXJuQWJvdXREZXByZWNhdGVkQ3JlYXRlRmFjdG9yeSA9IHRydWU7XG5cbiAgICAgIHdhcm4oJ1JlYWN0LmNyZWF0ZUZhY3RvcnkoKSBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gJyArICdhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiBDb25zaWRlciB1c2luZyBKU1ggJyArICdvciB1c2UgUmVhY3QuY3JlYXRlRWxlbWVudCgpIGRpcmVjdGx5IGluc3RlYWQuJyk7XG4gICAgfSAvLyBMZWdhY3kgaG9vazogcmVtb3ZlIGl0XG5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2YWxpZGF0ZWRGYWN0b3J5LCAndHlwZScsIHtcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdhcm4oJ0ZhY3RvcnkudHlwZSBpcyBkZXByZWNhdGVkLiBBY2Nlc3MgdGhlIGNsYXNzIGRpcmVjdGx5ICcgKyAnYmVmb3JlIHBhc3NpbmcgaXQgdG8gY3JlYXRlRmFjdG9yeS4nKTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3R5cGUnLCB7XG4gICAgICAgICAgdmFsdWU6IHR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHZhbGlkYXRlZEZhY3Rvcnk7XG59XG5mdW5jdGlvbiBjbG9uZUVsZW1lbnRXaXRoVmFsaWRhdGlvbihlbGVtZW50LCBwcm9wcywgY2hpbGRyZW4pIHtcbiAgdmFyIG5ld0VsZW1lbnQgPSBjbG9uZUVsZW1lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICBmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGFyZ3VtZW50c1tpXSwgbmV3RWxlbWVudC50eXBlKTtcbiAgfVxuXG4gIHZhbGlkYXRlUHJvcFR5cGVzKG5ld0VsZW1lbnQpO1xuICByZXR1cm4gbmV3RWxlbWVudDtcbn1cblxue1xuXG4gIHRyeSB7XG4gICAgdmFyIGZyb3plbk9iamVjdCA9IE9iamVjdC5mcmVlemUoe30pO1xuICAgIHZhciB0ZXN0TWFwID0gbmV3IE1hcChbW2Zyb3plbk9iamVjdCwgbnVsbF1dKTtcbiAgICB2YXIgdGVzdFNldCA9IG5ldyBTZXQoW2Zyb3plbk9iamVjdF0pOyAvLyBUaGlzIGlzIG5lY2Vzc2FyeSBmb3IgUm9sbHVwIHRvIG5vdCBjb25zaWRlciB0aGVzZSB1bnVzZWQuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3JvbGx1cC9yb2xsdXAvaXNzdWVzLzE3NzFcbiAgICAvLyBUT0RPOiB3ZSBjYW4gcmVtb3ZlIHRoZXNlIGlmIFJvbGx1cCBmaXhlcyB0aGUgYnVnLlxuXG4gICAgdGVzdE1hcC5zZXQoMCwgMCk7XG4gICAgdGVzdFNldC5hZGQoMCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgfVxufVxuXG52YXIgY3JlYXRlRWxlbWVudCQxID0gIGNyZWF0ZUVsZW1lbnRXaXRoVmFsaWRhdGlvbiA7XG52YXIgY2xvbmVFbGVtZW50JDEgPSAgY2xvbmVFbGVtZW50V2l0aFZhbGlkYXRpb24gO1xudmFyIGNyZWF0ZUZhY3RvcnkgPSAgY3JlYXRlRmFjdG9yeVdpdGhWYWxpZGF0aW9uIDtcbnZhciBDaGlsZHJlbiA9IHtcbiAgbWFwOiBtYXBDaGlsZHJlbixcbiAgZm9yRWFjaDogZm9yRWFjaENoaWxkcmVuLFxuICBjb3VudDogY291bnRDaGlsZHJlbixcbiAgdG9BcnJheTogdG9BcnJheSxcbiAgb25seTogb25seUNoaWxkXG59O1xuXG5leHBvcnRzLkNoaWxkcmVuID0gQ2hpbGRyZW47XG5leHBvcnRzLkNvbXBvbmVudCA9IENvbXBvbmVudDtcbmV4cG9ydHMuRnJhZ21lbnQgPSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xuZXhwb3J0cy5Qcm9maWxlciA9IFJFQUNUX1BST0ZJTEVSX1RZUEU7XG5leHBvcnRzLlB1cmVDb21wb25lbnQgPSBQdXJlQ29tcG9uZW50O1xuZXhwb3J0cy5TdHJpY3RNb2RlID0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRTtcbmV4cG9ydHMuU3VzcGVuc2UgPSBSRUFDVF9TVVNQRU5TRV9UWVBFO1xuZXhwb3J0cy5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRCA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzO1xuZXhwb3J0cy5jbG9uZUVsZW1lbnQgPSBjbG9uZUVsZW1lbnQkMTtcbmV4cG9ydHMuY3JlYXRlQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ7XG5leHBvcnRzLmNyZWF0ZUVsZW1lbnQgPSBjcmVhdGVFbGVtZW50JDE7XG5leHBvcnRzLmNyZWF0ZUZhY3RvcnkgPSBjcmVhdGVGYWN0b3J5O1xuZXhwb3J0cy5jcmVhdGVSZWYgPSBjcmVhdGVSZWY7XG5leHBvcnRzLmZvcndhcmRSZWYgPSBmb3J3YXJkUmVmO1xuZXhwb3J0cy5pc1ZhbGlkRWxlbWVudCA9IGlzVmFsaWRFbGVtZW50O1xuZXhwb3J0cy5sYXp5ID0gbGF6eTtcbmV4cG9ydHMubWVtbyA9IG1lbW87XG5leHBvcnRzLnVzZUNhbGxiYWNrID0gdXNlQ2FsbGJhY2s7XG5leHBvcnRzLnVzZUNvbnRleHQgPSB1c2VDb250ZXh0O1xuZXhwb3J0cy51c2VEZWJ1Z1ZhbHVlID0gdXNlRGVidWdWYWx1ZTtcbmV4cG9ydHMudXNlRWZmZWN0ID0gdXNlRWZmZWN0O1xuZXhwb3J0cy51c2VJbXBlcmF0aXZlSGFuZGxlID0gdXNlSW1wZXJhdGl2ZUhhbmRsZTtcbmV4cG9ydHMudXNlTGF5b3V0RWZmZWN0ID0gdXNlTGF5b3V0RWZmZWN0O1xuZXhwb3J0cy51c2VNZW1vID0gdXNlTWVtbztcbmV4cG9ydHMudXNlUmVkdWNlciA9IHVzZVJlZHVjZXI7XG5leHBvcnRzLnVzZVJlZiA9IHVzZVJlZjtcbmV4cG9ydHMudXNlU3RhdGUgPSB1c2VTdGF0ZTtcbmV4cG9ydHMudmVyc2lvbiA9IFJlYWN0VmVyc2lvbjtcbiAgfSkoKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-trix-rte/node_modules/react/cjs/react.development.js\n");

/***/ }),

/***/ "./node_modules/react-trix-rte/node_modules/react/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react-trix-rte/node_modules/react/index.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react.development.js */ \"./node_modules/react-trix-rte/node_modules/react/cjs/react.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyaXgtcnRlL25vZGVfbW9kdWxlcy9yZWFjdC9pbmRleC5qcz80MDFlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQztBQUNELG1CQUFtQixtQkFBTyxDQUFDLDZHQUE0QjtBQUN2RCIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9yZWFjdC10cml4LXJ0ZS9ub2RlX21vZHVsZXMvcmVhY3QvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-trix-rte/node_modules/react/index.js\n");

/***/ }),

/***/ "./src/components/builder/text/TextContent.js":
/*!****************************************************!*\
  !*** ./src/components/builder/text/TextContent.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var _Users_garrettbland_websites_blockbuilder_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var _redux_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../redux/constants */ \"./src/redux/constants.js\");\n/* harmony import */ var react_trix_rte__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-trix-rte */ \"./node_modules/react-trix-rte/index.js\");\n/* harmony import */ var react_trix_rte__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_trix_rte__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\nvar _jsxFileName = \"/Users/garrettbland/websites/blockbuilder/src/components/builder/text/TextContent.js\",\n    _this = undefined,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(_Users_garrettbland_websites_blockbuilder_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\nvar TextContent = function TextContent() {\n  _s();\n\n  var currentlyEditing = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__[\"useSelector\"])(function (state) {\n    return state.currentlyEditing;\n  });\n  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__[\"useDispatch\"])();\n\n  var handleTextChange = function handleTextChange(event, newValue) {\n    dispatch({\n      type: _redux_constants__WEBPACK_IMPORTED_MODULE_4__[\"UPDATE_EDITING\"],\n      payload: _objectSpread(_objectSpread({}, currentlyEditing), {}, {\n        data: newValue\n      })\n    });\n  };\n\n  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsxDEV\"])(\"div\", {\n    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsxDEV\"])(react_trix_rte__WEBPACK_IMPORTED_MODULE_5__[\"ReactTrixRTEInput\"], {\n      defaultValue: currentlyEditing.data,\n      onChange: handleTextChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(TextContent, \"+OgxiXL+E6diK/22SaWUfMrQ+dQ=\", false, function () {\n  return [react_redux__WEBPACK_IMPORTED_MODULE_3__[\"useSelector\"], react_redux__WEBPACK_IMPORTED_MODULE_3__[\"useDispatch\"]];\n});\n\n_c = TextContent;\n/* harmony default export */ __webpack_exports__[\"default\"] = (TextContent);\n\nvar _c;\n\n$RefreshReg$(_c, \"TextContent\");\n\n;\n    var _a, _b;\n    // Legacy CSS implementations will `eval` browser code in a Node.js context\n    // to extract CSS. For backwards compatibility, we need to check we're in a\n    // browser context before continuing.\n    if (typeof self !== 'undefined' &&\n        // AMP / No-JS mode does not inject these helpers:\n        '$RefreshHelpers$' in self) {\n        var currentExports = module.__proto__.exports;\n        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n        // This cannot happen in MainTemplate because the exports mismatch between\n        // templating and execution.\n        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.i);\n        // A module can be accepted automatically based on its exports, e.g. when\n        // it is a Refresh Boundary.\n        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n            // Save the previous exports on update so we can compare the boundary\n            // signatures.\n            module.hot.dispose(function (data) {\n                data.prevExports = currentExports;\n            });\n            // Unconditionally accept an update to this module, we'll check if it's\n            // still a Refresh Boundary later.\n            module.hot.accept();\n            // This field is set when the previous version of this module was a\n            // Refresh Boundary, letting us know we need to check for invalidation or\n            // enqueue an update.\n            if (prevExports !== null) {\n                // A boundary can become ineligible if its exports are incompatible\n                // with the previous exports.\n                //\n                // For example, if you add/remove/change exports, we'll want to\n                // re-execute the importing modules, and force those components to\n                // re-render. Similarly, if you convert a class component to a\n                // function, we want to invalidate the boundary.\n                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                    module.hot.invalidate();\n                }\n                else {\n                    self.$RefreshHelpers$.scheduleUpdate();\n                }\n            }\n        }\n        else {\n            // Since we just executed the code for the module, it's possible that the\n            // new exports made it ineligible for being a boundary.\n            // We only care about the case when we were _previously_ a boundary,\n            // because we already accepted this update (accidental side effect).\n            var isNoLongerABoundary = prevExports !== null;\n            if (isNoLongerABoundary) {\n                module.hot.invalidate();\n            }\n        }\n    }\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/webpack/buildin/harmony-module.js */ \"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvYnVpbGRlci90ZXh0L1RleHRDb250ZW50LmpzPzdlODgiXSwibmFtZXMiOlsiVGV4dENvbnRlbnQiLCJjdXJyZW50bHlFZGl0aW5nIiwidXNlU2VsZWN0b3IiLCJzdGF0ZSIsImRpc3BhdGNoIiwidXNlRGlzcGF0Y2giLCJoYW5kbGVUZXh0Q2hhbmdlIiwiZXZlbnQiLCJuZXdWYWx1ZSIsInR5cGUiLCJVUERBVEVfRURJVElORyIsInBheWxvYWQiLCJkYXRhIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFNQSxXQUFXLEdBQUcsU0FBZEEsV0FBYyxHQUFNO0FBQUE7O0FBQ3RCLE1BQU1DLGdCQUFnQixHQUFHQywrREFBVyxDQUFDLFVBQUNDLEtBQUQ7QUFBQSxXQUFXQSxLQUFLLENBQUNGLGdCQUFqQjtBQUFBLEdBQUQsQ0FBcEM7QUFDQSxNQUFNRyxRQUFRLEdBQUdDLCtEQUFXLEVBQTVCOztBQUVBLE1BQU1DLGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBbUIsQ0FBQ0MsS0FBRCxFQUFRQyxRQUFSLEVBQXFCO0FBQzFDSixZQUFRLENBQUM7QUFDTEssVUFBSSxFQUFFQywrREFERDtBQUVMQyxhQUFPLGtDQUNBVixnQkFEQTtBQUVIVyxZQUFJLEVBQUVKO0FBRkg7QUFGRixLQUFELENBQVI7QUFPSCxHQVJEOztBQVVBLHNCQUNJO0FBQUEsMkJBQ0kscUVBQUMsZ0VBQUQ7QUFBbUIsa0JBQVksRUFBRVAsZ0JBQWdCLENBQUNXLElBQWxEO0FBQXdELGNBQVEsRUFBRU47QUFBbEU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQURKO0FBQUE7QUFBQTtBQUFBO0FBQUEsV0FESjtBQUtILENBbkJEOztHQUFNTixXO1VBQ3VCRSx1RCxFQUNSRyx1RDs7O0tBRmZMLFc7QUFxQlNBLDBFQUFmIiwiZmlsZSI6Ii4vc3JjL2NvbXBvbmVudHMvYnVpbGRlci90ZXh0L1RleHRDb250ZW50LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgeyBVUERBVEVfRURJVElORyB9IGZyb20gJy4uLy4uLy4uL3JlZHV4L2NvbnN0YW50cydcbmltcG9ydCB7IFJlYWN0VHJpeFJURUlucHV0IH0gZnJvbSAncmVhY3QtdHJpeC1ydGUnXG5cbmNvbnN0IFRleHRDb250ZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRseUVkaXRpbmcgPSB1c2VTZWxlY3Rvcigoc3RhdGUpID0+IHN0YXRlLmN1cnJlbnRseUVkaXRpbmcpXG4gICAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpXG5cbiAgICBjb25zdCBoYW5kbGVUZXh0Q2hhbmdlID0gKGV2ZW50LCBuZXdWYWx1ZSkgPT4ge1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiBVUERBVEVfRURJVElORyxcbiAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAuLi5jdXJyZW50bHlFZGl0aW5nLFxuICAgICAgICAgICAgICAgIGRhdGE6IG5ld1ZhbHVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPFJlYWN0VHJpeFJURUlucHV0IGRlZmF1bHRWYWx1ZT17Y3VycmVudGx5RWRpdGluZy5kYXRhfSBvbkNoYW5nZT17aGFuZGxlVGV4dENoYW5nZX0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBUZXh0Q29udGVudFxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/builder/text/TextContent.js\n");

/***/ })

})